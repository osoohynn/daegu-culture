(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function YR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gp={exports:{}},cu={};var hE;function QR(){if(hE)return cu;hE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return cu.Fragment=e,cu.jsx=t,cu.jsxs=t,cu}var fE;function XR(){return fE||(fE=1,gp.exports=QR()),gp.exports}var D=XR(),yp={exports:{}},Ce={};var dE;function WR(){if(dE)return Ce;dE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function X(P,J,ae){this.props=P,this.context=J,this.refs=V,this.updater=ae||I}X.prototype.isReactComponent={},X.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},X.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function W(){}W.prototype=X.prototype;function G(P,J,ae){this.props=P,this.context=J,this.refs=V,this.updater=ae||I}var se=G.prototype=new W;se.constructor=G,B(se,X.prototype),se.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(P,J,ae){var le=ae.ref;return{$$typeof:i,type:P,key:J,ref:le!==void 0?le:null,props:ae}}function k(P,J){return x(P.type,J,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function j(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return J[ae]})}var N=/\/+/g;function Pe(P,J){return typeof P=="object"&&P!==null&&P.key!=null?j(""+P.key):J.toString(36)}function We(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ge,ge):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,J,ae,le,be){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(xe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case i:case e:Ee=!0;break;case v:return Ee=P._init,K(Ee(P._payload),J,ae,le,be)}}if(Ee)return be=be(P),Ee=le===""?"."+Pe(P,0):le,de(be)?(ae="",Ee!=null&&(ae=Ee.replace(N,"$&/")+"/"),K(be,J,ae,"",function(Vn){return Vn})):be!=null&&(L(be)&&(be=k(be,ae+(be.key==null||P&&P.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+Ee)),J.push(be)),1;Ee=0;var yt=le===""?".":le+":";if(de(P))for(var Je=0;Je<P.length;Je++)le=P[Je],xe=yt+Pe(le,Je),Ee+=K(le,J,ae,xe,be);else if(Je=S(P),typeof Je=="function")for(P=Je.call(P),Je=0;!(le=P.next()).done;)le=le.value,xe=yt+Pe(le,Je++),Ee+=K(le,J,ae,xe,be);else if(xe==="object"){if(typeof P.then=="function")return K(We(P),J,ae,le,be);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function oe(P,J,ae){if(P==null)return P;var le=[],be=0;return K(P,le,"","",function(xe){return J.call(ae,xe,be++)}),le}function re(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var Oe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},qe={map:oe,forEach:function(P,J,ae){oe(P,function(){J.apply(this,arguments)},ae)},count:function(P){var J=0;return oe(P,function(){J++}),J},toArray:function(P){return oe(P,function(J){return J})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ce.Activity=_,Ce.Children=qe,Ce.Component=X,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=G,Ce.StrictMode=r,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(P,J,ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var le=B({},P.props),be=P.key;if(J!=null)for(xe in J.key!==void 0&&(be=""+J.key),J)!A.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(le[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)le.children=ae;else if(1<xe){for(var Ee=Array(xe),yt=0;yt<xe;yt++)Ee[yt]=arguments[yt+2];le.children=Ee}return x(P.type,be,le)},Ce.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ce.createElement=function(P,J,ae){var le,be={},xe=null;if(J!=null)for(le in J.key!==void 0&&(xe=""+J.key),J)A.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=J[le]);var Ee=arguments.length-2;if(Ee===1)be.children=ae;else if(1<Ee){for(var yt=Array(Ee),Je=0;Je<Ee;Je++)yt[Je]=arguments[Je+2];be.children=yt}if(P&&P.defaultProps)for(le in Ee=P.defaultProps,Ee)be[le]===void 0&&(be[le]=Ee[le]);return x(P,xe,be)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:d,render:P}},Ce.isValidElement=L,Ce.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:re}},Ce.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},Ce.startTransition=function(P){var J=C.T,ae={};C.T=ae;try{var le=P(),be=C.S;be!==null&&be(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ge,Oe)}catch(xe){Oe(xe)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),C.T=J}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(P){return C.H.use(P)},Ce.useActionState=function(P,J,ae){return C.H.useActionState(P,J,ae)},Ce.useCallback=function(P,J){return C.H.useCallback(P,J)},Ce.useContext=function(P){return C.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,J){return C.H.useDeferredValue(P,J)},Ce.useEffect=function(P,J){return C.H.useEffect(P,J)},Ce.useEffectEvent=function(P){return C.H.useEffectEvent(P)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(P,J,ae){return C.H.useImperativeHandle(P,J,ae)},Ce.useInsertionEffect=function(P,J){return C.H.useInsertionEffect(P,J)},Ce.useLayoutEffect=function(P,J){return C.H.useLayoutEffect(P,J)},Ce.useMemo=function(P,J){return C.H.useMemo(P,J)},Ce.useOptimistic=function(P,J){return C.H.useOptimistic(P,J)},Ce.useReducer=function(P,J,ae){return C.H.useReducer(P,J,ae)},Ce.useRef=function(P){return C.H.useRef(P)},Ce.useState=function(P){return C.H.useState(P)},Ce.useSyncExternalStore=function(P,J,ae){return C.H.useSyncExternalStore(P,J,ae)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.0",Ce}var mE;function Vf(){return mE||(mE=1,yp.exports=WR()),yp.exports}var U=Vf();const JR=YR(U);var vp={exports:{}},hu={},_p={exports:{}},Ep={};var pE;function ZR(){return pE||(pE=1,(function(i){function e(K,oe){var re=K.length;K.push(oe);e:for(;0<re;){var Oe=re-1>>>1,qe=K[Oe];if(0<a(qe,oe))K[Oe]=oe,K[re]=qe,re=Oe;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],re=K.pop();if(re!==oe){K[0]=re;e:for(var Oe=0,qe=K.length,P=qe>>>1;Oe<P;){var J=2*(Oe+1)-1,ae=K[J],le=J+1,be=K[le];if(0>a(ae,re))le<qe&&0>a(be,ae)?(K[Oe]=be,K[le]=re,Oe=le):(K[Oe]=ae,K[J]=re,Oe=J);else if(le<qe&&0>a(be,re))K[Oe]=be,K[le]=re,Oe=le;else break e}}return oe}function a(K,oe){var re=K.sortIndex-oe.sortIndex;return re!==0?re:K.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,_=null,w=3,S=!1,I=!1,B=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function se(K){for(var oe=t(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=K)r(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(g)}}function de(K){if(B=!1,se(K),!I)if(t(m)!==null)I=!0,ge||(ge=!0,j());else{var oe=t(g);oe!==null&&We(de,oe.startTime-K)}}var ge=!1,C=-1,A=5,x=-1;function k(){return V?!0:!(i.unstable_now()-x<A)}function L(){if(V=!1,ge){var K=i.unstable_now();x=K;var oe=!0;try{e:{I=!1,B&&(B=!1,W(C),C=-1),S=!0;var re=w;try{t:{for(se(K),_=t(m);_!==null&&!(_.expirationTime>K&&k());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,w=_.priorityLevel;var qe=Oe(_.expirationTime<=K);if(K=i.unstable_now(),typeof qe=="function"){_.callback=qe,se(K),oe=!0;break t}_===t(m)&&r(m),se(K)}else r(m);_=t(m)}if(_!==null)oe=!0;else{var P=t(g);P!==null&&We(de,P.startTime-K),oe=!1}}break e}finally{_=null,w=re,S=!1}oe=void 0}}finally{oe?j():ge=!1}}}var j;if(typeof G=="function")j=function(){G(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Pe=N.port2;N.port1.onmessage=L,j=function(){Pe.postMessage(null)}}else j=function(){X(L,0)};function We(K,oe){C=X(function(){K(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(K){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var re=w;w=oe;try{return K()}finally{w=re}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=w;w=K;try{return oe()}finally{w=re}},i.unstable_scheduleCallback=function(K,oe,re){var Oe=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Oe+re:Oe):re=Oe,K){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=re+qe,K={id:v++,callback:oe,priorityLevel:K,startTime:re,expirationTime:qe,sortIndex:-1},re>Oe?(K.sortIndex=re,e(g,K),t(m)===null&&K===t(g)&&(B?(W(C),C=-1):B=!0,We(de,re-Oe))):(K.sortIndex=qe,e(m,K),I||S||(I=!0,ge||(ge=!0,j()))),K},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(K){var oe=w;return function(){var re=w;w=oe;try{return K.apply(this,arguments)}finally{w=re}}}})(Ep)),Ep}var gE;function ex(){return gE||(gE=1,_p.exports=ZR()),_p.exports}var bp={exports:{}},sn={};var yE;function tx(){if(yE)return sn;yE=1;var i=Vf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},sn.flushSync=function(m){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=v,r.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},sn.requestFormReset=function(m){r.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var vE;function nx(){if(vE)return bp.exports;vE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bp.exports=tx(),bp.exports}var _E;function ix(){if(_E)return hu;_E=1;var i=ex(),e=Vf(),t=nx();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),n;if(p===u)return m(f),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,T=f.child;T;){if(T===o){E=!0,o=f,u=p;break}if(T===u){E=!0,u=f,o=p;break}T=T.sibling}if(!E){for(T=p.child;T;){if(T===o){E=!0,o=p,u=f;break}if(T===u){E=!0,u=p,o=f;break}T=T.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),G=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case G:return n.displayName||"Context";case W:return(n._context.displayName||"Context")+".Consumer";case se:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:Pe(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return Pe(n(s))}catch{}}return null}var We=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Oe=[],qe=-1;function P(n){return{current:n}}function J(n){0>qe||(n.current=Oe[qe],Oe[qe]=null,qe--)}function ae(n,s){qe++,Oe[qe]=n.current,n.current=s}var le=P(null),be=P(null),xe=P(null),Ee=P(null);function yt(n,s){switch(ae(xe,s),ae(be,n),ae(le,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?P0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=P0(s),n=L0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(le),ae(le,n)}function Je(){J(le),J(be),J(xe)}function Vn(n){n.memoizedState!==null&&ae(Ee,n);var s=le.current,o=L0(s,n.type);s!==o&&(ae(be,n),ae(le,o))}function vi(n){be.current===n&&(J(le),J(be)),Ee.current===n&&(J(Ee),au._currentValue=re)}var ei,Ua;function _i(n){if(ei===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ei=s&&s[1]||"",Ua=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ei+n+Ua}var al=!1;function qs(n,s){if(!n||al)return"";al=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var $=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){$=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){$=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],T=p[1];if(E&&T){var O=E.split(`
`),H=T.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===H.length)for(u=O.length-1,f=H.length-1;1<=u&&0<=f&&O[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==H[f]){var Z=`
`+O[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{al=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?_i(o):""}function ol(n,s){switch(n.tag){case 26:case 27:case 5:return _i(n.type);case 16:return _i("Lazy");case 13:return n.child!==s&&s!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return qs(n.type,!1);case 11:return qs(n.type.render,!1);case 1:return qs(n.type,!0);case 31:return _i("Activity");default:return""}}function ll(n){try{var s="",o=null;do s+=ol(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,zt=i.unstable_scheduleCallback,Vr=i.unstable_cancelCallback,vd=i.unstable_shouldYield,cc=i.unstable_requestPaint,cn=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,ul=i.unstable_ImmediatePriority,cl=i.unstable_UserBlockingPriority,Ur=i.unstable_NormalPriority,_d=i.unstable_LowPriority,hc=i.unstable_IdlePriority,fc=i.log,dc=i.unstable_setDisableYieldValue,ti=null,Qt=null;function Un(n){if(typeof fc=="function"&&dc(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ti,n)}catch{}}var Tt=Math.clz32?Math.clz32:pc,mc=Math.log,ja=Math.LN2;function pc(n){return n>>>=0,n===0?32:31-(mc(n)/ja|0)|0}var Ei=256,Gs=262144,It=4194304;function bi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wi(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?f=bi(u):(E&=T,E!==0?f=bi(E):o||(o=T&~n,o!==0&&(f=bi(o))))):(T=u&~p,T!==0?f=bi(T):E!==0?f=bi(E):o||(o=u&~n,o!==0&&(f=bi(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function ni(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ed(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(){var n=It;return It<<=1,(It&62914560)===0&&(It=4194304),n}function Ti(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function $s(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function bd(n,s,o,u,f,p){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,O=n.expirationTimes,H=n.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Tt(o),ne=1<<Z;T[Z]=0,O[Z]=-1;var $=H[Z];if($!==null)for(H[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ne}u!==0&&Ks(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Ks(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Tt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function hl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Tt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function fl(n,s){var o=s&-s;return o=(o&42)!==0?1:Ys(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ys(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yc(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:rE(n.type))}function ii(n,s){var o=oe.p;try{return oe.p=n,s()}finally{oe.p=o}}var ri=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ri,Gt="__reactProps$"+ri,Si="__reactContainer$"+ri,za="__reactEvents$"+ri,wd="__reactListeners$"+ri,vc="__reactHandles$"+ri,_c="__reactResources$"+ri,Ai="__reactMarker$"+ri;function Ba(n){delete n[Nt],delete n[Gt],delete n[za],delete n[wd],delete n[vc]}function Ri(n){var s=n[Nt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Si]||o[Nt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=F0(n);n!==null;){if(o=n[Nt])return o;n=F0(n)}return s}n=o,o=n.parentNode}return null}function jn(n){if(n=n[Nt]||n[Si]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Rn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function xi(n){var s=n[_c];return s||(s=n[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(n){n[Ai]=!0}var dl=new Set,ml={};function Ci(n,s){Ii(n,s),Ii(n+"Capture",s)}function Ii(n,s){for(ml[n]=s,n=0;n<s.length;n++)dl.add(s[n])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function Ec(n){return Ct.call(yl,n)?!0:Ct.call(gl,n)?!1:pl.test(n)?yl[n]=!0:(gl[n]=!0,!1)}function Fa(n,s,o){if(Ec(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function xn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ot(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function $t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=jr(n)?"checked":"value";n._valueTracker=vl(n,s,""+n[s])}}function Qs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=jr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Ni(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xs=/[\n"\\]/g;function pn(n){return n.replace(Xs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qa(n,s,o,u,f,p,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+$t(s)):n.value!==""+$t(s)&&(n.value=""+$t(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?_l(n,E,$t(s)):o!=null?_l(n,E,$t(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+$t(T):n.removeAttribute("name")}function bc(n,s,o,u,f,p,E,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Ze(n);return}o=o!=null?""+$t(o):"",s=s!=null?""+$t(s):o,T||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Ze(n)}function _l(n,s,o){s==="number"&&Ni(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function zr(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+$t(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function wc(n,s,o){if(s!=null&&(s=""+$t(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+$t(o):""}function Br(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(We(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=$t(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function gn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Tc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Tc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function bl(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&El(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&El(n,p,s[p])}function Ha(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(n){return Fr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function si(){}var wl=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qr=null,Di=null;function Ws(n){var s=jn(n);if(s&&(n=s.stateNode)){var o=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(qa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Gt]||null;if(!f)throw Error(r(90));qa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Qs(u)}break e;case"textarea":wc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&zr(n,!!o.multiple,s,!1)}}}var $a=!1;function Hr(n,s,o){if($a)return n(s,o);$a=!0;try{var u=n(s);return u}finally{if($a=!1,(qr!==null||Di!==null)&&(yh(),qr&&(s=qr,n=Di,Di=qr=null,Ws(s),n)))for(s=0;s<n.length;s++)Ws(n[s])}}function ai(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Gt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(Bn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Js=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Js=!1}var Oi=null,Tl=null,Zs=null;function Sl(){if(Zs)return Zs;var n,s=Tl,o=s.length,u,f="value"in Oi?Oi.value:Oi.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[p-u];u++);return Zs=f.slice(n,1<u?1-u:void 0)}function ea(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function oi(){return!1}function Xt(n){function s(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?nr:oi,this.isPropagationStopped=oi,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Xt(ir),Gr=_({},ir,{view:0,detail:0}),Al=Xt(Gr),$r,Ka,Pi,Ya=_({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pi&&(Pi&&n.type==="mousemove"?($r=n.screenX-Pi.screenX,Ka=n.screenY-Pi.screenY):Ka=$r=0,Pi=n),$r)},movementY:function(n){return"movementY"in n?n.movementY:Ka}}),Rl=Xt(Ya),ta=_({},Ya,{dataTransfer:0}),Ac=Xt(ta),Rc=_({},Gr,{relatedTarget:0}),na=Xt(Rc),xl=_({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=Xt(xl),Qa=_({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Cc=Xt(Qa),Ic=_({},ir,{data:0}),Li=Xt(Ic),Nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Oc[n])?!!s[n]:!1}function Kr(){return kc}var hn=_({},Gr,{key:function(n){if(n.key){var s=Nc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Dc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(n){return n.type==="keypress"?ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pc=Xt(hn),Lc=_({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Xt(Lc),h=_({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),y=Xt(h),b=_({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xt(b),F=_({},Ya,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Xt(F),ue=_({},ir,{newState:0,oldState:0}),Ne=Xt(ue),St=[9,13,27,32],Ye=Bn&&"CompositionEvent"in window,dt=null;Bn&&"documentMode"in document&&(dt=document.documentMode);var Fn=Bn&&"TextEvent"in window&&!dt,Mi=Bn&&(!Ye||dt&&8<dt&&11>=dt),li=" ",ui=!1;function ia(n,s){switch(n){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wa=!1;function v1(n,s){switch(n){case"compositionend":return Xa(s);case"keypress":return s.which!==32?null:(ui=!0,li);case"textInput":return n=s.data,n===li&&ui?null:n;default:return null}}function _1(n,s){if(Wa)return n==="compositionend"||!Ye&&ia(n,s)?(n=Sl(),Zs=Tl=Oi=null,Wa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mi&&s.locale!=="ko"?null:s.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!E1[n.type]:s==="textarea"}function $y(n,s,o,u){qr?Di?Di.push(u):Di=[u]:qr=u,s=Sh(s,"onChange"),0<s.length&&(o=new ki("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Cl=null,Il=null;function b1(n){C0(n,0)}function Mc(n){var s=Rn(n);if(Qs(s))return n}function Ky(n,s){if(n==="change")return s}var Yy=!1;if(Bn){var Td;if(Bn){var Sd="oninput"in document;if(!Sd){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Sd=typeof Qy.oninput=="function"}Td=Sd}else Td=!1;Yy=Td&&(!document.documentMode||9<document.documentMode)}function Xy(){Cl&&(Cl.detachEvent("onpropertychange",Wy),Il=Cl=null)}function Wy(n){if(n.propertyName==="value"&&Mc(Il)){var s=[];$y(s,Il,n,zn(n)),Hr(b1,s)}}function w1(n,s,o){n==="focusin"?(Xy(),Cl=s,Il=o,Cl.attachEvent("onpropertychange",Wy)):n==="focusout"&&Xy()}function T1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mc(Il)}function S1(n,s){if(n==="click")return Mc(s)}function A1(n,s){if(n==="input"||n==="change")return Mc(s)}function R1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Cn=typeof Object.is=="function"?Object.is:R1;function Nl(n,s){if(Cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ct.call(s,f)||!Cn(n[f],s[f]))return!1}return!0}function Jy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zy(n,s){var o=Jy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jy(o)}}function ev(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ev(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function tv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ni(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Ni(n.document)}return s}function Ad(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var x1=Bn&&"documentMode"in document&&11>=document.documentMode,Ja=null,Rd=null,Dl=null,xd=!1;function nv(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xd||Ja==null||Ja!==Ni(u)||(u=Ja,"selectionStart"in u&&Ad(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Nl(Dl,u)||(Dl=u,u=Sh(Rd,"onSelect"),0<u.length&&(s=new ki("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Ja)))}function ra(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Za={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Cd={},iv={};Bn&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function sa(n){if(Cd[n])return Cd[n];if(!Za[n])return n;var s=Za[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in iv)return Cd[n]=s[o];return n}var rv=sa("animationend"),sv=sa("animationiteration"),av=sa("animationstart"),C1=sa("transitionrun"),I1=sa("transitionstart"),N1=sa("transitioncancel"),ov=sa("transitionend"),lv=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function ci(n,s){lv.set(n,s),Ci(s,[n])}var Vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},qn=[],eo=0,Nd=0;function Uc(){for(var n=eo,s=Nd=eo=0;s<n;){var o=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var f=qn[s];qn[s++]=null;var p=qn[s];if(qn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&uv(o,f,p)}}function jc(n,s,o,u){qn[eo++]=n,qn[eo++]=s,qn[eo++]=o,qn[eo++]=u,Nd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Dd(n,s,o,u){return jc(n,s,o,u),zc(n)}function aa(n,s){return jc(n,null,null,s),zc(n)}function uv(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-Tt(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function zc(n){if(50<Zl)throw Zl=0,zm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var to={};function D1(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,s,o,u){return new D1(n,s,o,u)}function Od(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,s){var o=n.alternate;return o===null?(o=In(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function cv(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Bc(n,s,o,u,f,p){var E=0;if(u=n,typeof n=="function")Od(n)&&(E=1);else if(typeof n=="string")E=MR(n,o,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=In(31,o,s,f),n.elementType=x,n.lanes=p,n;case B:return oa(o.children,f,p,s);case V:E=8,f|=24;break;case X:return n=In(12,o,s,f|2),n.elementType=X,n.lanes=p,n;case de:return n=In(13,o,s,f),n.elementType=de,n.lanes=p,n;case ge:return n=In(19,o,s,f),n.elementType=ge,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:E=10;break e;case W:E=9;break e;case se:E=11;break e;case C:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=In(E,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function oa(n,s,o,u){return n=In(7,n,u,s),n.lanes=o,n}function kd(n,s,o){return n=In(6,n,null,s),n.lanes=o,n}function hv(n){var s=In(18,null,null,0);return s.stateNode=n,s}function Pd(n,s,o){return s=In(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var fv=new WeakMap;function Hn(n,s){if(typeof n=="object"&&n!==null){var o=fv.get(n);return o!==void 0?o:(s={value:n,source:s,stack:ll(s)},fv.set(n,s),s)}return{value:n,source:s,stack:ll(s)}}var no=[],io=0,Fc=null,Ol=0,Gn=[],$n=0,Yr=null,Vi=1,Ui="";function ar(n,s){no[io++]=Ol,no[io++]=Fc,Fc=n,Ol=s}function dv(n,s,o){Gn[$n++]=Vi,Gn[$n++]=Ui,Gn[$n++]=Yr,Yr=n;var u=Vi;n=Ui;var f=32-Tt(u)-1;u&=~(1<<f),o+=1;var p=32-Tt(s)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Vi=1<<32-Tt(s)+f|o<<f|u,Ui=p+n}else Vi=1<<p|o<<f|u,Ui=n}function Ld(n){n.return!==null&&(ar(n,1),dv(n,1,0))}function Md(n){for(;n===Fc;)Fc=no[--io],no[io]=null,Ol=no[--io],no[io]=null;for(;n===Yr;)Yr=Gn[--$n],Gn[$n]=null,Ui=Gn[--$n],Gn[$n]=null,Vi=Gn[--$n],Gn[$n]=null}function mv(n,s){Gn[$n++]=Vi,Gn[$n++]=Ui,Gn[$n++]=Yr,Vi=s.id,Ui=s.overflow,Yr=n}var Wt=null,ut=null,He=!1,Qr=null,Kn=!1,Vd=Error(r(519));function Xr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Hn(s,n)),Vd}function pv(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Nt]=n,s[Gt]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<tu.length;o++)Ve(tu[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),bc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Br(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||O0(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=si),s=!0):s=!1,s||Xr(n,!0)}function gv(n){for(Wt=n.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Wt=Wt.return}}function ro(n){if(n!==Wt)return!1;if(!He)return gv(n),He=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||tp(n.type,n.memoizedProps)),o=!o),o&&ut&&Xr(n),gv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=B0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ut=B0(n)}else s===27?(s=ut,cs(n.type)?(n=ap,ap=null,ut=n):ut=s):ut=Wt?Qn(n.stateNode.nextSibling):null;return!0}function la(){ut=Wt=null,He=!1}function Ud(){var n=Qr;return n!==null&&(En===null?En=n:En.push.apply(En,n),Qr=null),n}function kl(n){Qr===null?Qr=[n]:Qr.push(n)}var jd=P(null),ua=null,or=null;function Wr(n,s,o){ae(jd,s._currentValue),s._currentValue=o}function lr(n){n._currentValue=jd.current,J(jd)}function zd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Bd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var O=0;O<s.length;O++)if(T.context===s[O]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),zd(p.return,o,n),u||(E=null);break e}p=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),zd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function so(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var T=f.type;Cn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Ee.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(au):n=[au])}f=f.return}n!==null&&Bd(s,n,o,u),s.flags|=262144}function qc(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ca(n){ua=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return yv(ua,n)}function Hc(n,s){return ua===null&&ca(n),yv(n,s)}function yv(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},or===null){if(n===null)throw Error(r(308));or=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else or=or.next=s;return o}var O1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},k1=i.unstable_scheduleCallback,P1=i.unstable_NormalPriority,kt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new O1,data:new Map,refCount:0}}function Pl(n){n.refCount--,n.refCount===0&&k1(P1,function(){n.controller.abort()})}var Ll=null,qd=0,ao=0,oo=null;function L1(n,s){if(Ll===null){var o=Ll=[];qd=0,ao=$m(),oo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return qd++,s.then(vv,vv),s}function vv(){if(--qd===0&&Ll!==null){oo!==null&&(oo.status="fulfilled");var n=Ll;Ll=null,ao=0,oo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function M1(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var _v=K.S;K.S=function(n,s){n0=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&L1(n,s),_v!==null&&_v(n,s)};var ha=P(null);function Hd(){var n=ha.current;return n!==null?n:ot.pooledCache}function Gc(n,s){s===null?ae(ha,ha.current):ae(ha,s.pool)}function Ev(){var n=Hd();return n===null?null:{parent:kt._currentValue,pool:n}}var lo=Error(r(460)),Gd=Error(r(474)),$c=Error(r(542)),Kc={then:function(){}};function bv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function wv(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(si,si),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Sv(n),n;default:if(typeof s.status=="string")s.then(si,si);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Sv(n),n}throw da=s,lo}}function fa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(da=o,lo):o}}var da=null;function Tv(){if(da===null)throw Error(r(459));var n=da;return da=null,n}function Sv(n){if(n===lo||n===$c)throw Error(r(483))}var uo=null,Ml=0;function Yc(n){var s=Ml;return Ml+=1,uo===null&&(uo=[]),wv(uo,n,s)}function Vl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Qc(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Av(n){function s(z,M){if(n){var q=z.deletions;q===null?(z.deletions=[M],z.flags|=16):q.push(M)}}function o(z,M){if(!n)return null;for(;M!==null;)s(z,M),M=M.sibling;return null}function u(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=sr(z,M),z.index=0,z.sibling=null,z}function p(z,M,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<M?(z.flags|=67108866,M):q):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,q,ee){return M===null||M.tag!==6?(M=kd(q,z.mode,ee),M.return=z,M):(M=f(M,q),M.return=z,M)}function O(z,M,q,ee){var ve=q.type;return ve===B?Z(z,M,q.props.children,ee,q.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&fa(ve)===M.type)?(M=f(M,q.props),Vl(M,q),M.return=z,M):(M=Bc(q.type,q.key,q.props,null,z.mode,ee),Vl(M,q),M.return=z,M)}function H(z,M,q,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Pd(q,z.mode,ee),M.return=z,M):(M=f(M,q.children||[]),M.return=z,M)}function Z(z,M,q,ee,ve){return M===null||M.tag!==7?(M=oa(q,z.mode,ee,ve),M.return=z,M):(M=f(M,q),M.return=z,M)}function ne(z,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kd(""+M,z.mode,q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return q=Bc(M.type,M.key,M.props,null,z.mode,q),Vl(q,M),q.return=z,q;case I:return M=Pd(M,z.mode,q),M.return=z,M;case A:return M=fa(M),ne(z,M,q)}if(We(M)||j(M))return M=oa(M,z.mode,q,null),M.return=z,M;if(typeof M.then=="function")return ne(z,Yc(M),q);if(M.$$typeof===G)return ne(z,Hc(z,M),q);Qc(z,M)}return null}function $(z,M,q,ee){var ve=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:T(z,M,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===ve?O(z,M,q,ee):null;case I:return q.key===ve?H(z,M,q,ee):null;case A:return q=fa(q),$(z,M,q,ee)}if(We(q)||j(q))return ve!==null?null:Z(z,M,q,ee,null);if(typeof q.then=="function")return $(z,M,Yc(q),ee);if(q.$$typeof===G)return $(z,M,Hc(z,q),ee);Qc(z,q)}return null}function Q(z,M,q,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(q)||null,T(M,z,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return z=z.get(ee.key===null?q:ee.key)||null,O(M,z,ee,ve);case I:return z=z.get(ee.key===null?q:ee.key)||null,H(M,z,ee,ve);case A:return ee=fa(ee),Q(z,M,q,ee,ve)}if(We(ee)||j(ee))return z=z.get(q)||null,Z(M,z,ee,ve,null);if(typeof ee.then=="function")return Q(z,M,q,Yc(ee),ve);if(ee.$$typeof===G)return Q(z,M,q,Hc(M,ee),ve);Qc(M,ee)}return null}function fe(z,M,q,ee){for(var ve=null,$e=null,ye=M,ke=M=0,je=null;ye!==null&&ke<q.length;ke++){ye.index>ke?(je=ye,ye=null):je=ye.sibling;var Ke=$(z,ye,q[ke],ee);if(Ke===null){ye===null&&(ye=je);break}n&&ye&&Ke.alternate===null&&s(z,ye),M=p(Ke,M,ke),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke,ye=je}if(ke===q.length)return o(z,ye),He&&ar(z,ke),ve;if(ye===null){for(;ke<q.length;ke++)ye=ne(z,q[ke],ee),ye!==null&&(M=p(ye,M,ke),$e===null?ve=ye:$e.sibling=ye,$e=ye);return He&&ar(z,ke),ve}for(ye=u(ye);ke<q.length;ke++)je=Q(ye,z,ke,q[ke],ee),je!==null&&(n&&je.alternate!==null&&ye.delete(je.key===null?ke:je.key),M=p(je,M,ke),$e===null?ve=je:$e.sibling=je,$e=je);return n&&ye.forEach(function(ps){return s(z,ps)}),He&&ar(z,ke),ve}function we(z,M,q,ee){if(q==null)throw Error(r(151));for(var ve=null,$e=null,ye=M,ke=M=0,je=null,Ke=q.next();ye!==null&&!Ke.done;ke++,Ke=q.next()){ye.index>ke?(je=ye,ye=null):je=ye.sibling;var ps=$(z,ye,Ke.value,ee);if(ps===null){ye===null&&(ye=je);break}n&&ye&&ps.alternate===null&&s(z,ye),M=p(ps,M,ke),$e===null?ve=ps:$e.sibling=ps,$e=ps,ye=je}if(Ke.done)return o(z,ye),He&&ar(z,ke),ve;if(ye===null){for(;!Ke.done;ke++,Ke=q.next())Ke=ne(z,Ke.value,ee),Ke!==null&&(M=p(Ke,M,ke),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return He&&ar(z,ke),ve}for(ye=u(ye);!Ke.done;ke++,Ke=q.next())Ke=Q(ye,z,ke,Ke.value,ee),Ke!==null&&(n&&Ke.alternate!==null&&ye.delete(Ke.key===null?ke:Ke.key),M=p(Ke,M,ke),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return n&&ye.forEach(function(KR){return s(z,KR)}),He&&ar(z,ke),ve}function st(z,M,q,ee){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var ve=q.key;M!==null;){if(M.key===ve){if(ve=q.type,ve===B){if(M.tag===7){o(z,M.sibling),ee=f(M,q.props.children),ee.return=z,z=ee;break e}}else if(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&fa(ve)===M.type){o(z,M.sibling),ee=f(M,q.props),Vl(ee,q),ee.return=z,z=ee;break e}o(z,M);break}else s(z,M);M=M.sibling}q.type===B?(ee=oa(q.props.children,z.mode,ee,q.key),ee.return=z,z=ee):(ee=Bc(q.type,q.key,q.props,null,z.mode,ee),Vl(ee,q),ee.return=z,z=ee)}return E(z);case I:e:{for(ve=q.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){o(z,M.sibling),ee=f(M,q.children||[]),ee.return=z,z=ee;break e}else{o(z,M);break}else s(z,M);M=M.sibling}ee=Pd(q,z.mode,ee),ee.return=z,z=ee}return E(z);case A:return q=fa(q),st(z,M,q,ee)}if(We(q))return fe(z,M,q,ee);if(j(q)){if(ve=j(q),typeof ve!="function")throw Error(r(150));return q=ve.call(q),we(z,M,q,ee)}if(typeof q.then=="function")return st(z,M,Yc(q),ee);if(q.$$typeof===G)return st(z,M,Hc(z,q),ee);Qc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(o(z,M.sibling),ee=f(M,q),ee.return=z,z=ee):(o(z,M),ee=kd(q,z.mode,ee),ee.return=z,z=ee),E(z)):o(z,M)}return function(z,M,q,ee){try{Ml=0;var ve=st(z,M,q,ee);return uo=null,ve}catch(ye){if(ye===lo||ye===$c)throw ye;var $e=In(29,ye,null,z.mode);return $e.lanes=ee,$e.return=z,$e}finally{}}}var ma=Av(!0),Rv=Av(!1),Jr=!1;function $d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Zr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function es(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=zc(n),uv(n,null,o),s}return jc(n,u,s,o),zc(n)}function Ul(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,hl(n,o)}}function Yd(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Qd=!1;function jl(){if(Qd){var n=oo;if(n!==null)throw n}}function zl(n,s,o,u){Qd=!1;var f=n.updateQueue;Jr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var O=T,H=O.next;O.next=null,E===null?p=H:E.next=H,E=O;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=O))}if(p!==null){var ne=f.baseState;E=0,Z=H=O=null,T=p;do{var $=T.lane&-536870913,Q=$!==T.lane;if(Q?(Ue&$)===$:(u&$)===$){$!==0&&$===ao&&(Qd=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=n,we=T;$=s;var st=o;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){ne=fe.call(st,ne,$);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,$=typeof fe=="function"?fe.call(st,ne,$):fe,$==null)break e;ne=_({},ne,$);break e;case 2:Jr=!0}}$=T.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=Q,O=ne):Z=Z.next=Q,E|=$;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(O=ne),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),ss|=E,n.lanes=E,n.memoizedState=ne}}function xv(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Cv(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)xv(o[n],s)}var co=P(null),Xc=P(0);function Iv(n,s){n=yr,ae(Xc,n),ae(co,s),yr=n|s.baseLanes}function Xd(){ae(Xc,yr),ae(co,co.current)}function Wd(){yr=Xc.current,J(co),J(Xc)}var Nn=P(null),Yn=null;function ts(n){var s=n.alternate;ae(At,At.current&1),ae(Nn,n),Yn===null&&(s===null||co.current!==null||s.memoizedState!==null)&&(Yn=n)}function Jd(n){ae(At,At.current),ae(Nn,n),Yn===null&&(Yn=n)}function Nv(n){n.tag===22?(ae(At,At.current),ae(Nn,n),Yn===null&&(Yn=n)):ns()}function ns(){ae(At,At.current),ae(Nn,Nn.current)}function Dn(n){J(Nn),Yn===n&&(Yn=null),J(At)}var At=P(0);function Wc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||rp(o)||sp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,De=null,it=null,Pt=null,Jc=!1,ho=!1,pa=!1,Zc=0,Bl=0,fo=null,V1=0;function vt(){throw Error(r(321))}function Zd(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Cn(n[o],s[o]))return!1;return!0}function em(n,s,o,u,f,p){return ur=p,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=n===null||n.memoizedState===null?d_:pm,pa=!1,p=o(u,f),pa=!1,ho&&(p=Ov(s,o,u,f)),Dv(n),p}function Dv(n){K.H=Hl;var s=it!==null&&it.next!==null;if(ur=0,Pt=it=De=null,Jc=!1,Bl=0,fo=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&qc(n)&&(Lt=!0))}function Ov(n,s,o,u){De=n;var f=0;do{if(ho&&(fo=null),Bl=0,ho=!1,25<=f)throw Error(r(301));if(f+=1,Pt=it=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=m_,p=s(o,u)}while(ho);return p}function U1(){var n=K.H,s=n.useState()[0];return s=typeof s.then=="function"?Fl(s):s,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(De.flags|=1024),s}function tm(){var n=Zc!==0;return Zc=0,n}function nm(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function im(n){if(Jc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Jc=!1}ur=0,Pt=it=De=null,ho=!1,Bl=Zc=0,fo=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?De.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Rt(){if(it===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var s=Pt===null?De.memoizedState:Pt.next;if(s!==null)Pt=s,it=n;else{if(n===null)throw De.alternate===null?Error(r(467)):Error(r(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?De.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(n){var s=Bl;return Bl+=1,fo===null&&(fo=[]),n=wv(fo,n,s),s=De,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?d_:pm),n}function th(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fl(n);if(n.$$typeof===G)return Jt(n)}throw Error(r(438,String(n)))}function rm(n){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=eh(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=k;return s.index++,o}function cr(n,s){return typeof s=="function"?s(n):s}function nh(n){var s=Rt();return sm(s,it,n)}function sm(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var T=E=null,O=null,H=s,Z=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Ue&ne)===ne:(ur&ne)===ne){var $=H.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===ao&&(Z=!0);else if((ur&$)===$){H=H.next,$===ao&&(Z=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=ne,E=p):O=O.next=ne,De.lanes|=$,ss|=$;ne=H.action,pa&&o(p,ne),p=H.hasEagerState?H.eagerState:o(p,ne)}else $={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=$,E=p):O=O.next=$,De.lanes|=ne,ss|=ne;H=H.next}while(H!==null&&H!==s);if(O===null?E=p:O.next=T,!Cn(p,n.memoizedState)&&(Lt=!0,Z&&(o=oo,o!==null)))throw o;n.memoizedState=p,n.baseState=E,n.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function am(n){var s=Rt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Cn(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function kv(n,s,o){var u=De,f=Rt(),p=He;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Cn((it||f).memoizedState,o);if(E&&(f.memoizedState=o,Lt=!0),f=f.queue,um(Mv.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,mo(9,{destroy:void 0},Lv.bind(null,u,f,o,s),null),ot===null)throw Error(r(349));p||(ur&127)!==0||Pv(u,s,o)}return o}function Pv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=eh(),De.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Lv(n,s,o,u){s.value=o,s.getSnapshot=u,Vv(s)&&Uv(n)}function Mv(n,s,o){return o(function(){Vv(s)&&Uv(n)})}function Vv(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Cn(n,o)}catch{return!0}}function Uv(n){var s=aa(n,2);s!==null&&bn(s,n,2)}function om(n){var s=fn();if(typeof n=="function"){var o=n;if(n=o(),pa){Un(!0);try{o()}finally{Un(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:n},s}function jv(n,s,o,u){return n.baseState=o,sm(n,it,typeof u=="function"?u:cr)}function j1(n,s,o,u,f){if(sh(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};K.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,zv(s,p)):(p.next=o.next,s.pending=o.next=p)}}function zv(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=K.T,E={};K.T=E;try{var T=o(f,u),O=K.S;O!==null&&O(E,T),Bv(n,s,T)}catch(H){lm(n,s,H)}finally{p!==null&&E.types!==null&&(p.types=E.types),K.T=p}}else try{p=o(f,u),Bv(n,s,p)}catch(H){lm(n,s,H)}}function Bv(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Fv(n,s,u)},function(u){return lm(n,s,u)}):Fv(n,s,o)}function Fv(n,s,o){s.status="fulfilled",s.value=o,qv(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,zv(n,o)))}function lm(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,qv(s),s=s.next;while(s!==u)}n.action=null}function qv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Hv(n,s){return s}function Gv(n,s){if(He){var o=ot.formState;if(o!==null){e:{var u=De;if(He){if(ut){t:{for(var f=ut,p=Kn;f.nodeType!==8;){if(!p){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ut=Qn(f.nextSibling),u=f.data==="F!";break e}}Xr(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hv,lastRenderedState:s},o.queue=u,o=c_.bind(null,De,u),u.dispatch=o,u=om(!1),p=mm.bind(null,De,!1,u.queue),u=fn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=j1.bind(null,De,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function $v(n){var s=Rt();return Kv(s,it,n)}function Kv(n,s,o){if(s=sm(n,s,Hv)[0],n=nh(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Fl(s)}catch(E){throw E===lo?$c:E}else u=s;s=Rt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(De.flags|=2048,mo(9,{destroy:void 0},z1.bind(null,f,o),null)),[u,p,n]}function z1(n,s){n.action=s}function Yv(n){var s=Rt(),o=it;if(o!==null)return Kv(s,o,n);Rt(),s=s.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function mo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=eh(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Qv(){return Rt().memoizedState}function ih(n,s,o,u){var f=fn();De.flags|=n,f.memoizedState=mo(1|s,{destroy:void 0},o,u===void 0?null:u)}function rh(n,s,o,u){var f=Rt();u=u===void 0?null:u;var p=f.memoizedState.inst;it!==null&&u!==null&&Zd(u,it.memoizedState.deps)?f.memoizedState=mo(s,p,o,u):(De.flags|=n,f.memoizedState=mo(1|s,p,o,u))}function Xv(n,s){ih(8390656,8,n,s)}function um(n,s){rh(2048,8,n,s)}function B1(n){De.flags|=4;var s=De.updateQueue;if(s===null)s=eh(),De.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Wv(n){var s=Rt().memoizedState;return B1({ref:s,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Jv(n,s){return rh(4,2,n,s)}function Zv(n,s){return rh(4,4,n,s)}function e_(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function t_(n,s,o){o=o!=null?o.concat([n]):null,rh(4,4,e_.bind(null,s,n),o)}function cm(){}function n_(n,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Zd(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function i_(n,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Zd(s,u[1]))return u[0];if(u=n(),pa){Un(!0);try{n()}finally{Un(!1)}}return o.memoizedState=[u,s],u}function hm(n,s,o){return o===void 0||(ur&1073741824)!==0&&(Ue&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=r0(),De.lanes|=n,ss|=n,o)}function r_(n,s,o,u){return Cn(o,s)?o:co.current!==null?(n=hm(n,o,u),Cn(n,s)||(Lt=!0),n):(ur&42)===0||(ur&1073741824)!==0&&(Ue&261930)===0?(Lt=!0,n.memoizedState=o):(n=r0(),De.lanes|=n,ss|=n,s)}function s_(n,s,o,u,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var E=K.T,T={};K.T=T,mm(n,!1,s,o);try{var O=f(),H=K.S;if(H!==null&&H(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=M1(O,u);ql(n,s,Z,Pn(n))}else ql(n,s,u,Pn(n))}catch(ne){ql(n,s,{then:function(){},status:"rejected",reason:ne},Pn())}finally{oe.p=p,E!==null&&T.types!==null&&(E.types=T.types),K.T=E}}function F1(){}function fm(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=a_(n).queue;s_(n,f,s,re,o===null?F1:function(){return o_(n),o(u)})}function a_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function o_(n){var s=a_(n);s.next===null&&(s=n.alternate.memoizedState),ql(n,s.next.queue,{},Pn())}function dm(){return Jt(au)}function l_(){return Rt().memoizedState}function u_(){return Rt().memoizedState}function q1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Pn();n=Zr(o);var u=es(s,n,o);u!==null&&(bn(u,s,o),Ul(u,s,o)),s={cache:Fd()},n.payload=s;return}s=s.return}}function H1(n,s,o){var u=Pn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sh(n)?h_(s,o):(o=Dd(n,s,o,u),o!==null&&(bn(o,n,u),f_(o,s,u)))}function c_(n,s,o){var u=Pn();ql(n,s,o,u)}function ql(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(sh(n))h_(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,T=p(E,o);if(f.hasEagerState=!0,f.eagerState=T,Cn(T,E))return jc(n,s,f,0),ot===null&&Uc(),!1}catch{}finally{}if(o=Dd(n,s,f,u),o!==null)return bn(o,n,u),f_(o,s,u),!0}return!1}function mm(n,s,o,u){if(u={lane:2,revertLane:$m(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sh(n)){if(s)throw Error(r(479))}else s=Dd(n,o,u,2),s!==null&&bn(s,n,2)}function sh(n){var s=n.alternate;return n===De||s!==null&&s===De}function h_(n,s){ho=Jc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function f_(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,hl(n,o)}}var Hl={readContext:Jt,use:th,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Hl.useEffectEvent=vt;var d_={readContext:Jt,use:th,useCallback:function(n,s){return fn().memoizedState=[n,s===void 0?null:s],n},useContext:Jt,useEffect:Xv,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,ih(4194308,4,e_.bind(null,s,n),o)},useLayoutEffect:function(n,s){return ih(4194308,4,n,s)},useInsertionEffect:function(n,s){ih(4,2,n,s)},useMemo:function(n,s){var o=fn();s=s===void 0?null:s;var u=n();if(pa){Un(!0);try{n()}finally{Un(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=fn();if(o!==void 0){var f=o(s);if(pa){Un(!0);try{o(s)}finally{Un(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=H1.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=fn();return n={current:n},s.memoizedState=n},useState:function(n){n=om(n);var s=n.queue,o=c_.bind(null,De,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:cm,useDeferredValue:function(n,s){var o=fn();return hm(o,n,s)},useTransition:function(){var n=om(!1);return n=s_.bind(null,De,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=De,f=fn();if(He){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ot===null)throw Error(r(349));(Ue&127)!==0||Pv(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,Xv(Mv.bind(null,u,p,n),[n]),u.flags|=2048,mo(9,{destroy:void 0},Lv.bind(null,u,p,o,s),null),o},useId:function(){var n=fn(),s=ot.identifierPrefix;if(He){var o=Ui,u=Vi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Zc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=V1++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:dm,useFormState:Gv,useActionState:Gv,useOptimistic:function(n){var s=fn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=mm.bind(null,De,!0,o),o.dispatch=s,[n,s]},useMemoCache:rm,useCacheRefresh:function(){return fn().memoizedState=q1.bind(null,De)},useEffectEvent:function(n){var s=fn(),o={impl:n};return s.memoizedState=o,function(){if((Qe&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},pm={readContext:Jt,use:th,useCallback:n_,useContext:Jt,useEffect:um,useImperativeHandle:t_,useInsertionEffect:Jv,useLayoutEffect:Zv,useMemo:i_,useReducer:nh,useRef:Qv,useState:function(){return nh(cr)},useDebugValue:cm,useDeferredValue:function(n,s){var o=Rt();return r_(o,it.memoizedState,n,s)},useTransition:function(){var n=nh(cr)[0],s=Rt().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:kv,useId:l_,useHostTransitionStatus:dm,useFormState:$v,useActionState:$v,useOptimistic:function(n,s){var o=Rt();return jv(o,it,n,s)},useMemoCache:rm,useCacheRefresh:u_};pm.useEffectEvent=Wv;var m_={readContext:Jt,use:th,useCallback:n_,useContext:Jt,useEffect:um,useImperativeHandle:t_,useInsertionEffect:Jv,useLayoutEffect:Zv,useMemo:i_,useReducer:am,useRef:Qv,useState:function(){return am(cr)},useDebugValue:cm,useDeferredValue:function(n,s){var o=Rt();return it===null?hm(o,n,s):r_(o,it.memoizedState,n,s)},useTransition:function(){var n=am(cr)[0],s=Rt().memoizedState;return[typeof n=="boolean"?n:Fl(n),s]},useSyncExternalStore:kv,useId:l_,useHostTransitionStatus:dm,useFormState:Yv,useActionState:Yv,useOptimistic:function(n,s){var o=Rt();return it!==null?jv(o,it,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:rm,useCacheRefresh:u_};m_.useEffectEvent=Wv;function gm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ym={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Pn(),f=Zr(u);f.payload=s,o!=null&&(f.callback=o),s=es(n,f,u),s!==null&&(bn(s,n,u),Ul(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Pn(),f=Zr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=es(n,f,u),s!==null&&(bn(s,n,u),Ul(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Pn(),u=Zr(o);u.tag=2,s!=null&&(u.callback=s),s=es(n,u,o),s!==null&&(bn(s,n,o),Ul(s,n,o))}};function p_(n,s,o,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!Nl(o,u)||!Nl(f,p):!0}function g_(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&ym.enqueueReplaceState(s,s.state,null)}function ga(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function y_(n){Vc(n)}function v_(n){console.error(n)}function __(n){Vc(n)}function ah(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function E_(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vm(n,s,o){return o=Zr(o),o.tag=3,o.payload={element:null},o.callback=function(){ah(n,s)},o}function b_(n){return n=Zr(n),n.tag=3,n}function w_(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){E_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){E_(s,o,u),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function G1(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&so(s,o,f,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Yn===null?vh():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Kc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),qm(n,u,f)),!1;case 22:return o.flags|=65536,u===Kc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),qm(n,u,f)),!1}throw Error(r(435,o.tag))}return qm(n,u,f),vh(),!1}if(He)return s=Nn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Vd&&(n=Error(r(422),{cause:u}),kl(Hn(n,o)))):(u!==Vd&&(s=Error(r(423),{cause:u}),kl(Hn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Hn(u,o),f=vm(n.stateNode,u,f),Yd(n,f),_t!==4&&(_t=2)),!1;var p=Error(r(520),{cause:u});if(p=Hn(p,o),Jl===null?Jl=[p]:Jl.push(p),_t!==4&&(_t=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=vm(o.stateNode,u,n),Yd(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(as===null||!as.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=b_(f),w_(f,n,o,u),Yd(o,f),!1}o=o.return}while(o!==null);return!1}var _m=Error(r(461)),Lt=!1;function Zt(n,s,o,u){s.child=n===null?Rv(s,null,o,u):ma(s,n.child,o,u)}function T_(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var T in u)T!=="ref"&&(E[T]=u[T])}else E=u;return ca(s),u=em(n,s,o,E,p,f),T=tm(),n!==null&&!Lt?(nm(n,s,f),hr(n,s,f)):(He&&T&&Ld(s),s.flags|=1,Zt(n,s,u,f),s.child)}function S_(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!Od(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,A_(n,s,p,u,f)):(n=Bc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!xm(n,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Nl,o(E,u)&&n.ref===s.ref)return hr(n,s,f)}return s.flags|=1,n=sr(p,u),n.ref=s.ref,n.return=s,s.child=n}function A_(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(Nl(p,u)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=u=p,xm(n,f))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,hr(n,s,f)}return Em(n,s,o,u,f)}function R_(n,s,o,u){var f=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return x_(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Gc(s,p!==null?p.cachePool:null),p!==null?Iv(s,p):Xd(),Nv(s);else return u=s.lanes=536870912,x_(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Gc(s,p.cachePool),Iv(s,p),ns(),s.memoizedState=null):(n!==null&&Gc(s,null),Xd(),ns());return Zt(n,s,f,o),s.child}function Gl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function x_(n,s,o,u,f){var p=Hd();return p=p===null?null:{parent:kt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&Gc(s,null),Xd(),Nv(s),n!==null&&so(n,s,u,!0),s.childLanes=f,null}function oh(n,s){return s=uh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function C_(n,s,o){return ma(s,n.child,null,o),n=oh(s,s.pendingProps),n.flags|=2,Dn(s),s.memoizedState=null,n}function $1(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=oh(s,u),s.lanes=536870912,Gl(null,n);if(Jd(s),(n=ut)?(n=z0(n,Kn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Yr!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},o=hv(n),o.return=s,s.child=o,Wt=s,ut=null)):n=null,n===null)throw Xr(s);return s.lanes=536870912,null}return oh(s,u)}var p=n.memoizedState;if(p!==null){var E=p.dehydrated;if(Jd(s),f)if(s.flags&256)s.flags&=-257,s=C_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||so(n,s,o,!1),f=(o&n.childLanes)!==0,Lt||f){if(u=ot,u!==null&&(E=fl(u,o),E!==0&&E!==p.retryLane))throw p.retryLane=E,aa(n,E),bn(u,n,E),_m;vh(),s=C_(n,s,o)}else n=p.treeContext,ut=Qn(E.nextSibling),Wt=s,He=!0,Qr=null,Kn=!1,n!==null&&mv(s,n),s=oh(s,u),s.flags|=4096;return s}return n=sr(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function lh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Em(n,s,o,u,f){return ca(s),o=em(n,s,o,u,void 0,f),u=tm(),n!==null&&!Lt?(nm(n,s,f),hr(n,s,f)):(He&&u&&Ld(s),s.flags|=1,Zt(n,s,o,f),s.child)}function I_(n,s,o,u,f,p){return ca(s),s.updateQueue=null,o=Ov(s,u,o,f),Dv(n),u=tm(),n!==null&&!Lt?(nm(n,s,p),hr(n,s,p)):(He&&u&&Ld(s),s.flags|=1,Zt(n,s,o,p),s.child)}function N_(n,s,o,u,f){if(ca(s),s.stateNode===null){var p=to,E=o.contextType;typeof E=="object"&&E!==null&&(p=Jt(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ym,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},$d(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?Jt(E):to,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(gm(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&ym.enqueueReplaceState(p,p.state,null),zl(s,u,p,f),jl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var T=s.memoizedProps,O=ga(o,T);p.props=O;var H=p.context,Z=o.contextType;E=to,typeof Z=="object"&&Z!==null&&(E=Jt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||H!==E)&&g_(s,p,u,E),Jr=!1;var $=s.memoizedState;p.state=$,zl(s,u,p,f),jl(),H=s.memoizedState,T||$!==H||Jr?(typeof ne=="function"&&(gm(s,o,ne,u),H=s.memoizedState),(O=Jr||p_(s,o,O,u,$,H,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),p.props=u,p.state=H,p.context=E,u=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,Kd(n,s),E=s.memoizedProps,Z=ga(o,E),p.props=Z,ne=s.pendingProps,$=p.context,H=o.contextType,O=to,typeof H=="object"&&H!==null&&(O=Jt(H)),T=o.getDerivedStateFromProps,(H=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ne||$!==O)&&g_(s,p,u,O),Jr=!1,$=s.memoizedState,p.state=$,zl(s,u,p,f),jl();var Q=s.memoizedState;E!==ne||$!==Q||Jr||n!==null&&n.dependencies!==null&&qc(n.dependencies)?(typeof T=="function"&&(gm(s,o,T,u),Q=s.memoizedState),(Z=Jr||p_(s,o,Z,u,$,Q,O)||n!==null&&n.dependencies!==null&&qc(n.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Q,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Q,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),p.props=u,p.state=Q,p.context=O,u=Z):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,lh(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=ma(s,n.child,null,f),s.child=ma(s,null,o,f)):Zt(n,s,o,f),s.memoizedState=p.state,n=s.child):n=hr(n,s,f),n}function D_(n,s,o,u){return la(),s.flags|=256,Zt(n,s,o,u),s.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(n){return{baseLanes:n,cachePool:Ev()}}function Tm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=kn),n}function O_(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?ts(s):ns(),(n=ut)?(n=z0(n,Kn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Yr!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},o=hv(n),o.return=s,s.child=o,Wt=s,ut=null)):n=null,n===null)throw Xr(s);return sp(n)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,f?(ns(),f=s.mode,T=uh({mode:"hidden",children:T},f),u=oa(u,f,o,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=wm(o),u.childLanes=Tm(n,E,o),s.memoizedState=bm,Gl(null,u)):(ts(s),Sm(s,T))}var O=n.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(p)s.flags&256?(ts(s),s.flags&=-257,s=Am(n,s,o)):s.memoizedState!==null?(ns(),s.child=n.child,s.flags|=128,s=null):(ns(),T=u.fallback,f=s.mode,u=uh({mode:"visible",children:u.children},f),T=oa(T,f,o,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,ma(s,n.child,null,o),u=s.child,u.memoizedState=wm(o),u.childLanes=Tm(n,E,o),s.memoizedState=bm,s=Gl(null,u));else if(ts(s),sp(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(r(419)),u.stack="",u.digest=E,kl({value:u,source:null,stack:null}),s=Am(n,s,o)}else if(Lt||so(n,s,o,!1),E=(o&n.childLanes)!==0,Lt||E){if(E=ot,E!==null&&(u=fl(E,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,aa(n,u),bn(E,n,u),_m;rp(T)||vh(),s=Am(n,s,o)}else rp(T)?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,ut=Qn(T.nextSibling),Wt=s,He=!0,Qr=null,Kn=!1,n!==null&&mv(s,n),s=Sm(s,u.children),s.flags|=4096);return s}return f?(ns(),T=u.fallback,f=s.mode,O=n.child,H=O.sibling,u=sr(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,H!==null?T=sr(H,T):(T=oa(T,f,o,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,Gl(null,u),u=s.child,T=n.child.memoizedState,T===null?T=wm(o):(f=T.cachePool,f!==null?(O=kt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Ev(),T={baseLanes:T.baseLanes|o,cachePool:f}),u.memoizedState=T,u.childLanes=Tm(n,E,o),s.memoizedState=bm,Gl(n.child,u)):(ts(s),o=n.child,n=o.sibling,o=sr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Sm(n,s){return s=uh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function uh(n,s){return n=In(22,n,null,s),n.lanes=0,n}function Am(n,s,o){return ma(s,n.child,null,o),n=Sm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function k_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),zd(n.return,s,o)}function Rm(n,s,o,u,f,p){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=p)}function P_(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var E=At.current,T=(E&2)!==0;if(T?(E=E&1|2,s.flags|=128):E&=1,ae(At,E),Zt(n,s,u,o),u=He?Ol:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&k_(n,o,s);else if(n.tag===19)k_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Wc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Rm(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Wc(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Rm(s,!0,o,null,p,u);break;case"together":Rm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function hr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ss|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(so(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=sr(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=sr(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function xm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&qc(n)))}function K1(n,s,o){switch(s.tag){case 3:yt(s,s.stateNode.containerInfo),Wr(s,kt,n.memoizedState.cache),la();break;case 27:case 5:Vn(s);break;case 4:yt(s,s.stateNode.containerInfo);break;case 10:Wr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Jd(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?O_(n,s,o):(ts(s),n=hr(n,s,o),n!==null?n.sibling:null);ts(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(so(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return P_(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(At,At.current),u)break;return null;case 22:return s.lanes=0,R_(n,s,o,s.pendingProps);case 24:Wr(s,kt,n.memoizedState.cache)}return hr(n,s,o)}function L_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!xm(n,o)&&(s.flags&128)===0)return Lt=!1,K1(n,s,o);Lt=(n.flags&131072)!==0}else Lt=!1,He&&(s.flags&1048576)!==0&&dv(s,Ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=fa(s.elementType),s.type=n,typeof n=="function")Od(n)?(u=ga(n,u),s.tag=1,s=N_(null,s,n,u,o)):(s.tag=0,s=Em(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===se){s.tag=11,s=T_(null,s,n,u,o);break e}else if(f===C){s.tag=14,s=S_(null,s,n,u,o);break e}}throw s=Pe(n)||n,Error(r(306,s,""))}}return s;case 0:return Em(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ga(u,s.pendingProps),N_(n,s,u,f,o);case 3:e:{if(yt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,Kd(n,s),zl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Wr(s,kt,u),u!==p.cache&&Bd(s,[kt],o,!0),jl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=D_(n,s,u,o);break e}else if(u!==f){f=Hn(Error(r(424)),s),kl(f),s=D_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Qn(n.firstChild),Wt=s,He=!0,Qr=null,Kn=!0,o=Rv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(la(),u===f){s=hr(n,s,o);break e}Zt(n,s,u,o)}s=s.child}return s;case 26:return lh(n,s),n===null?(o=$0(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,n=s.pendingProps,u=Ah(xe.current).createElement(o),u[Nt]=s,u[Gt]=n,en(u,o,n),Dt(u),s.stateNode=u):s.memoizedState=$0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Vn(s),n===null&&He&&(u=s.stateNode=q0(s.type,s.pendingProps,xe.current),Wt=s,Kn=!0,f=ut,cs(s.type)?(ap=f,ut=Qn(u.firstChild)):ut=f),Zt(n,s,s.pendingProps.children,o),lh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=ut)&&(u=TR(u,s.type,s.pendingProps,Kn),u!==null?(s.stateNode=u,Wt=s,ut=Qn(u.firstChild),Kn=!1,f=!0):f=!1),f||Xr(s)),Vn(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,tp(f,p)?u=null:E!==null&&tp(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=em(n,s,U1,null,null,o),au._currentValue=f),lh(n,s),Zt(n,s,u,o),s.child;case 6:return n===null&&He&&((n=o=ut)&&(o=SR(o,s.pendingProps,Kn),o!==null?(s.stateNode=o,Wt=s,ut=null,n=!0):n=!1),n||Xr(s)),null;case 13:return O_(n,s,o);case 4:return yt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ma(s,null,u,o):Zt(n,s,u,o),s.child;case 11:return T_(n,s,s.type,s.pendingProps,o);case 7:return Zt(n,s,s.pendingProps,o),s.child;case 8:return Zt(n,s,s.pendingProps.children,o),s.child;case 12:return Zt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Wr(s,s.type,u.value),Zt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ca(s),f=Jt(f),u=u(f),s.flags|=1,Zt(n,s,u,o),s.child;case 14:return S_(n,s,s.type,s.pendingProps,o);case 15:return A_(n,s,s.type,s.pendingProps,o);case 19:return P_(n,s,o);case 31:return $1(n,s,o);case 22:return R_(n,s,o,s.pendingProps);case 24:return ca(s),u=Jt(kt),n===null?(f=Hd(),f===null&&(f=ot,p=Fd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},$d(s),Wr(s,kt,f)):((n.lanes&o)!==0&&(Kd(n,s),zl(s,null,null,o),jl()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Wr(s,kt,u)):(u=p.cache,Wr(s,kt,u),u!==f.cache&&Bd(s,[kt],o,!0))),Zt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fr(n){n.flags|=4}function Cm(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(l0())n.flags|=8192;else throw da=Kc,Gd}else n.flags&=-16777217}function M_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!W0(s))if(l0())n.flags|=8192;else throw da=Kc,Gd}function ch(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?gc():536870912,n.lanes|=s,vo|=s)}function $l(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ct(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function Y1(n,s,o){var u=s.pendingProps;switch(Md(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),lr(kt),Je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ro(s)?fr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ud())),ct(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(fr(s),p!==null?(ct(s),M_(s,p)):(ct(s),Cm(s,f,null,u,o))):p?p!==n.memoizedState?(fr(s),ct(s),M_(s,p)):(ct(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&fr(s),ct(s),Cm(s,f,n,u,o)),null;case 27:if(vi(s),o=xe.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ct(s),null}n=le.current,ro(s)?pv(s):(n=q0(f,u,o),s.stateNode=n,fr(s))}return ct(s),null;case 5:if(vi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(p=le.current,ro(s))pv(s);else{var E=Ah(xe.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}p[Nt]=s,p[Gt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=p;e:switch(en(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fr(s)}}return ct(s),Cm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=xe.current,ro(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Nt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||O0(n.nodeValue,o)),n||Xr(s,!0)}else n=Ah(n).createTextNode(u),n[Nt]=s,s.stateNode=n}return ct(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=ro(s),o!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Nt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),n=!1}else o=Ud(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Dn(s),s):(Dn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ct(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ro(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Nt]=s}else la(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),f=!1}else f=Ud(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Dn(s),s):(Dn(s),null)}return Dn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),ch(s,s.updateQueue),ct(s),null);case 4:return Je(),n===null&&Xm(s.stateNode.containerInfo),ct(s),null;case 10:return lr(s.type),ct(s),null;case 19:if(J(At),u=s.memoizedState,u===null)return ct(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)$l(u,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Wc(n),p!==null){for(s.flags|=128,$l(u,!1),n=p.updateQueue,s.updateQueue=n,ch(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)cv(o,n),o=o.sibling;return ae(At,At.current&1|2),He&&ar(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&cn()>ph&&(s.flags|=128,f=!0,$l(u,!1),s.lanes=4194304)}else{if(!f)if(n=Wc(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,ch(s,n),$l(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!He)return ct(s),null}else 2*cn()-u.renderingStartTime>ph&&o!==536870912&&(s.flags|=128,f=!0,$l(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=cn(),n.sibling=null,o=At.current,ae(At,f?o&1|2:o&1),He&&ar(s,u.treeForkCount),n):(ct(s),null);case 22:case 23:return Dn(s),Wd(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),o=s.updateQueue,o!==null&&ch(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&J(ha),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),lr(kt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Q1(n,s){switch(Md(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return lr(kt),Je(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return vi(s),null;case 31:if(s.memoizedState!==null){if(Dn(s),s.alternate===null)throw Error(r(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Dn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));la()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return J(At),null;case 4:return Je(),null;case 10:return lr(s.type),null;case 22:case 23:return Dn(s),Wd(),n!==null&&J(ha),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return lr(kt),null;case 25:return null;default:return null}}function V_(n,s){switch(Md(s),s.tag){case 3:lr(kt),Je();break;case 26:case 27:case 5:vi(s);break;case 4:Je();break;case 31:s.memoizedState!==null&&Dn(s);break;case 13:Dn(s);break;case 19:J(At);break;case 10:lr(s.type);break;case 22:case 23:Dn(s),Wd(),n!==null&&J(ha);break;case 24:lr(kt)}}function Kl(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(T){tt(s,s.return,T)}}function is(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=s;var O=o,H=T;try{H()}catch(Z){tt(f,O,Z)}}}u=u.next}while(u!==p)}}catch(Z){tt(s,s.return,Z)}}function U_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{Cv(s,o)}catch(u){tt(n,n.return,u)}}}function j_(n,s,o){o.props=ga(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,s,u)}}function Yl(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,s,f)}}function ji(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,s,f)}else o.current=null}function z_(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Im(n,s,o){try{var u=n.stateNode;yR(u,n.type,o,s),u[Gt]=s}catch(f){tt(n,n.return,f)}}function B_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&cs(n.type)||n.tag===4}function Nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||B_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&cs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=si));else if(u!==4&&(u===27&&cs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Dm(n,s,o),n=n.sibling;n!==null;)Dm(n,s,o),n=n.sibling}function hh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&cs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(hh(n,s,o),n=n.sibling;n!==null;)hh(n,s,o),n=n.sibling}function F_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);en(s,u,o),s[Nt]=n,s[Gt]=o}catch(p){tt(n,n.return,p)}}var dr=!1,Mt=!1,Om=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function X1(n,s){if(n=n.containerInfo,Zm=Oh,n=tv(n),Ad(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,T=-1,O=-1,H=0,Z=0,ne=n,$=null;t:for(;;){for(var Q;ne!==o||f!==0&&ne.nodeType!==3||(T=E+f),ne!==p||u!==0&&ne.nodeType!==3||(O=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)$=ne,ne=Q;for(;;){if(ne===n)break t;if($===o&&++H===f&&(T=E),$===p&&++Z===u&&(O=E),(Q=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Q}o=T===-1||O===-1?null:{start:T,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(ep={focusedElem:n,selectionRange:o},Oh=!1,Kt=s;Kt!==null;)if(s=Kt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Kt=n;else for(;Kt!==null;){switch(s=Kt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var fe=ga(o.type,f);n=u.getSnapshotBeforeUpdate(fe,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){tt(o,o.return,we)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)ip(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ip(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Kt=n;break}Kt=s.return}}function H_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:pr(n,o),u&4&&Kl(5,o);break;case 1:if(pr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){tt(o,o.return,E)}else{var f=ga(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}u&64&&U_(o),u&512&&Yl(o,o.return);break;case 3:if(pr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Cv(n,s)}catch(E){tt(o,o.return,E)}}break;case 27:s===null&&u&4&&F_(o);case 26:case 5:pr(n,o),s===null&&u&4&&z_(o),u&512&&Yl(o,o.return);break;case 12:pr(n,o);break;case 31:pr(n,o),u&4&&K_(n,o);break;case 13:pr(n,o),u&4&&Y_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=sR.bind(null,o),AR(n,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){s=s!==null&&s.memoizedState!==null||Mt,f=dr;var p=Mt;dr=u,(Mt=s)&&!p?gr(n,o,(o.subtreeFlags&8772)!==0):pr(n,o),dr=f,Mt=p}break;case 30:break;default:pr(n,o)}}function G_(n){var s=n.alternate;s!==null&&(n.alternate=null,G_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ba(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,yn=!1;function mr(n,s,o){for(o=o.child;o!==null;)$_(n,s,o),o=o.sibling}function $_(n,s,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ti,o)}catch{}switch(o.tag){case 26:Mt||ji(o,s),mr(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||ji(o,s);var u=mt,f=yn;cs(o.type)&&(mt=o.stateNode,yn=!1),mr(n,s,o),iu(o.stateNode),mt=u,yn=f;break;case 5:Mt||ji(o,s);case 6:if(u=mt,f=yn,mt=null,mr(n,s,o),mt=u,yn=f,mt!==null)if(yn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(p){tt(o,s,p)}else try{mt.removeChild(o.stateNode)}catch(p){tt(o,s,p)}break;case 18:mt!==null&&(yn?(n=mt,U0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Ro(n)):U0(mt,o.stateNode));break;case 4:u=mt,f=yn,mt=o.stateNode.containerInfo,yn=!0,mr(n,s,o),mt=u,yn=f;break;case 0:case 11:case 14:case 15:is(2,o,s),Mt||is(4,o,s),mr(n,s,o);break;case 1:Mt||(ji(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&j_(o,s,u)),mr(n,s,o);break;case 21:mr(n,s,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,mr(n,s,o),Mt=u;break;default:mr(n,s,o)}}function K_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ro(n)}catch(o){tt(s,s.return,o)}}}function Y_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ro(n)}catch(o){tt(s,s.return,o)}}function W1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new q_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new q_),s;default:throw Error(r(435,n.tag))}}function fh(n,s){var o=W1(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=aR.bind(null,n,u);u.then(f,f)}})}function vn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,E=s,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(cs(T.type)){mt=T.stateNode,yn=!1;break e}break;case 5:mt=T.stateNode,yn=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(mt===null)throw Error(r(160));$_(p,E,f),mt=null,yn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Q_(s,n),s=s.sibling}var hi=null;function Q_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(s,n),_n(n),u&4&&(is(3,n,n.return),Kl(3,n),is(5,n,n.return));break;case 1:vn(s,n),_n(n),u&512&&(Mt||o===null||ji(o,o.return)),u&64&&dr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=hi;if(vn(s,n),_n(n),u&512&&(Mt||o===null||ji(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ai]||p[Nt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),en(p,u,o),p[Nt]=n,Dt(p),u=p;break e;case"link":var E=Q0("link","href",f).get(u+(o.href||""));if(E){for(var T=0;T<E.length;T++)if(p=E[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(T,1);break t}}p=f.createElement(u),en(p,u,o),f.head.appendChild(p);break;case"meta":if(E=Q0("meta","content",f).get(u+(o.content||""))){for(T=0;T<E.length;T++)if(p=E[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(T,1);break t}}p=f.createElement(u),en(p,u,o),f.head.appendChild(p);break;default:throw Error(r(468,u))}p[Nt]=n,Dt(p),u=p}n.stateNode=u}else X0(f,n.type,n.stateNode);else n.stateNode=Y0(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?X0(f,n.type,n.stateNode):Y0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Im(n,n.memoizedProps,o.memoizedProps)}break;case 27:vn(s,n),_n(n),u&512&&(Mt||o===null||ji(o,o.return)),o!==null&&u&4&&Im(n,n.memoizedProps,o.memoizedProps);break;case 5:if(vn(s,n),_n(n),u&512&&(Mt||o===null||ji(o,o.return)),n.flags&32){f=n.stateNode;try{gn(f,"")}catch(fe){tt(n,n.return,fe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Im(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Om=!0);break;case 6:if(vn(s,n),_n(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(fe){tt(n,n.return,fe)}}break;case 3:if(Ch=null,f=hi,hi=Rh(s.containerInfo),vn(s,n),hi=f,_n(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(s.containerInfo)}catch(fe){tt(n,n.return,fe)}Om&&(Om=!1,X_(n));break;case 4:u=hi,hi=Rh(n.stateNode.containerInfo),vn(s,n),_n(n),hi=u;break;case 12:vn(s,n),_n(n);break;case 31:vn(s,n),_n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fh(n,u)));break;case 13:vn(s,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mh=cn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fh(n,u)));break;case 22:f=n.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,H=dr,Z=Mt;if(dr=H||f,Mt=Z||O,vn(s,n),Mt=Z,dr=H,_n(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||O||dr||Mt||ya(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=O.stateNode;var ne=O.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(fe){tt(O,O.return,fe)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(fe){tt(O,O.return,fe)}}}else if(s.tag===18){if(o===null){O=s;try{var Q=O.stateNode;f?j0(Q,!0):j0(O.stateNode,!1)}catch(fe){tt(O,O.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,fh(n,o))));break;case 19:vn(s,n),_n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fh(n,u)));break;case 30:break;case 21:break;default:vn(s,n),_n(n)}}function _n(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(B_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,p=Nm(n);hh(n,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(gn(E,""),o.flags&=-33);var T=Nm(n);hh(n,T,E);break;case 3:case 4:var O=o.stateNode.containerInfo,H=Nm(n);Dm(n,H,O);break;default:throw Error(r(161))}}catch(Z){tt(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function X_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;X_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function pr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)H_(n,s.alternate,s),s=s.sibling}function ya(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:is(4,s,s.return),ya(s);break;case 1:ji(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&j_(s,s.return,o),ya(s);break;case 27:iu(s.stateNode);case 26:case 5:ji(s,s.return),ya(s);break;case 22:s.memoizedState===null&&ya(s);break;case 30:ya(s);break;default:ya(s)}n=n.sibling}}function gr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:gr(f,p,o),Kl(4,p);break;case 1:if(gr(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){tt(u,u.return,H)}if(u=p,f=u.updateQueue,f!==null){var T=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)xv(O[f],T)}catch(H){tt(u,u.return,H)}}o&&E&64&&U_(p),Yl(p,p.return);break;case 27:F_(p);case 26:case 5:gr(f,p,o),o&&u===null&&E&4&&z_(p),Yl(p,p.return);break;case 12:gr(f,p,o);break;case 31:gr(f,p,o),o&&E&4&&K_(f,p);break;case 13:gr(f,p,o),o&&E&4&&Y_(f,p);break;case 22:p.memoizedState===null&&gr(f,p,o),Yl(p,p.return);break;case 30:break;default:gr(f,p,o)}s=s.sibling}}function km(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Pl(o))}function Pm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n))}function fi(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W_(n,s,o,u),s=s.sibling}function W_(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:fi(n,s,o,u),f&2048&&Kl(9,s);break;case 1:fi(n,s,o,u);break;case 3:fi(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pl(n)));break;case 12:if(f&2048){fi(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,T=p.onPostCommit;typeof T=="function"&&T(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){tt(s,s.return,O)}}else fi(n,s,o,u);break;case 31:fi(n,s,o,u);break;case 13:fi(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?fi(n,s,o,u):Ql(n,s):p._visibility&2?fi(n,s,o,u):(p._visibility|=2,po(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&km(E,s);break;case 24:fi(n,s,o,u),f&2048&&Pm(s.alternate,s);break;default:fi(n,s,o,u)}}function po(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,E=s,T=o,O=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:po(p,E,T,O,f),Kl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?po(p,E,T,O,f):Ql(p,E):(Z._visibility|=2,po(p,E,T,O,f)),f&&H&2048&&km(E.alternate,E);break;case 24:po(p,E,T,O,f),f&&H&2048&&Pm(E.alternate,E);break;default:po(p,E,T,O,f)}s=s.sibling}}function Ql(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Ql(o,u),f&2048&&km(u.alternate,u);break;case 24:Ql(o,u),f&2048&&Pm(u.alternate,u);break;default:Ql(o,u)}s=s.sibling}}var Xl=8192;function go(n,s,o){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)J_(n,s,o),n=n.sibling}function J_(n,s,o){switch(n.tag){case 26:go(n,s,o),n.flags&Xl&&n.memoizedState!==null&&VR(o,hi,n.memoizedState,n.memoizedProps);break;case 5:go(n,s,o);break;case 3:case 4:var u=hi;hi=Rh(n.stateNode.containerInfo),go(n,s,o),hi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Xl,Xl=16777216,go(n,s,o),Xl=u):go(n,s,o));break;default:go(n,s,o)}}function Z_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Wl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Kt=u,t0(u,n)}Z_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)e0(n),n=n.sibling}function e0(n){switch(n.tag){case 0:case 11:case 15:Wl(n),n.flags&2048&&is(9,n,n.return);break;case 3:Wl(n);break;case 12:Wl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,dh(n)):Wl(n);break;default:Wl(n)}}function dh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Kt=u,t0(u,n)}Z_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:is(8,s,s.return),dh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,dh(s));break;default:dh(s)}n=n.sibling}}function t0(n,s){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:is(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=n;Kt!==null;){u=Kt;var f=u.sibling,p=u.return;if(G_(u),u===o){Kt=null;break e}if(f!==null){f.return=p,Kt=f;break e}Kt=p}}}var J1={getCacheForType:function(n){var s=Jt(kt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Jt(kt).controller.signal}},Z1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,Me=null,Ue=0,et=0,On=null,rs=!1,yo=!1,Lm=!1,yr=0,_t=0,ss=0,va=0,Mm=0,kn=0,vo=0,Jl=null,En=null,Vm=!1,mh=0,n0=0,ph=1/0,gh=null,as=null,Bt=0,os=null,_o=null,vr=0,Um=0,jm=null,i0=null,Zl=0,zm=null;function Pn(){return(Qe&2)!==0&&Ue!==0?Ue&-Ue:K.T!==null?$m():yc()}function r0(){if(kn===0)if((Ue&536870912)===0||He){var n=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),kn=n}else kn=536870912;return n=Nn.current,n!==null&&(n.flags|=32),kn}function bn(n,s,o){(n===ot&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),ls(n,Ue,kn,!1)),$s(n,o),((Qe&2)===0||n!==ot)&&(n===ot&&((Qe&2)===0&&(va|=o),_t===4&&ls(n,Ue,kn,!1)),zi(n))}function s0(n,s,o){if((Qe&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||ni(n,s),f=u?nR(n,s):Fm(n,s,!0),p=u;do{if(f===0){yo&&!u&&ls(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!eR(o)){f=Fm(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var T=n;f=Jl;var O=T.current.memoizedState.isDehydrated;if(O&&(Eo(T,E).flags|=256),E=Fm(T,E,!1),E!==2){if(Lm&&!O){T.errorRecoveryDisabledLanes|=p,va|=p,f=4;break e}p=En,En=f,p!==null&&(En===null?En=p:En.push.apply(En,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Eo(n,0),ls(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ls(u,s,kn,!rs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=mh+300-cn(),10<f)){if(ls(u,s,kn,!rs),wi(u,0,!0)!==0)break e;vr=s,u.timeoutHandle=M0(a0.bind(null,u,o,En,gh,Vm,s,kn,va,vo,rs,p,"Throttled",-0,0),f);break e}a0(u,o,En,gh,Vm,s,kn,va,vo,rs,p,null,-0,0)}}break}while(!0);zi(n)}function a0(n,s,o,u,f,p,E,T,O,H,Z,ne,$,Q){if(n.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},J_(s,p,ne);var fe=(p&62914560)===p?mh-cn():(p&4194048)===p?n0-cn():0;if(fe=UR(ne,fe),fe!==null){vr=p,n.cancelPendingCommit=fe(m0.bind(null,n,s,p,o,u,f,E,T,O,Z,ne,null,$,Q)),ls(n,p,E,!H);return}}m0(n,s,p,o,u,f,E,T,O)}function eR(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Cn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ls(n,s,o,u){s&=~Mm,s&=~va,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-Tt(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&Ks(n,o,s)}function yh(){return(Qe&6)===0?(eu(0),!1):!0}function Bm(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,or=ua=null,im(n),uo=null,Ml=0,n=Me;for(;n!==null;)V_(n.alternate,n),n=n.return;Me=null}}function Eo(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,ER(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),vr=0,Bm(),ot=n,Me=o=sr(n.current,null),Ue=s,et=0,On=null,rs=!1,yo=ni(n,s),Lm=!1,vo=kn=Mm=va=ss=_t=0,En=Jl=null,Vm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Tt(u),p=1<<f;s|=n[f],u&=~p}return yr=s,Uc(),o}function o0(n,s){De=null,K.H=Hl,s===lo||s===$c?(s=Tv(),et=3):s===Gd?(s=Tv(),et=4):et=s===_m?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,On=s,Me===null&&(_t=1,ah(n,Hn(s,n.current)))}function l0(){var n=Nn.current;return n===null?!0:(Ue&4194048)===Ue?Yn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?n===Yn:!1}function u0(){var n=K.H;return K.H=Hl,n===null?Hl:n}function c0(){var n=K.A;return K.A=J1,n}function vh(){_t=4,rs||(Ue&4194048)!==Ue&&Nn.current!==null||(yo=!0),(ss&134217727)===0&&(va&134217727)===0||ot===null||ls(ot,Ue,kn,!1)}function Fm(n,s,o){var u=Qe;Qe|=2;var f=u0(),p=c0();(ot!==n||Ue!==s)&&(gh=null,Eo(n,s)),s=!1;var E=_t;e:do try{if(et!==0&&Me!==null){var T=Me,O=On;switch(et){case 8:Bm(),E=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(s=!0);var H=et;if(et=0,On=null,bo(n,T,O,H),o&&yo){E=0;break e}break;default:H=et,et=0,On=null,bo(n,T,O,H)}}tR(),E=_t;break}catch(Z){o0(n,Z)}while(!0);return s&&n.shellSuspendCounter++,or=ua=null,Qe=u,K.H=f,K.A=p,Me===null&&(ot=null,Ue=0,Uc()),E}function tR(){for(;Me!==null;)h0(Me)}function nR(n,s){var o=Qe;Qe|=2;var u=u0(),f=c0();ot!==n||Ue!==s?(gh=null,ph=cn()+500,Eo(n,s)):yo=ni(n,s);e:do try{if(et!==0&&Me!==null){s=Me;var p=On;t:switch(et){case 1:et=0,On=null,bo(n,s,p,1);break;case 2:case 9:if(bv(p)){et=0,On=null,f0(s);break}s=function(){et!==2&&et!==9||ot!==n||(et=7),zi(n)},p.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:bv(p)?(et=0,On=null,f0(s)):(et=0,On=null,bo(n,s,p,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var T=Me;if(E?W0(E):T.stateNode.complete){et=0,On=null;var O=T.sibling;if(O!==null)Me=O;else{var H=T.return;H!==null?(Me=H,_h(H)):Me=null}break t}}et=0,On=null,bo(n,s,p,5);break;case 6:et=0,On=null,bo(n,s,p,6);break;case 8:Bm(),_t=6;break e;default:throw Error(r(462))}}iR();break}catch(Z){o0(n,Z)}while(!0);return or=ua=null,K.H=u,K.A=f,Qe=o,Me!==null?0:(ot=null,Ue=0,Uc(),_t)}function iR(){for(;Me!==null&&!vd();)h0(Me)}function h0(n){var s=L_(n.alternate,n,yr);n.memoizedProps=n.pendingProps,s===null?_h(n):Me=s}function f0(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=I_(o,s,s.pendingProps,s.type,void 0,Ue);break;case 11:s=I_(o,s,s.pendingProps,s.type.render,s.ref,Ue);break;case 5:im(s);default:V_(o,s),s=Me=cv(s,yr),s=L_(o,s,yr)}n.memoizedProps=n.pendingProps,s===null?_h(n):Me=s}function bo(n,s,o,u){or=ua=null,im(s),uo=null,Ml=0;var f=s.return;try{if(G1(n,f,s,o,Ue)){_t=1,ah(n,Hn(o,n.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;_t=1,ah(n,Hn(o,n.current)),Me=null;return}s.flags&32768?(He||u===1?n=!0:yo||(Ue&536870912)!==0?n=!1:(rs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),d0(s,n)):_h(s)}function _h(n){var s=n;do{if((s.flags&32768)!==0){d0(s,rs);return}n=s.return;var o=Y1(s.alternate,s,yr);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);_t===0&&(_t=5)}function d0(n,s){do{var o=Q1(n.alternate,n);if(o!==null){o.flags&=32767,Me=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=o}while(n!==null);_t=6,Me=null}function m0(n,s,o,u,f,p,E,T,O){n.cancelPendingCommit=null;do Eh();while(Bt!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Nd,bd(n,o,p,E,T,O),n===ot&&(Me=ot=null,Ue=0),_o=s,os=n,vr=o,Um=p,jm=f,i0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,oR(Ur,function(){return _0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,f=oe.p,oe.p=2,E=Qe,Qe|=4;try{X1(n,s,o)}finally{Qe=E,oe.p=f,K.T=u}}Bt=1,p0(),g0(),y0()}}function p0(){if(Bt===1){Bt=0;var n=os,s=_o,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=oe.p;oe.p=2;var f=Qe;Qe|=4;try{Q_(s,n);var p=ep,E=tv(n.containerInfo),T=p.focusedElem,O=p.selectionRange;if(E!==T&&T&&T.ownerDocument&&ev(T.ownerDocument.documentElement,T)){if(O!==null&&Ad(T)){var H=O.start,Z=O.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var ne=T.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var Q=$.getSelection(),fe=T.textContent.length,we=Math.min(O.start,fe),st=O.end===void 0?we:Math.min(O.end,fe);!Q.extend&&we>st&&(E=st,st=we,we=E);var z=Zy(T,we),M=Zy(T,st);if(z&&M&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var q=ne.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),we>st?(Q.addRange(q),Q.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Q.addRange(q))}}}}for(ne=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Oh=!!Zm,ep=Zm=null}finally{Qe=f,oe.p=u,K.T=o}}n.current=s,Bt=2}}function g0(){if(Bt===2){Bt=0;var n=os,s=_o,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=oe.p;oe.p=2;var f=Qe;Qe|=4;try{H_(n,s.alternate,s)}finally{Qe=f,oe.p=u,K.T=o}}Bt=3}}function y0(){if(Bt===4||Bt===3){Bt=0,cc();var n=os,s=_o,o=vr,u=i0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,_o=os=null,v0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(as=null),tr(o),s=s.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ti,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,f=oe.p,oe.p=2,K.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var T=u[E];p(T.value,{componentStack:T.stack})}}finally{K.T=s,oe.p=f}}(vr&3)!==0&&Eh(),zi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===zm?Zl++:(Zl=0,zm=n):Zl=0,eu(0)}}function v0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pl(s)))}function Eh(){return p0(),g0(),y0(),_0()}function _0(){if(Bt!==5)return!1;var n=os,s=Um;Um=0;var o=tr(vr),u=K.T,f=oe.p;try{oe.p=32>o?32:o,K.T=null,o=jm,jm=null;var p=os,E=vr;if(Bt=0,_o=os=null,vr=0,(Qe&6)!==0)throw Error(r(331));var T=Qe;if(Qe|=4,e0(p.current),W_(p,p.current,E,o),Qe=T,eu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ti,p)}catch{}return!0}finally{oe.p=f,K.T=u,v0(n,s)}}function E0(n,s,o){s=Hn(o,s),s=vm(n.stateNode,s,2),n=es(n,s,2),n!==null&&($s(n,2),zi(n))}function tt(n,s,o){if(n.tag===3)E0(n,n,o);else for(;s!==null;){if(s.tag===3){E0(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){n=Hn(o,n),o=b_(2),u=es(s,o,2),u!==null&&(w_(o,u,s,n),$s(u,2),zi(u));break}}s=s.return}}function qm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Z1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Lm=!0,f.add(o),n=rR.bind(null,n,s,o),s.then(n,n))}function rR(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ot===n&&(Ue&o)===o&&(_t===4||_t===3&&(Ue&62914560)===Ue&&300>cn()-mh?(Qe&2)===0&&Eo(n,0):Mm|=o,vo===Ue&&(vo=0)),zi(n)}function b0(n,s){s===0&&(s=gc()),n=aa(n,s),n!==null&&($s(n,s),zi(n))}function sR(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),b0(n,o)}function aR(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),b0(n,o)}function oR(n,s){return zt(n,s)}var bh=null,wo=null,Hm=!1,wh=!1,Gm=!1,us=0;function zi(n){n!==wo&&n.next===null&&(wo===null?bh=wo=n:wo=wo.next=n),wh=!0,Hm||(Hm=!0,uR())}function eu(n,s){if(!Gm&&wh){Gm=!0;do for(var o=!1,u=bh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Tt(42|n)+1)-1,p&=f&~(E&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,A0(u,p))}else p=Ue,p=wi(u,u===ot?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ni(u,p)||(o=!0,A0(u,p));u=u.next}while(o);Gm=!1}}function lR(){w0()}function w0(){wh=Hm=!1;var n=0;us!==0&&_R()&&(n=us);for(var s=cn(),o=null,u=bh;u!==null;){var f=u.next,p=T0(u,s);p===0?(u.next=null,o===null?bh=f:o.next=f,f===null&&(wo=o)):(o=u,(n!==0||(p&3)!==0)&&(wh=!0)),u=f}Bt!==0&&Bt!==5||eu(n),us!==0&&(us=0)}function T0(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Tt(p),T=1<<E,O=f[E];O===-1?((T&o)===0||(T&u)!==0)&&(f[E]=Ed(T,s)):O<=s&&(n.expiredLanes|=T),p&=~T}if(s=ot,o=Ue,o=wi(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Vr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ni(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Vr(u),tr(o)){case 2:case 8:o=cl;break;case 32:o=Ur;break;case 268435456:o=hc;break;default:o=Ur}return u=S0.bind(null,n),o=zt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Vr(u),n.callbackPriority=2,n.callbackNode=null,2}function S0(n,s){if(Bt!==0&&Bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Eh()&&n.callbackNode!==o)return null;var u=Ue;return u=wi(n,n===ot?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(s0(n,u,s),T0(n,cn()),n.callbackNode!=null&&n.callbackNode===o?S0.bind(null,n):null)}function A0(n,s){if(Eh())return null;s0(n,s,!0)}function uR(){bR(function(){(Qe&6)!==0?zt(ul,lR):w0()})}function $m(){if(us===0){var n=ao;n===0&&(n=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),us=n}return us}function R0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ga(""+n)}function x0(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function cR(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=R0((f[Gt]||null).action),E=u.submitter;E&&(s=(s=E[Gt]||null)?R0(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var T=new ki("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(us!==0){var O=E?x0(f,E):new FormData(f);fm(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(T.preventDefault(),O=E?x0(f,E):new FormData(f),fm(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Km=0;Km<Id.length;Km++){var Ym=Id[Km],hR=Ym.toLowerCase(),fR=Ym[0].toUpperCase()+Ym.slice(1);ci(hR,"on"+fR)}ci(rv,"onAnimationEnd"),ci(sv,"onAnimationIteration"),ci(av,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(C1,"onTransitionRun"),ci(I1,"onTransitionStart"),ci(N1,"onTransitionCancel"),ci(ov,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function C0(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var T=u[E],O=T.instance,H=T.currentTarget;if(T=T.listener,O!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=H;try{p(f)}catch(Z){Vc(Z)}f.currentTarget=null,p=O}else for(E=0;E<u.length;E++){if(T=u[E],O=T.instance,H=T.currentTarget,T=T.listener,O!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=H;try{p(f)}catch(Z){Vc(Z)}f.currentTarget=null,p=O}}}}function Ve(n,s){var o=s[za];o===void 0&&(o=s[za]=new Set);var u=n+"__bubble";o.has(u)||(I0(s,n,2,!1),o.add(u))}function Qm(n,s,o){var u=0;s&&(u|=4),I0(o,n,u,s)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Xm(n){if(!n[Th]){n[Th]=!0,dl.forEach(function(o){o!=="selectionchange"&&(dR.has(o)||Qm(o,!1,n),Qm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Th]||(s[Th]=!0,Qm("selectionchange",!1,s))}}function I0(n,s,o,u){switch(rE(s)){case 2:var f=BR;break;case 8:f=FR;break;default:f=hp}o=f.bind(null,s,o,n),f=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function Wm(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var T=u.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ri(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=p=E;continue e}T=T.parentNode}}u=u.return}Hr(function(){var H=p,Z=zn(o),ne=[];e:{var $=lv.get(n);if($!==void 0){var Q=ki,fe=n;switch(n){case"keypress":if(ea(o)===0)break e;case"keydown":case"keyup":Q=Pc;break;case"focusin":fe="focus",Q=na;break;case"focusout":fe="blur",Q=na;break;case"beforeblur":case"afterblur":Q=na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case rv:case sv:case av:Q=xc;break;case ov:Q=R;break;case"scroll":case"scrollend":Q=Al;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rr;break;case"toggle":case"beforetoggle":Q=Ne}var we=(s&4)!==0,st=!we&&(n==="scroll"||n==="scrollend"),z=we?$!==null?$+"Capture":null:$;we=[];for(var M=H,q;M!==null;){var ee=M;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||z===null||(ee=ai(M,z),ee!=null&&we.push(nu(M,ee,q))),st)break;M=M.return}0<we.length&&($=new Q($,fe,null,o,Z),ne.push({event:$,listeners:we}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&o!==wl&&(fe=o.relatedTarget||o.fromElement)&&(Ri(fe)||fe[Si]))break e;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(fe=o.relatedTarget||o.toElement,Q=H,fe=fe?Ri(fe):null,fe!==null&&(st=l(fe),we=fe.tag,fe!==st||we!==5&&we!==27&&we!==6)&&(fe=null)):(Q=null,fe=H),Q!==fe)){if(we=Rl,ee="onMouseLeave",z="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(we=rr,ee="onPointerLeave",z="onPointerEnter",M="pointer"),st=Q==null?$:Rn(Q),q=fe==null?$:Rn(fe),$=new we(ee,M+"leave",Q,o,Z),$.target=st,$.relatedTarget=q,ee=null,Ri(Z)===H&&(we=new we(z,M+"enter",fe,o,Z),we.target=q,we.relatedTarget=st,ee=we),st=ee,Q&&fe)t:{for(we=mR,z=Q,M=fe,q=0,ee=z;ee;ee=we(ee))q++;ee=0;for(var ve=M;ve;ve=we(ve))ee++;for(;0<q-ee;)z=we(z),q--;for(;0<ee-q;)M=we(M),ee--;for(;q--;){if(z===M||M!==null&&z===M.alternate){we=z;break t}z=we(z),M=we(M)}we=null}else we=null;Q!==null&&N0(ne,$,Q,we,!1),fe!==null&&st!==null&&N0(ne,st,fe,we,!0)}}e:{if($=H?Rn(H):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var $e=Ky;else if(Gy($))if(Yy)$e=A1;else{$e=T1;var ye=w1}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Ha(H.elementType)&&($e=Ky):$e=S1;if($e&&($e=$e(n,H))){$y(ne,$e,o,Z);break e}ye&&ye(n,$,H),n==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&_l($,"number",$.value)}switch(ye=H?Rn(H):window,n){case"focusin":(Gy(ye)||ye.contentEditable==="true")&&(Ja=ye,Rd=H,Dl=null);break;case"focusout":Dl=Rd=Ja=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,nv(ne,o,Z);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":nv(ne,o,Z)}var ke;if(Ye)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Wa?ia(n,o)&&(je="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Mi&&o.locale!=="ko"&&(Wa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Wa&&(ke=Sl()):(Oi=Z,Tl="value"in Oi?Oi.value:Oi.textContent,Wa=!0)),ye=Sh(H,je),0<ye.length&&(je=new Li(je,n,null,o,Z),ne.push({event:je,listeners:ye}),ke?je.data=ke:(ke=Xa(o),ke!==null&&(je.data=ke)))),(ke=Fn?v1(n,o):_1(n,o))&&(je=Sh(H,"onBeforeInput"),0<je.length&&(ye=new Li("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ye,listeners:je}),ye.data=ke)),cR(ne,n,H,o,Z)}C0(ne,s)})}function nu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Sh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ai(n,o),f!=null&&u.unshift(nu(n,f,p)),f=ai(n,s),f!=null&&u.push(nu(n,f,p))),n.tag===3)return u;n=n.return}return[]}function mR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function N0(n,s,o,u,f){for(var p=s._reactName,E=[];o!==null&&o!==u;){var T=o,O=T.alternate,H=T.stateNode;if(T=T.tag,O!==null&&O===u)break;T!==5&&T!==26&&T!==27||H===null||(O=H,f?(H=ai(o,p),H!=null&&E.unshift(nu(o,H,O))):f||(H=ai(o,p),H!=null&&E.push(nu(o,H,O)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var pR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function D0(n){return(typeof n=="string"?n:""+n).replace(pR,`
`).replace(gR,"")}function O0(n,s){return s=D0(s),D0(n)===s}function rt(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||gn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&gn(n,""+u);break;case"className":xn(n,"class",u);break;case"tabIndex":xn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(n,o,u);break;case"style":bl(n,u,p);break;case"data":if(s!=="object"){xn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ga(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&rt(n,s,"name",f.name,f,null),rt(n,s,"formEncType",f.formEncType,f,null),rt(n,s,"formMethod",f.formMethod,f,null),rt(n,s,"formTarget",f.formTarget,f,null)):(rt(n,s,"encType",f.encType,f,null),rt(n,s,"method",f.method,f,null),rt(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ga(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=si);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ga(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Fa(n,"popover",u);break;case"xlinkActuate":Ot(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ot(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ot(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ot(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ot(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ot(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ot(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sc.get(o)||o,Fa(n,o,u))}}function Jm(n,s,o,u,f,p){switch(o){case"style":bl(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?gn(n,u):(typeof u=="number"||typeof u=="bigint")&&gn(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[Gt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Fa(n,o,u)}}}function en(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,p,E,o,null)}}f&&rt(n,s,"srcSet",o.srcSet,o,null),u&&rt(n,s,"src",o.src,o,null);return;case"input":Ve("invalid",n);var T=p=E=f=null,O=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":O=Z;break;case"defaultChecked":H=Z;break;case"value":p=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:rt(n,s,u,Z,o,null)}}bc(n,p,T,O,H,E,f,!1);return;case"select":Ve("invalid",n),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":E=T;break;case"multiple":u=T;default:rt(n,s,f,T,o,null)}s=p,o=E,n.multiple=!!u,s!=null?zr(n,!!u,s,!1):o!=null&&zr(n,!!u,o,!0);return;case"textarea":Ve("invalid",n),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(T=o[E],T!=null))switch(E){case"value":u=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:rt(n,s,E,T,o,null)}Br(n,u,f,p);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(n,s,O,u,o,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<tu.length;u++)Ve(tu[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(n,s,H,u,o,null)}return;default:if(Ha(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Jm(n,s,Z,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&rt(n,s,T,u,o,null))}function yR(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,T=null,O=null,H=null,Z=null;for(Q in o){var ne=o[Q];if(o.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ne;default:u.hasOwnProperty(Q)||rt(n,s,Q,null,u,ne)}}for(var $ in u){var Q=u[$];if(ne=o[$],u.hasOwnProperty($)&&(Q!=null||ne!=null))switch($){case"type":p=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ne&&rt(n,s,$,Q,u,ne)}}qa(n,E,T,O,H,Z,p,f);return;case"select":Q=E=T=$=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":Q=O;default:u.hasOwnProperty(p)||rt(n,s,p,null,u,O)}for(f in u)if(p=u[f],O=o[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":$=p;break;case"defaultValue":T=p;break;case"multiple":E=p;default:p!==O&&rt(n,s,f,p,u,O)}s=T,o=E,u=Q,$!=null?zr(n,!!o,$,!1):!!u!=!!o&&(s!=null?zr(n,!!o,s,!0):zr(n,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(n,s,T,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&rt(n,s,E,f,u,p)}wc(n,$,Q);return;case"option":for(var fe in o)if($=o[fe],o.hasOwnProperty(fe)&&$!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:rt(n,s,fe,null,u,$)}for(O in u)if($=u[O],Q=o[O],u.hasOwnProperty(O)&&$!==Q&&($!=null||Q!=null))switch(O){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(n,s,O,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&rt(n,s,we,null,u,$);for(H in u)if($=u[H],Q=o[H],u.hasOwnProperty(H)&&$!==Q&&($!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:rt(n,s,H,$,u,Q)}return;default:if(Ha(s)){for(var st in o)$=o[st],o.hasOwnProperty(st)&&$!==void 0&&!u.hasOwnProperty(st)&&Jm(n,s,st,void 0,u,$);for(Z in u)$=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||Jm(n,s,Z,$,u,Q);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&rt(n,s,z,null,u,$);for(ne in u)$=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||$===Q||$==null&&Q==null||rt(n,s,ne,$,u,Q)}function k0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,E=f.initiatorType,T=f.duration;if(p&&T&&k0(E)){for(E=0,T=f.responseEnd,u+=1;u<o.length;u++){var O=o[u],H=O.startTime;if(H>T)break;var Z=O.transferSize,ne=O.initiatorType;Z&&k0(ne)&&(O=O.responseEnd,E+=Z*(O<T?1:(T-H)/(O-H)))}if(--u,s+=8*(p+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Zm=null,ep=null;function Ah(n){return n.nodeType===9?n:n.ownerDocument}function P0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function tp(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var np=null;function _R(){var n=window.event;return n&&n.type==="popstate"?n===np?!1:(np=n,!0):(np=null,!1)}var M0=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(n){return V0.resolve(null).then(n).catch(wR)}:M0;function wR(n){setTimeout(function(){throw n})}function cs(n){return n==="head"}function U0(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Ro(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")iu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,iu(o);for(var p=o.firstChild;p;){var E=p.nextSibling,T=p.nodeName;p[Ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=E}}else o==="body"&&iu(n.ownerDocument.body);o=f}while(o);Ro(s)}function j0(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function ip(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ip(o),Ba(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function TR(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ai])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function SR(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Qn(n.nextSibling),n===null))return null;return n}function z0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Qn(n.nextSibling),n===null))return null;return n}function rp(n){return n.data==="$?"||n.data==="$~"}function sp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function AR(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Qn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var ap=null;function B0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Qn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function F0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function q0(n,s,o){switch(s=Ah(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function iu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ba(n)}var Xn=new Map,H0=new Set;function Rh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _r=oe.d;oe.d={f:RR,r:xR,D:CR,C:IR,L:NR,m:DR,X:kR,S:OR,M:PR};function RR(){var n=_r.f(),s=yh();return n||s}function xR(n){var s=jn(n);s!==null&&s.tag===5&&s.type==="form"?o_(s):_r.r(n)}var To=typeof document>"u"?null:document;function G0(n,s,o){var u=To;if(u&&typeof s=="string"&&s){var f=pn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),H0.has(f)||(H0.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),en(s,"link",n),Dt(s),u.head.appendChild(s)))}}function CR(n){_r.D(n),G0("dns-prefetch",n,null)}function IR(n,s){_r.C(n,s),G0("preconnect",n,s)}function NR(n,s,o){_r.L(n,s,o);var u=To;if(u&&n&&s){var f='link[rel="preload"][as="'+pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(n)+'"]';var p=f;switch(s){case"style":p=So(n);break;case"script":p=Ao(n)}Xn.has(p)||(n=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Xn.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(ru(p))||s==="script"&&u.querySelector(su(p))||(s=u.createElement("link"),en(s,"link",n),Dt(s),u.head.appendChild(s)))}}function DR(n,s){_r.m(n,s);var o=To;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ao(n)}if(!Xn.has(p)&&(n=_({rel:"modulepreload",href:n},s),Xn.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(su(p)))return}u=o.createElement("link"),en(u,"link",n),Dt(u),o.head.appendChild(u)}}}function OR(n,s,o){_r.S(n,s,o);var u=To;if(u&&n){var f=xi(u).hoistableStyles,p=So(n);s=s||"default";var E=f.get(p);if(!E){var T={loading:0,preload:null};if(E=u.querySelector(ru(p)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Xn.get(p))&&op(n,o);var O=E=u.createElement("link");Dt(O),en(O,"link",n),O._p=new Promise(function(H,Z){O.onload=H,O.onerror=Z}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(p,E)}}}function kR(n,s){_r.X(n,s);var o=To;if(o&&n){var u=xi(o).hoistableScripts,f=Ao(n),p=u.get(f);p||(p=o.querySelector(su(f)),p||(n=_({src:n,async:!0},s),(s=Xn.get(f))&&lp(n,s),p=o.createElement("script"),Dt(p),en(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function PR(n,s){_r.M(n,s);var o=To;if(o&&n){var u=xi(o).hoistableScripts,f=Ao(n),p=u.get(f);p||(p=o.querySelector(su(f)),p||(n=_({src:n,async:!0,type:"module"},s),(s=Xn.get(f))&&lp(n,s),p=o.createElement("script"),Dt(p),en(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function $0(n,s,o,u){var f=(f=xe.current)?Rh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=So(o.href),o=xi(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=So(o.href);var p=xi(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(ru(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Xn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(n,o),p||LR(f,n,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(o),o=xi(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function So(n){return'href="'+pn(n)+'"'}function ru(n){return'link[rel="stylesheet"]['+n+"]"}function K0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function LR(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",o),Dt(s),n.head.appendChild(s))}function Ao(n){return'[src="'+pn(n)+'"]'}function su(n){return"script[async]"+n}function Y0(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return s.instance=u,Dt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Dt(u),en(u,"style",f),xh(u,o.precedence,n),s.instance=u;case"stylesheet":f=So(o.href);var p=n.querySelector(ru(f));if(p)return s.state.loading|=4,s.instance=p,Dt(p),p;u=K0(o),(f=Xn.get(f))&&op(u,f),p=(n.ownerDocument||n).createElement("link"),Dt(p);var E=p;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),en(p,"link",u),s.state.loading|=4,xh(p,o.precedence,n),s.instance=p;case"script":return p=Ao(o.src),(f=n.querySelector(su(p)))?(s.instance=f,Dt(f),f):(u=o,(f=Xn.get(p))&&(u=_({},o),lp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Dt(f),en(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,xh(u,o.precedence,n));return s.instance}function xh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var T=u[E];if(T.dataset.precedence===s)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function op(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function lp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ch=null;function Q0(n,s,o){if(Ch===null){var u=new Map,f=Ch=new Map;f.set(o,u)}else f=Ch,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[Ai]||p[Nt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var T=u.get(E);T?T.push(p):u.set(E,[p])}}return u}function X0(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function MR(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function W0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function VR(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=So(u.href),p=s.querySelector(ru(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ih.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,Dt(p);return}p=s.ownerDocument||s,u=K0(u),(f=Xn.get(f))&&op(u,f),p=p.createElement("link"),Dt(p);var E=p;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),en(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Ih.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var up=0;function UR(n,s){return n.stylesheets&&n.count===0&&Dh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Dh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&up===0&&(up=62500*vR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Dh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>up?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Nh=null;function Dh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Nh=new Map,s.forEach(jR,n),Nh=null,Ih.call(n))}function jR(n,s){if(!(s.state.loading&4)){var o=Nh.get(n);if(o)var u=o.get(null);else{o=new Map,Nh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Ih.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var au={$$typeof:G,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function zR(n,s,o,u,f,p,E,T,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function J0(n,s,o,u,f,p,E,T,O,H,Z,ne){return n=new zR(n,s,o,E,O,H,Z,ne,T),s=1,p===!0&&(s|=24),p=In(3,null,null,s),n.current=p,p.stateNode=n,s=Fd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},$d(p),n}function Z0(n){return n?(n=to,n):to}function eE(n,s,o,u,f,p){f=Z0(f),u.context===null?u.context=f:u.pendingContext=f,u=Zr(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=es(n,u,s),o!==null&&(bn(o,n,s),Ul(o,n,s))}function tE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function cp(n,s){tE(n,s),(n=n.alternate)&&tE(n,s)}function nE(n){if(n.tag===13||n.tag===31){var s=aa(n,67108864);s!==null&&bn(s,n,67108864),cp(n,67108864)}}function iE(n){if(n.tag===13||n.tag===31){var s=Pn();s=Ys(s);var o=aa(n,s);o!==null&&bn(o,n,s),cp(n,s)}}var Oh=!0;function BR(n,s,o,u){var f=K.T;K.T=null;var p=oe.p;try{oe.p=2,hp(n,s,o,u)}finally{oe.p=p,K.T=f}}function FR(n,s,o,u){var f=K.T;K.T=null;var p=oe.p;try{oe.p=8,hp(n,s,o,u)}finally{oe.p=p,K.T=f}}function hp(n,s,o,u){if(Oh){var f=fp(u);if(f===null)Wm(n,s,u,kh,o),sE(n,u);else if(HR(f,n,s,o,u))u.stopPropagation();else if(sE(n,u),s&4&&-1<qR.indexOf(n)){for(;f!==null;){var p=jn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=bi(p.pendingLanes);if(E!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-Tt(E);T.entanglements[1]|=O,E&=~O}zi(p),(Qe&6)===0&&(ph=cn()+500,eu(0))}}break;case 31:case 13:T=aa(p,2),T!==null&&bn(T,p,2),yh(),cp(p,2)}if(p=fp(u),p===null&&Wm(n,s,u,kh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Wm(n,s,u,null,o)}}function fp(n){return n=zn(n),dp(n)}var kh=null;function dp(n){if(kh=null,n=Ri(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return kh=n,null}function rE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case ul:return 2;case cl:return 8;case Ur:case _d:return 32;case hc:return 268435456;default:return 32}default:return 32}}var mp=!1,hs=null,fs=null,ds=null,ou=new Map,lu=new Map,ms=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(n,s){switch(n){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function uu(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=jn(s),s!==null&&nE(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function HR(n,s,o,u,f){switch(s){case"focusin":return hs=uu(hs,n,s,o,u,f),!0;case"dragenter":return fs=uu(fs,n,s,o,u,f),!0;case"mouseover":return ds=uu(ds,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return ou.set(p,uu(ou.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,lu.set(p,uu(lu.get(p)||null,n,s,o,u,f)),!0}return!1}function aE(n){var s=Ri(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,ii(n.priority,function(){iE(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,ii(n.priority,function(){iE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ph(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=fp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);wl=u,o.target.dispatchEvent(u),wl=null}else return s=jn(o),s!==null&&nE(s),n.blockedOn=o,!1;s.shift()}return!0}function oE(n,s,o){Ph(n)&&o.delete(s)}function GR(){mp=!1,hs!==null&&Ph(hs)&&(hs=null),fs!==null&&Ph(fs)&&(fs=null),ds!==null&&Ph(ds)&&(ds=null),ou.forEach(oE),lu.forEach(oE)}function Lh(n,s){n.blockedOn===s&&(n.blockedOn=null,mp||(mp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,GR)))}var Mh=null;function lE(n){Mh!==n&&(Mh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Mh===n&&(Mh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(dp(u||o)===null)continue;break}var p=jn(o);p!==null&&(n.splice(s,3),s-=3,fm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ro(n){function s(O){return Lh(O,n)}hs!==null&&Lh(hs,n),fs!==null&&Lh(fs,n),ds!==null&&Lh(ds,n),ou.forEach(s),lu.forEach(s);for(var o=0;o<ms.length;o++){var u=ms[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ms.length&&(o=ms[0],o.blockedOn===null);)aE(o),o.blockedOn===null&&ms.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[Gt]||null;if(typeof p=="function")E||lE(o);else if(E){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Gt]||null)T=E.formAction;else if(dp(f)!==null)continue}else T=E.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),lE(o)}}}function uE(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function pp(n){this._internalRoot=n}Vh.prototype.render=pp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Pn();eE(o,u,n,s,null,null)},Vh.prototype.unmount=pp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;eE(n.current,2,null,n,null,null),yh(),s[Si]=null}};function Vh(n){this._internalRoot=n}Vh.prototype.unstable_scheduleHydration=function(n){if(n){var s=yc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ms.length&&s!==0&&s<ms[o].priority;o++);ms.splice(o,0,n),o===0&&aE(n)}};var cE=e.version;if(cE!=="19.2.0")throw Error(r(527,cE,"19.2.0"));oe.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var $R={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{ti=Uh.inject($R),Qt=Uh}catch{}}return hu.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=y_,p=v_,E=__;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=J0(n,1,!1,null,null,o,u,null,f,p,E,uE),n[Si]=s.current,Xm(n),new pp(s)},hu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",p=y_,E=v_,T=__,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),s=J0(n,1,!0,s,o??null,u,f,O,p,E,T,uE),s.context=Z0(null),o=s.current,u=Pn(),u=Ys(u),f=Zr(u),f.callback=null,es(o,f,u),o=u,s.current.lanes=o,$s(s,o),zi(s),n[Si]=s.current,Xm(n),new Vh(s)},hu.version="19.2.0",hu}var EE;function rx(){if(EE)return vp.exports;EE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vp.exports=ix(),vp.exports}var sx=rx();var bE="popstate";function ax(i={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return Yp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Pu(a)}return lx(e,t,null,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ox(){return Math.random().toString(36).substring(2,10)}function wE(i,e){return{usr:i.state,key:i.key,idx:e}}function Yp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||r||ox()}}function Pu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Xo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function lx(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let V=v(),X=V==null?null:V-g;g=V,m&&m({action:d,location:B.location,delta:X})}function w(V,X){d="PUSH";let W=Yp(B.location,V,X);g=v()+1;let G=wE(W,g),se=B.createHref(W);try{c.pushState(G,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(se)}l&&m&&m({action:d,location:B.location,delta:1})}function S(V,X){d="REPLACE";let W=Yp(B.location,V,X);g=v();let G=wE(W,g),se=B.createHref(W);c.replaceState(G,"",se),l&&m&&m({action:d,location:B.location,delta:0})}function I(V){return ux(V)}let B={get action(){return d},get location(){return i(a,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(bE,_),m=V,()=>{a.removeEventListener(bE,_),m=null}},createHref(V){return e(a,V)},createURL:I,encodeLocation(V){let X=I(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:S,go(V){return c.go(V)}};return B}function ux(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Pu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function zw(i,e,t="/"){return cx(i,e,t,!1)}function cx(i,e,t,r){let a=typeof e=="string"?Xo(e):e,l=Ir(a.pathname||"/",t);if(l==null)return null;let c=Bw(i);hx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=wx(l);d=Ex(c[m],g,r)}return d}function Bw(i,e=[],t=[],r="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;pt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Rr([r,v.relativePath]),w=t.concat(v);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Bw(c.children,e,w,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:vx(_,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of Fw(c.path))l(c,d,!0,m)}),e}function Fw(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=Fw(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function hx(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:_x(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var fx=/^:[\w-]+$/,dx=3,mx=2,px=1,gx=10,yx=-2,TE=i=>i==="*";function vx(i,e){let t=i.split("/"),r=t.length;return t.some(TE)&&(r+=yx),e&&(r+=mx),t.filter(a=>!TE(a)).reduce((a,l)=>a+(fx.test(l)?dx:l===""?px:gx),r)}function _x(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function Ex(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=df({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!_&&g&&t&&!r[r.length-1].route.index&&(_=df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Rr([l,_.pathname]),pathnameBase:xx(Rr([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Rr([l,_.pathnameBase]))}return c}function df(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=bx(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:_},w)=>{if(v==="*"){let I=d[w]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const S=d[w];return _&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function bx(i,e=!1,t=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function wx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}var Tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=i=>Tx.test(i);function Ax(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?Xo(i):i,l;if(t)if(Sx(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=SE(t.substring(1),"/"):l=SE(t,e)}else l=e;return{pathname:l,search:Cx(r),hash:Ix(a)}}function SE(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rx(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qw(i){let e=Rx(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Hw(i,e,t,r=!1){let a;typeof i=="string"?a=Xo(i):(a={...i},pt(!a.pathname||!a.pathname.includes("?"),wp("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),wp("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),wp("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=Ax(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Rr=i=>i.join("/").replace(/\/\/+/g,"/"),xx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ix=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Nx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gw=["POST","PUT","PATCH","DELETE"];new Set(Gw);var Dx=["GET",...Gw];new Set(Dx);var Wo=U.createContext(null);Wo.displayName="DataRouter";var Uf=U.createContext(null);Uf.displayName="DataRouterState";U.createContext(!1);var $w=U.createContext({isTransitioning:!1});$w.displayName="ViewTransition";var Ox=U.createContext(new Map);Ox.displayName="Fetchers";var kx=U.createContext(null);kx.displayName="Await";var Ji=U.createContext(null);Ji.displayName="Navigation";var $u=U.createContext(null);$u.displayName="Location";var Zi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var kg=U.createContext(null);kg.displayName="RouteError";function Px(i,{relative:e}={}){pt(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(Ji),{hash:a,pathname:l,search:c}=Qu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Rr([t,l])),r.createHref({pathname:d,search:c,hash:a})}function Ku(){return U.useContext($u)!=null}function Ls(){return pt(Ku(),"useLocation() may be used only in the context of a <Router> component."),U.useContext($u).location}var Kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(i){U.useContext(Ji).static||U.useLayoutEffect(i)}function Yu(){let{isDataRoute:i}=U.useContext(Zi);return i?Yx():Lx()}function Lx(){pt(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Wo),{basename:e,navigator:t}=U.useContext(Ji),{matches:r}=U.useContext(Zi),{pathname:a}=Ls(),l=JSON.stringify(qw(r)),c=U.useRef(!1);return Yw(()=>{c.current=!0}),U.useCallback((m,g={})=>{if(gi(c.current,Kw),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Hw(m,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Rr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,i])}U.createContext(null);function Mx(){let{matches:i}=U.useContext(Zi),e=i[i.length-1];return e?e.params:{}}function Qu(i,{relative:e}={}){let{matches:t}=U.useContext(Zi),{pathname:r}=Ls(),a=JSON.stringify(qw(t));return U.useMemo(()=>Hw(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function Vx(i,e){return Qw(i,e)}function Qw(i,e,t,r,a){pt(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Ji),{matches:c}=U.useContext(Zi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let W=_&&_.path||"";Xw(g,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Ls(),S;if(e){let W=typeof e=="string"?Xo(e):e;pt(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),S=W}else S=w;let I=S.pathname||"/",B=I;if(v!=="/"){let W=v.replace(/^\//,"").split("/");B="/"+I.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=zw(i,{pathname:B});gi(_||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Fx(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:Rr([v,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Rr([v,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),c,t,r,a);return e&&X?U.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},X):X}function Ux(){let i=Kx(),e=Nx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,c)}var jx=U.createElement(Ux,null),zx=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(Zi.Provider,{value:this.props.routeContext},U.createElement(kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bx({routeContext:i,match:e,children:t}){let r=U.useContext(Wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Zi.Provider,{value:i},t)}function Fx(i,e=[],t=null,r=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:S}=t,I=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||I){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&r?(v,_)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,w)=>{let S,I=!1,B=null,V=null;t&&(S=c&&_.route.id?c[_.route.id]:void 0,B=_.route.errorElement||jx,d&&(m<0&&w===0?(Xw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):m===w&&(I=!0,V=_.route.hydrateFallbackElement||null)));let X=e.concat(l.slice(0,w+1)),W=()=>{let G;return S?G=B:I?G=V:_.route.Component?G=U.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=v,U.createElement(Bx,{match:_,routeContext:{outlet:v,matches:X,isDataRoute:t!=null},children:G})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?U.createElement(zx,{location:t.location,revalidation:t.revalidation,component:B,error:S,children:W(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):W()},null)}function Pg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qx(i){let e=U.useContext(Wo);return pt(e,Pg(i)),e}function Hx(i){let e=U.useContext(Uf);return pt(e,Pg(i)),e}function Gx(i){let e=U.useContext(Zi);return pt(e,Pg(i)),e}function Lg(i){let e=Gx(i),t=e.matches[e.matches.length-1];return pt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function $x(){return Lg("useRouteId")}function Kx(){let i=U.useContext(kg),e=Hx("useRouteError"),t=Lg("useRouteError");return i!==void 0?i:e.errors?.[t]}function Yx(){let{router:i}=qx("useNavigate"),e=Lg("useNavigate"),t=U.useRef(!1);return Yw(()=>{t.current=!0}),U.useCallback(async(a,l={})=>{gi(t.current,Kw),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var AE={};function Xw(i,e,t){!e&&!AE[i]&&(AE[i]=!0,gi(!1,t))}U.memo(Qx);function Qx({routes:i,future:e,state:t,unstable_onError:r}){return Qw(i,void 0,t,r,e)}function Jh(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xx({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){pt(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Xo(t));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:w="default"}=t,S=U.useMemo(()=>{let I=Ir(m,c);return I==null?null:{location:{pathname:I,search:g,hash:v,state:_,key:w},navigationType:r}},[c,m,g,v,_,w,r]);return gi(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:U.createElement(Ji.Provider,{value:d},U.createElement($u.Provider,{children:e,value:S}))}function Wx({children:i,location:e}){return Vx(Qp(i),e)}function Qp(i,e=[]){let t=[];return U.Children.forEach(i,(r,a)=>{if(!U.isValidElement(r))return;let l=[...e,a];if(r.type===U.Fragment){t.push.apply(t,Qp(r.props.children,l));return}pt(r.type===Jh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Qp(r.props.children,l)),t.push(c)}),t}var Zh="get",ef="application/x-www-form-urlencoded";function jf(i){return i!=null&&typeof i.tagName=="string"}function Jx(i){return jf(i)&&i.tagName.toLowerCase()==="button"}function Zx(i){return jf(i)&&i.tagName.toLowerCase()==="form"}function eC(i){return jf(i)&&i.tagName.toLowerCase()==="input"}function tC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nC(i,e){return i.button===0&&(!e||e==="_self")&&!tC(i)}var jh=null;function iC(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var rC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(i){return i!=null&&!rC.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):i}function sC(i,e){let t,r,a,l,c;if(Zx(i)){let d=i.getAttribute("action");r=d?Ir(d,e):null,t=i.getAttribute("method")||Zh,a=Tp(i.getAttribute("enctype"))||ef,l=new FormData(i)}else if(Jx(i)||eC(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(r=m?Ir(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Zh,a=Tp(i.getAttribute("formenctype"))||Tp(d.getAttribute("enctype"))||ef,l=new FormData(d,i),!iC()){let{name:g,type:v,value:_}=i;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,_)}}else{if(jf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,r=null,a=ef,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function aC(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ir(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function oC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function uC(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await oC(l,t);return c.links?c.links():[]}return[]}));return dC(r.flat(1).filter(lC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function RE(i,e,t,r,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function cC(i,e,{includeHydrateFallback:t}={}){return hC(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function hC(i){return[...new Set(i)]}function fC(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function dC(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(fC(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Ww(){let i=U.useContext(Wo);return Mg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function mC(){let i=U.useContext(Uf);return Mg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vg=U.createContext(void 0);Vg.displayName="FrameworkContext";function Jw(){let i=U.useContext(Vg);return Mg(i,"You must render this element inside a <HydratedRouter> element"),i}function pC(i,e){let t=U.useContext(Vg),[r,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,w=U.useRef(null);U.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let B=X=>{X.forEach(W=>{c(W.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),U.useEffect(()=>{if(r){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[r]);let S=()=>{a(!0)},I=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:fu(d,S),onBlur:fu(m,I),onMouseEnter:fu(g,S),onMouseLeave:fu(v,I),onTouchStart:fu(_,S)}]:[!1,w,{}]}function fu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function gC({page:i,...e}){let{router:t}=Ww(),r=U.useMemo(()=>zw(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?U.createElement(vC,{page:i,matches:r,...e}):null}function yC(i){let{manifest:e,routeModules:t}=Jw(),[r,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return uC(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function vC({page:i,matches:e,...t}){let r=Ls(),{manifest:a,routeModules:l}=Jw(),{basename:c}=Ww(),{loaderData:d,matches:m}=mC(),g=U.useMemo(()=>RE(i,e,m,a,r,"data"),[i,e,m,a,r]),v=U.useMemo(()=>RE(i,e,m,a,r,"assets"),[i,e,m,a,r]),_=U.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let I=new Set,B=!1;if(e.forEach(X=>{let W=a.routes[X.route.id];!W||!W.hasLoader||(!g.some(G=>G.route.id===X.route.id)&&X.route.id in d&&l[X.route.id]?.shouldRevalidate||W.hasClientLoader?B=!0:I.add(X.route.id))}),I.size===0)return[];let V=aC(i,c,"data");return B&&I.size>0&&V.searchParams.set("_routes",e.filter(X=>I.has(X.route.id)).map(X=>X.route.id).join(",")),[V.pathname+V.search]},[c,d,r,a,g,e,i,l]),w=U.useMemo(()=>cC(v,a),[v,a]),S=yC(v);return U.createElement(U.Fragment,null,_.map(I=>U.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>U.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),S.map(({key:I,link:B})=>U.createElement("link",{key:I,nonce:t.nonce,...B})))}function _C(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zw&&(window.__reactRouterVersion="7.9.6")}catch{}function EC({basename:i,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=ax({window:t,v5Compat:!0}));let a=r.current,[l,c]=U.useState({action:a.action,location:a.location}),d=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(d),[a,d]),U.createElement(Xx,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Su=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:_,...w},S){let{basename:I}=U.useContext(Ji),B=typeof g=="string"&&eT.test(g),V,X=!1;if(typeof g=="string"&&B&&(V=g,Zw))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),L=Ir(k.pathname,I);k.origin===x.origin&&L!=null?g=L+k.search+k.hash:X=!0}catch{gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Px(g,{relative:a}),[G,se,de]=pC(r,w),ge=SC(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:_});function C(x){e&&e(x),x.defaultPrevented||ge(x)}let A=U.createElement("a",{...w,...de,href:V||W,onClick:X||l?e:C,ref:_C(S,se),target:m,"data-discover":!B&&t==="render"?"true":void 0});return G&&!B?U.createElement(U.Fragment,null,A,U.createElement(gC,{page:W})):A});Su.displayName="Link";var bC=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let _=Qu(c,{relative:g.relative}),w=Ls(),S=U.useContext(Uf),{navigator:I,basename:B}=U.useContext(Ji),V=S!=null&&IC(_)&&d===!0,X=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,W=w.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(W=W.toLowerCase(),G=G?G.toLowerCase():null,X=X.toLowerCase()),G&&B&&(G=Ir(G,B)||G);const se=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let de=W===X||!a&&W.startsWith(X)&&W.charAt(se)==="/",ge=G!=null&&(G===X||!a&&G.startsWith(X)&&G.charAt(X.length)==="/"),C={isActive:de,isPending:ge,isTransitioning:V},A=de?e:void 0,x;typeof r=="function"?x=r(C):x=[r,de?"active":null,ge?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(C):l;return U.createElement(Su,{...g,"aria-current":A,className:x,ref:v,style:k,to:c,viewTransition:d},typeof m=="function"?m(C):m)});bC.displayName="NavLink";var wC=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Zh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:_,...w},S)=>{let I=xC(),B=CC(d,{relative:g}),V=c.toLowerCase()==="get"?"get":"post",X=typeof d=="string"&&eT.test(d),W=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let se=G.nativeEvent.submitter,de=se?.getAttribute("formmethod")||c;I(se||G.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return U.createElement("form",{ref:S,method:V,action:B,onSubmit:r?m:W,...w,"data-discover":!X&&i==="render"?"true":void 0})});wC.displayName="Form";function TC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(i){let e=U.useContext(Wo);return pt(e,TC(i)),e}function SC(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Yu(),m=Ls(),g=Qu(i,{relative:l});return U.useCallback(v=>{if(nC(v,e)){v.preventDefault();let _=t!==void 0?t:Pu(m)===Pu(g);d(i,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,r,e,i,a,l,c])}var AC=0,RC=()=>`__${String(++AC)}__`;function xC(){let{router:i}=tT("useSubmit"),{basename:e}=U.useContext(Ji),t=$x();return U.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=sC(r,e);if(a.navigate===!1){let v=a.fetcherKey||RC();await i.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function CC(i,{relative:e}={}){let{basename:t}=U.useContext(Ji),r=U.useContext(Zi);pt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Qu(i||".",{relative:e})},c=Ls();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Rr([t,l.pathname])),Pu(l)}function IC(i,{relative:e}={}){let t=U.useContext($w);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tT("useViewTransitionState"),a=Qu(i,{relative:e});if(!t.isTransitioning)return!1;let l=Ir(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Ir(t.nextLocation.pathname,r)||t.nextLocation.pathname;return df(a.pathname,c)!=null||df(a.pathname,l)!=null}let NC={data:""},DC=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||NC},OC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kC=/\/\*[^]*?\*\/|  +/g,xE=/\n+/g,vs=(i,e)=>{let t="",r="",a="";for(let l in i){let c=i[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":r+=l[1]=="f"?vs(c,l):l+"{"+vs(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=vs(c,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=vs.p?vs.p(l,c):l+":"+c+";")}return t+(e&&a?e+"{"+a+"}":a)+r},Er={},nT=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+nT(i[t]);return e}return i},PC=(i,e,t,r,a)=>{let l=nT(i),c=Er[l]||(Er[l]=(m=>{let g=0,v=11;for(;g<m.length;)v=101*v+m.charCodeAt(g++)>>>0;return"go"+v})(l));if(!Er[c]){let m=l!==i?i:(g=>{let v,_,w=[{}];for(;v=OC.exec(g.replace(kC,""));)v[4]?w.shift():v[3]?(_=v[3].replace(xE," ").trim(),w.unshift(w[0][_]=w[0][_]||{})):w[0][v[1]]=v[2].replace(xE," ").trim();return w[0]})(i);Er[c]=vs(a?{["@keyframes "+c]:m}:m,t?"":"."+c)}let d=t&&Er.g?Er.g:null;return t&&(Er.g=Er[c]),((m,g,v,_)=>{_?g.data=g.data.replace(_,m):g.data.indexOf(m)===-1&&(g.data=v?m+g.data:g.data+m)})(Er[c],e,r,d),c},LC=(i,e,t)=>i.reduce((r,a,l)=>{let c=e[l];if(c&&c.call){let d=c(t),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":vs(d,""):d===!1?"":d}return r+a+(c??"")},"");function zf(i){let e=this||{},t=i.call?i(e.p):i;return PC(t.unshift?t.raw?LC(t,[].slice.call(arguments,1),e.p):t.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):t,DC(e.target),e.g,e.o,e.k)}let iT,Xp,Wp;zf.bind({g:1});let Nr=zf.bind({k:1});function MC(i,e,t,r){vs.p=e,iT=i,Xp=t,Wp=r}function Ms(i,e){let t=this||{};return function(){let r=arguments;function a(l,c){let d=Object.assign({},l),m=d.className||a.className;t.p=Object.assign({theme:Xp&&Xp()},d),t.o=/ *go\d+/.test(m),d.className=zf.apply(t,r)+(m?" "+m:"");let g=i;return i[0]&&(g=d.as||i,delete d.as),Wp&&g[0]&&Wp(d),iT(g,d)}return a}}var VC=i=>typeof i=="function",mf=(i,e)=>VC(i)?i(e):i,UC=(()=>{let i=0;return()=>(++i).toString()})(),rT=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),jC=20,Ug="default",sT=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return sT(i,{type:i.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=e;return{...i,toasts:i.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let l=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},tf=[],aT={toasts:[],pausedAt:void 0,settings:{toastLimit:jC}},Fi={},oT=(i,e=Ug)=>{Fi[e]=sT(Fi[e]||aT,i),tf.forEach(([t,r])=>{t===e&&r(Fi[e])})},lT=i=>Object.keys(Fi).forEach(e=>oT(i,e)),zC=i=>Object.keys(Fi).find(e=>Fi[e].toasts.some(t=>t.id===i)),Bf=(i=Ug)=>e=>{oT(e,i)},BC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FC=(i={},e=Ug)=>{let[t,r]=U.useState(Fi[e]||aT),a=U.useRef(Fi[e]);U.useEffect(()=>(a.current!==Fi[e]&&r(Fi[e]),tf.push([e,r]),()=>{let c=tf.findIndex(([d])=>d===e);c>-1&&tf.splice(c,1)}),[e]);let l=t.toasts.map(c=>{var d,m,g;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((d=i[c.type])==null?void 0:d.removeDelay)||i?.removeDelay,duration:c.duration||((m=i[c.type])==null?void 0:m.duration)||i?.duration||BC[c.type],style:{...i.style,...(g=i[c.type])==null?void 0:g.style,...c.style}}});return{...t,toasts:l}},qC=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||UC()}),Xu=i=>(e,t)=>{let r=qC(e,i,t);return Bf(r.toasterId||zC(r.id))({type:2,toast:r}),r.id},qt=(i,e)=>Xu("blank")(i,e);qt.error=Xu("error");qt.success=Xu("success");qt.loading=Xu("loading");qt.custom=Xu("custom");qt.dismiss=(i,e)=>{let t={type:3,toastId:i};e?Bf(e)(t):lT(t)};qt.dismissAll=i=>qt.dismiss(void 0,i);qt.remove=(i,e)=>{let t={type:4,toastId:i};e?Bf(e)(t):lT(t)};qt.removeAll=i=>qt.remove(void 0,i);qt.promise=(i,e,t)=>{let r=qt.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(a=>{let l=e.success?mf(e.success,a):void 0;return l?qt.success(l,{id:r,...t,...t?.success}):qt.dismiss(r),a}).catch(a=>{let l=e.error?mf(e.error,a):void 0;l?qt.error(l,{id:r,...t,...t?.error}):qt.dismiss(r)}),i};var HC=1e3,GC=(i,e="default")=>{let{toasts:t,pausedAt:r}=FC(i,e),a=U.useRef(new Map).current,l=U.useCallback((_,w=HC)=>{if(a.has(_))return;let S=setTimeout(()=>{a.delete(_),c({type:4,toastId:_})},w);a.set(_,S)},[]);U.useEffect(()=>{if(r)return;let _=Date.now(),w=t.map(S=>{if(S.duration===1/0)return;let I=(S.duration||0)+S.pauseDuration-(_-S.createdAt);if(I<0){S.visible&&qt.dismiss(S.id);return}return setTimeout(()=>qt.dismiss(S.id,e),I)});return()=>{w.forEach(S=>S&&clearTimeout(S))}},[t,r,e]);let c=U.useCallback(Bf(e),[e]),d=U.useCallback(()=>{c({type:5,time:Date.now()})},[c]),m=U.useCallback((_,w)=>{c({type:1,toast:{id:_,height:w}})},[c]),g=U.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),v=U.useCallback((_,w)=>{let{reverseOrder:S=!1,gutter:I=8,defaultPosition:B}=w||{},V=t.filter(G=>(G.position||B)===(_.position||B)&&G.height),X=V.findIndex(G=>G.id===_.id),W=V.filter((G,se)=>se<X&&G.visible).length;return V.filter(G=>G.visible).slice(...S?[W+1]:[0,W]).reduce((G,se)=>G+(se.height||0)+I,0)},[t]);return U.useEffect(()=>{t.forEach(_=>{if(_.dismissed)l(_.id,_.removeDelay);else{let w=a.get(_.id);w&&(clearTimeout(w),a.delete(_.id))}})},[t,l]),{toasts:t,handlers:{updateHeight:m,startPause:d,endPause:g,calculateOffset:v}}},$C=Nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KC=Nr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YC=Nr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QC=Ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$C} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,XC=Nr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,WC=Ms("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${XC} 1s linear infinite;
`,JC=Nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZC=Nr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eI=Ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${JC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tI=Ms("div")`
  position: absolute;
`,nI=Ms("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,iI=Nr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rI=Ms("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${iI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sI=({toast:i})=>{let{icon:e,type:t,iconTheme:r}=i;return e!==void 0?typeof e=="string"?U.createElement(rI,null,e):e:t==="blank"?null:U.createElement(nI,null,U.createElement(WC,{...r}),t!=="loading"&&U.createElement(tI,null,t==="error"?U.createElement(QC,{...r}):U.createElement(eI,{...r})))},aI=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oI=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,lI="0%{opacity:0;} 100%{opacity:1;}",uI="0%{opacity:1;} 100%{opacity:0;}",cI=Ms("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hI=Ms("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fI=(i,e)=>{let t=i.includes("top")?1:-1,[r,a]=rT()?[lI,uI]:[aI(t),oI(t)];return{animation:e?`${Nr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dI=U.memo(({toast:i,position:e,style:t,children:r})=>{let a=i.height?fI(i.position||e||"top-center",i.visible):{opacity:0},l=U.createElement(sI,{toast:i}),c=U.createElement(hI,{...i.ariaProps},mf(i.message,i));return U.createElement(cI,{className:i.className,style:{...a,...t,...i.style}},typeof r=="function"?r({icon:l,message:c}):U.createElement(U.Fragment,null,l,c))});MC(U.createElement);var mI=({id:i,className:e,style:t,onHeightUpdate:r,children:a})=>{let l=U.useCallback(c=>{if(c){let d=()=>{let m=c.getBoundingClientRect().height;r(i,m)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[i,r]);return U.createElement("div",{ref:l,className:e,style:t},a)},pI=(i,e)=>{let t=i.includes("top"),r=t?{top:0}:{bottom:0},a=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...a}},gI=zf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zh=16,yI=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:r,children:a,toasterId:l,containerStyle:c,containerClassName:d})=>{let{toasts:m,handlers:g}=GC(t,l);return U.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:zh,left:zh,right:zh,bottom:zh,pointerEvents:"none",...c},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},m.map(v=>{let _=v.position||e,w=g.calculateOffset(v,{reverseOrder:i,gutter:r,defaultPosition:e}),S=pI(_,w);return U.createElement(mI,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?gI:"",style:S},v.type==="custom"?mf(v.message,v):a?a(v):U.createElement(dI,{toast:v,position:_}))}))},at=qt;const Ae=i=>typeof i=="string",du=()=>{let i,e;const t=new Promise((r,a)=>{i=r,e=a});return t.resolve=i,t.reject=e,t},CE=i=>i==null?"":""+i,vI=(i,e,t)=>{i.forEach(r=>{e[r]&&(t[r]=e[r])})},_I=/###/g,IE=i=>i&&i.indexOf("###")>-1?i.replace(_I,"."):i,NE=i=>!i||Ae(i),Au=(i,e,t)=>{const r=Ae(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(NE(i))return{};const l=IE(r[a]);!i[l]&&t&&(i[l]=new t),Object.prototype.hasOwnProperty.call(i,l)?i=i[l]:i={},++a}return NE(i)?{}:{obj:i,k:IE(r[a])}},DE=(i,e,t)=>{const{obj:r,k:a}=Au(i,e,Object);if(r!==void 0||e.length===1){r[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=Au(i,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=Au(i,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},EI=(i,e,t,r)=>{const{obj:a,k:l}=Au(i,e,Object);a[l]=a[l]||[],a[l].push(t)},pf=(i,e)=>{const{obj:t,k:r}=Au(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},bI=(i,e,t)=>{const r=pf(i,t);return r!==void 0?r:pf(e,t)},uT=(i,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in i?Ae(i[r])||i[r]instanceof String||Ae(e[r])||e[r]instanceof String?t&&(i[r]=e[r]):uT(i[r],e[r],t):i[r]=e[r]);return i},xo=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const TI=i=>Ae(i)?i.replace(/[&<>"'\/]/g,e=>wI[e]):i;class SI{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const AI=[" ",",","?","!",";"],RI=new SI(20),xI=(i,e,t)=>{e=e||"",t=t||"";const r=AI.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(r.length===0)return!0;const a=RI.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(i);if(!l){const c=i.indexOf(t);c>0&&!a.test(i.substring(0,c))&&(l=!0)}return l},Jp=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const r=e.split(t);let a=i;for(let l=0;l<r.length;){if(!a||typeof a!="object")return;let c,d="";for(let m=l;m<r.length;++m)if(m!==l&&(d+=t),d+=r[m],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&m<r.length-1)continue;l+=m-l+1;break}a=c}return a},Lu=i=>i?.replace("_","-"),CI={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console?.[i]?.apply?.(console,e)}};let II=class Zp{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||CI,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(Ae(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Zp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Zp(this.logger,e)}};var qi=new II;class Ff{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(t)||0;this.observers[r].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...t])})}}class OE extends Ff{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Ae(r)&&l?d.push(...r.split(l)):d.push(r)));const m=pf(this.data,d);return!m&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),m||!c||!Ae(r)?m:Jp(this.data?.[e]?.[t],r,l)}addResource(e,t,r,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),DE(this.data,d,a),l.silent||this.emit("added",e,t,r,a)}addResources(e,t,r,a={silent:!1}){for(const l in r)(Ae(r[l])||Array.isArray(r[l]))&&this.addResource(e,t,l,r[l],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,l,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=r,r=t,t=d[1]),this.addNamespaces(t);let m=pf(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?uT(m,r,l):m={...m,...r},DE(this.data,d,m),c.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var cT={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,r,a){return i.forEach(l=>{e=this.processors[l]?.process(e,t,r,a)??e}),e}};const hT=Symbol("i18next/PATH_KEY");function NI(){const i=[],e=Object.create(null);let t;return e.get=(r,a)=>(t?.revoke?.(),a===hT?i:(i.push(a),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function eg(i,e){const{[hT]:t}=i(NI());return t.join(e?.keySeparator??".")}const kE={},Sp=i=>!Ae(i)&&typeof i!="boolean"&&typeof i!="number";class gf extends Ff{constructor(e,t={}){super(),vI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const a=this.resolve(e,r);if(a?.res===void 0)return!1;const l=Sp(a.res);return!(r.returnObjects===!1&&l)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!xI(e,r,a);if(c&&!d){const m=e.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:e,namespaces:Ae(l)?[l]:l};const g=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:Ae(l)?[l]:l}}translate(e,t,r){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=eg(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:m}=this.extractFromKey(e[e.length-1],a),g=m[m.length-1];let v=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const _=a.lng||this.language,w=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(_?.toLowerCase()==="cimode")return w?l?{res:`${g}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${v}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:d;const S=this.resolve(e,a);let I=S?.res;const B=S?.usedKey||d,V=S?.exactUsedKey||d,X=["[object Number]","[object Function]","[object RegExp]"],W=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,se=a.count!==void 0&&!Ae(a.count),de=gf.hasDefaultValue(a),ge=se?this.pluralResolver.getSuffix(_,a.count,a):"",C=a.ordinal&&se?this.pluralResolver.getSuffix(_,a.count,{ordinal:!1}):"",A=se&&!a.ordinal&&a.count===0,x=A&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${ge}`]||a[`defaultValue${C}`]||a.defaultValue;let k=I;G&&!I&&de&&(k=x);const L=Sp(k),j=Object.prototype.toString.apply(k);if(G&&k&&L&&X.indexOf(j)<0&&!(Ae(W)&&Array.isArray(k))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(B,k,{...a,ns:m}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(S.res=N,S.usedParams=this.getUsedParamsDetails(a),S):N}if(c){const N=Array.isArray(k),Pe=N?[]:{},We=N?V:B;for(const K in k)if(Object.prototype.hasOwnProperty.call(k,K)){const oe=`${We}${c}${K}`;de&&!I?Pe[K]=this.translate(oe,{...a,defaultValue:Sp(x)?x[K]:void 0,joinArrays:!1,ns:m}):Pe[K]=this.translate(oe,{...a,joinArrays:!1,ns:m}),Pe[K]===oe&&(Pe[K]=k[K])}I=Pe}}else if(G&&Ae(W)&&Array.isArray(I))I=I.join(W),I&&(I=this.extendTranslation(I,e,a,r));else{let N=!1,Pe=!1;!this.isValidLookup(I)&&de&&(N=!0,I=x),this.isValidLookup(I)||(Pe=!0,I=d);const K=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Pe?void 0:I,oe=de&&x!==I&&this.options.updateMissing;if(Pe||N||oe){if(this.logger.log(oe?"updateKey":"missingKey",_,g,d,oe?x:I),c){const P=this.resolve(d,{...a,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let P=0;P<Oe.length;P++)re.push(Oe[P]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(a.lng||this.language):re.push(a.lng||this.language);const qe=(P,J,ae)=>{const le=de&&ae!==I?ae:K;this.options.missingKeyHandler?this.options.missingKeyHandler(P,g,J,le,oe,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(P,g,J,le,oe,a),this.emit("missingKey",P,g,J,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?re.forEach(P=>{const J=this.pluralResolver.getSuffixes(P,a);A&&a[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(ae=>{qe([P],d+ae,a[`defaultValue${ae}`]||x)})}):qe(re,d,x))}I=this.extendTranslation(I,e,a,S,r),Pe&&I===d&&this.options.appendNamespaceToMissingKey&&(I=`${g}${v}${d}`),(Pe||N)&&this.options.parseMissingKeyHandler&&(I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${v}${d}`:d,N?I:void 0,a))}return l?(S.res=I,S.usedParams=this.getUsedParamsDetails(a),S):I}extendTranslation(e,t,r,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Ae(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const _=e.match(this.interpolator.nestingRegexp);g=_&&_.length}let v=r.replace&&!Ae(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||a.usedLng,r),m){const _=e.match(this.interpolator.nestingRegexp),w=_&&_.length;g<w&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(..._)=>l?.[0]===_[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${_[0]} in key: ${t[0]}`),null):this.translate(..._,t),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=Ae(c)?[c]:c;return e!=null&&d?.length&&r.applyPostProcessor!==!1&&(e=cT.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,a,l,c,d;return Ae(e)&&(e=[e]),e.forEach(m=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(m,t),v=g.key;a=v;let _=g.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Ae(t.count),S=w&&!t.ordinal&&t.count===0,I=t.context!==void 0&&(Ae(t.context)||typeof t.context=="number")&&t.context!=="",B=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);_.forEach(V=>{this.isValidLookup(r)||(d=V,!kE[`${B[0]}-${V}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(kE[`${B[0]}-${V}`]=!0,this.logger.warn(`key "${a}" for languages "${B.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(X=>{if(this.isValidLookup(r))return;c=X;const W=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(W,v,X,V,t);else{let se;w&&(se=this.pluralResolver.getSuffix(X,t.count,t));const de=`${this.options.pluralSeparator}zero`,ge=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(t.ordinal&&se.indexOf(ge)===0&&W.push(v+se.replace(ge,this.options.pluralSeparator)),W.push(v+se),S&&W.push(v+de)),I){const C=`${v}${this.options.contextSeparator||"_"}${t.context}`;W.push(C),w&&(t.ordinal&&se.indexOf(ge)===0&&W.push(C+se.replace(ge,this.options.pluralSeparator)),W.push(C+se),S&&W.push(C+de))}}let G;for(;G=W.pop();)this.isValidLookup(r)||(l=G,r=this.getResource(X,V,G,t))}))})}),{res:r,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ae(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class PE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qi.create("languageUtils")}getScriptPartFromCode(e){if(e=Lu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Lu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ae(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(r);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ae(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ae(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ae(e)&&l(this.formatLanguageCode(e)),r.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const LE={zero:0,one:1,two:2,few:3,many:4,other:5},ME={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class DI{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=qi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Lu(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:r,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ME;if(!e.match(/-|_/))return ME;const m=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(m,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((a,l)=>LE[a]-LE[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const VE=(i,e,t,r=".",a=!0)=>{let l=bI(i,e,t);return!l&&a&&Ae(t)&&(l=Jp(i,t,r),l===void 0&&(l=Jp(e,t,r))),l},Ap=i=>i.replace(/\$/g,"$$$$");class OI{constructor(e={}){this.logger=qi.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:m,formatSeparator:g,unescapeSuffix:v,unescapePrefix:_,nestingPrefix:w,nestingPrefixEscaped:S,nestingSuffix:I,nestingSuffixEscaped:B,nestingOptionsSeparator:V,maxReplaces:X,alwaysFormat:W}=e.interpolation;this.escape=t!==void 0?t:TI,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?xo(l):c||"{{",this.suffix=d?xo(d):m||"}}",this.formatSeparator=g||",",this.unescapePrefix=v?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=w?xo(w):S||xo("$t("),this.nestingSuffix=I?xo(I):B||xo(")"),this.nestingOptionsSeparator=V||",",this.maxReplaces=X||1e3,this.alwaysFormat=W!==void 0?W:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,a){let l,c,d;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=S=>{if(S.indexOf(this.formatSeparator)<0){const X=VE(t,m,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(X,void 0,r,{...a,...t,interpolationkey:S}):X}const I=S.split(this.formatSeparator),B=I.shift().trim(),V=I.join(this.formatSeparator).trim();return this.format(VE(t,m,B,this.options.keySeparator,this.options.ignoreJSONStructure),V,r,{...a,...t,interpolationkey:B})};this.resetRegExp();const v=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,_=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>Ap(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?Ap(this.escape(S)):Ap(S)}].forEach(S=>{for(d=0;l=S.regex.exec(e);){const I=l[1].trim();if(c=g(I),c===void 0)if(typeof v=="function"){const V=v(e,l,a);c=Ae(V)?V:""}else if(a&&Object.prototype.hasOwnProperty.call(a,I))c="";else if(_){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),c="";else!Ae(c)&&!this.useRawValueToEscape&&(c=CE(c));const B=S.safeValue(c);if(e=e.replace(l[0],B),_?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let a,l,c;const d=(m,g)=>{const v=this.nestingOptionsSeparator;if(m.indexOf(v)<0)return m;const _=m.split(new RegExp(`${v}[ ]*{`));let w=`{${_[1]}`;m=_[0],w=this.interpolate(w,c);const S=w.match(/'/g),I=w.match(/"/g);((S?.length??0)%2===0&&!I||I.length%2!==0)&&(w=w.replace(/'/g,'"'));try{c=JSON.parse(w),g&&(c={...g,...c})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,B),`${m}${v}${w}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,m};for(;a=this.nestingRegexp.exec(e);){let m=[];c={...r},c=c.replace&&!Ae(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(m=a[1].slice(g).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!Ae(l))return l;Ae(l)||(l=CE(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),m.length&&(l=m.reduce((v,_)=>this.format(v,_,r.lng,{...r,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const kI=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const r=i.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...m]=c.split(":"),g=m.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=g),g==="false"&&(t[v]=!1),g==="true"&&(t[v]=!0),isNaN(g)||(t[v]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},UE=i=>{const e={};return(t,r,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=r+JSON.stringify(l);let d=e[c];return d||(d=i(Lu(r),a),e[c]=d),d(t)}},PI=i=>(e,t,r)=>i(Lu(t),r)(e);class LI{constructor(e={}){this.logger=qi.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?UE:PI;this.formats={number:r((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return d=>c.format(d)}),currency:r((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>c.format(d)}),datetime:r((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return d=>c.format(d)}),relativetime:r((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return d=>c.format(d,l.range||"day")}),list:r((a,l)=>{const c=new Intl.ListFormat(a,{...l});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=UE(t)}format(e,t,r,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(m=>m.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,m)=>{const{formatName:g,formatOptions:v}=kI(m);if(this.formats[g]){let _=d;try{const w=a?.formatParams?.[a.interpolationkey]||{},S=w.locale||w.lng||a.locale||a.lng||r;_=this.formats[g](d,S,{...v,...a,...w})}catch(w){this.logger.warn(w)}return _}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const MI=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class VI extends Ff{constructor(e,t,r,a={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=qi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(e,t,r,a){const l={},c={},d={},m={};return e.forEach(g=>{let v=!0;t.forEach(_=>{const w=`${g}|${_}`;!r.reload&&this.store.hasResourceBundle(g,_)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?c[w]===void 0&&(c[w]=!0):(this.state[w]=1,v=!1,c[w]===void 0&&(c[w]=!0),l[w]===void 0&&(l[w]=!0),m[_]===void 0&&(m[_]=!0)))}),v||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(m)}}loaded(e,t,r){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&r&&this.store.addResourceBundle(l,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(m=>{EI(m.loaded,[l],c),MI(m,e),t&&m.errors.push(t),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(g=>{d[g]||(d[g]={});const v=m.loaded[g];v.length&&v.forEach(_=>{d[g][_]===void 0&&(d[g][_]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(m=>!m.done)}read(e,t,r,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(g,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(g&&v&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,a+1,l*2,c)},l);return}c(g,v)},m=this.backend[r].bind(this.backend);if(m.length===2){try{const g=m(e,t);g&&typeof g.then=="function"?g.then(v=>d(null,v)).catch(d):d(null,g)}catch(g){d(g)}return}return m(e,t,d)}prepareLoading(e,t,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ae(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ae(t)&&(t=[t]);const l=this.queueLoad(e,t,r,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),a=r[0],l=r[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,r,a,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const m={...c,isUpdate:l},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(e,t,r,a,m):v=g(e,t,r,a),v&&typeof v.then=="function"?v.then(_=>d(null,_)).catch(d):d(null,v)}catch(v){d(v)}else g(e,t,r,a,d,m)}!e||!e[0]||this.store.addResource(e[0],t,r,a)}}}const jE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),Ae(i[1])&&(e.defaultValue=i[1]),Ae(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),zE=i=>(Ae(i.ns)&&(i.ns=[i.ns]),Ae(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Ae(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),Bh=()=>{},UI=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class Ru extends Ff{constructor(e={},t){if(super(),this.options=zE(e),this.services={},this.logger=qi,this.modules={external:[]},UI(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ae(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=jE();this.options={...r,...this.options,...zE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?qi.init(a(this.modules.logger),this.options):qi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=LI;const v=new PE(this.options);this.store=new OE(this.options.resources,this.options);const _=this.services;_.logger=qi,_.resourceStore=this.store,_.languageUtils=v,_.pluralResolver=new DI(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(_.formatter=a(g),_.formatter.init&&_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new OI(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new VI(a(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",(S,...I)=>{this.emit(S,...I)}),this.modules.languageDetector&&(_.languageDetector=a(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=a(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new gf(this.services,this.options),this.translator.on("*",(S,...I)=>{this.emit(S,...I)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Bh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...v)=>this.store[g](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...v)=>(this.store[g](...v),this)});const d=du(),m=()=>{const g=(v,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(_),t(v,_)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),d}loadResources(e,t=Bh){let r=t;const a=Ae(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>c(m)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const a=du();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Bh),this.services.backendConnector.reload(e,t,l=>{a.resolve(),r(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=du();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,m)=>{m?this.isLanguageChangingTo===e&&(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const m=Ae(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(Ae(d)?[d]:d);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,v=>{l(v,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,t,r){const a=(l,c,...d)=>{let m;typeof c!="object"?m=this.options.overloadTranslationOptionHandler([l,c].concat(d)):m={...c},m.lng=m.lng||a.lng,m.lngs=m.lngs||a.lngs,m.ns=m.ns||a.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||r||a.keyPrefix);const g=this.options.keySeparator||".";let v;return m.keyPrefix&&Array.isArray(l)?v=l.map(_=>(typeof _=="function"&&(_=eg(_,{...this.options,...c})),`${m.keyPrefix}${g}${_}`)):(typeof l=="function"&&(l=eg(l,{...this.options,...c})),v=m.keyPrefix?`${m.keyPrefix}${g}${l}`:l),this.t(v,m)};return Ae(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(d,m)=>{const g=this.services.backendConnector.state[`${d}|${m}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const r=du();return this.options.ns?(Ae(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=du();Ae(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{r.resolve(),t&&t(c)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new PE(jE());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new Ru(e,t);return r.createInstance=Ru.createInstance,r}cloneInstance(e={},t=Bh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Ru(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},r){const d=Object.keys(this.store.data).reduce((m,g)=>(m[g]={...this.store.data[g]},m[g]=Object.keys(m[g]).reduce((v,_)=>(v[_]={...m[g][_]},v),m[g]),m),{});l.store=new OE(d,a),l.services.resourceStore=l.store}return l.translator=new gf(l.services,a),l.translator.on("*",(d,...m)=>{l.emit(d,...m)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const mn=Ru.createInstance();mn.createInstance;mn.dir;mn.init;mn.loadResources;mn.reloadResources;mn.use;mn.changeLanguage;mn.getFixedT;mn.t;mn.exists;mn.setDefaultNamespace;mn.hasLoadedNamespace;mn.loadNamespaces;mn.loadLanguages;const jI=(i,e,t,r)=>{const a=[t,{code:e,...r||{}}];if(i?.services?.logger?.forward)return i.services.logger.forward(a,"warn","react-i18next::",!0);xa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),i?.services?.logger?.warn?i.services.logger.warn(...a):console?.warn&&console.warn(...a)},BE={},fT=(i,e,t,r)=>{xa(t)&&BE[t]||(xa(t)&&(BE[t]=new Date),jI(i,e,t,r))},dT=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},tg=(i,e,t)=>{i.loadNamespaces(e,dT(i,t))},FE=(i,e,t,r)=>{if(xa(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return tg(i,t,r);t.forEach(a=>{i.options.ns.indexOf(a)<0&&i.options.ns.push(a)}),i.loadLanguages(e,dT(i,r))},zI=(i,e,t={})=>!e.languages||!e.languages.length?(fT(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(r,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,i))return!1}}),xa=i=>typeof i=="string",BI=i=>typeof i=="object"&&i!==null,FI=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qI={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},HI=i=>qI[i],GI=i=>i.replace(FI,HI);let ng={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:GI};const $I=(i={})=>{ng={...ng,...i}},KI=()=>ng;let mT;const YI=i=>{mT=i},QI=()=>mT,XI={type:"3rdParty",init(i){$I(i.options.react),YI(i)}},WI=U.createContext();class JI{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Rp={exports:{}},xp={};var qE;function ZI(){if(qE)return xp;qE=1;var i=Vf();function e(_,w){return _===w&&(_!==0||1/_===1/w)||_!==_&&w!==w}var t=typeof Object.is=="function"?Object.is:e,r=i.useState,a=i.useEffect,l=i.useLayoutEffect,c=i.useDebugValue;function d(_,w){var S=w(),I=r({inst:{value:S,getSnapshot:w}}),B=I[0].inst,V=I[1];return l(function(){B.value=S,B.getSnapshot=w,m(B)&&V({inst:B})},[_,S,w]),a(function(){return m(B)&&V({inst:B}),_(function(){m(B)&&V({inst:B})})},[_]),c(S),S}function m(_){var w=_.getSnapshot;_=_.value;try{var S=w();return!t(_,S)}catch{return!0}}function g(_,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return xp.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:v,xp}var HE;function e2(){return HE||(HE=1,Rp.exports=ZI()),Rp.exports}var t2=e2();const n2=(i,e)=>xa(e)?e:BI(e)&&xa(e.defaultValue)?e.defaultValue:Array.isArray(i)?i[i.length-1]:i,i2={t:n2,ready:!1},r2=()=>()=>{},Wu=(i,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:a}=U.useContext(WI)||{},l=t||r||QI();l&&!l.reportNamespaces&&(l.reportNamespaces=new JI),l||fT(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=U.useMemo(()=>({...KI(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:m}=c,g=U.useMemo(()=>{const C=a||l?.options?.defaultNS;return xa(C)?[C]:C||["translation"]},[i,a,l]);l?.reportNamespaces?.addUsedNamespaces?.(g);const v=U.useRef(0),_=U.useCallback(C=>{if(!l)return r2;const{bindI18n:A,bindI18nStore:x}=c,k=()=>{v.current+=1,C()};return A&&l.on(A,k),x&&l.store.on(x,k),()=>{A&&A.split(" ").forEach(L=>l.off(L,k)),x&&x.split(" ").forEach(L=>l.store.off(L,k))}},[l,c]),w=U.useRef(),S=U.useCallback(()=>{if(!l)return i2;const C=!!(l.isInitialized||l.initializedStoreOnce)&&g.every(N=>zI(N,l,c)),A=e.lng||l.language,x=v.current,k=w.current;if(k&&k.ready===C&&k.lng===A&&k.keyPrefix===m&&k.revision===x)return k;const j={t:l.getFixedT(A,c.nsMode==="fallback"?g:g[0],m),ready:C,lng:A,keyPrefix:m,revision:x};return w.current=j,j},[l,g,m,c,e.lng]),[I,B]=U.useState(0),{t:V,ready:X}=t2.useSyncExternalStore(_,S,S);U.useEffect(()=>{if(l&&!X&&!d){const C=()=>B(A=>A+1);e.lng?FE(l,e.lng,g,C):tg(l,g,C)}},[l,e.lng,g,X,d,I]);const W=l||{},G=U.useRef(null),se=U.useRef(),de=C=>{const A=Object.getOwnPropertyDescriptors(C);A.__original&&delete A.__original;const x=Object.create(Object.getPrototypeOf(C),A);if(!Object.prototype.hasOwnProperty.call(x,"__original"))try{Object.defineProperty(x,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return x},ge=U.useMemo(()=>{const C=W,A=C?.language;let x=C;C&&(G.current&&G.current.__original===C?se.current!==A?(x=de(C),G.current=x,se.current=A):x=G.current:(x=de(C),G.current=x,se.current=A));const k=[V,x,X];return k.t=V,k.i18n=x,k.ready=X,k},[V,W,X,W.resolvedLanguage,W.language,W.languages]);if(l&&d&&!X)throw new Promise(C=>{const A=()=>C();e.lng?FE(l,e.lng,g,A):tg(l,g,A)});return ge},s2=()=>{};var GE={};const pT=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},a2=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,S=g&63;m||(S=64,c||(w=64)),r.push(t[v],t[_],t[w],t[S])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(pT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):a2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const _=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new o2;const w=l<<2|d>>4;if(r.push(w),g!==64){const S=d<<4&240|g>>2;if(r.push(S),_!==64){const I=g<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l2=function(i){const e=pT(i);return gT.encodeByteArray(e,!0)},yf=function(i){return l2(i).replace(/\./g,"")},yT=function(i){try{return gT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const c2=()=>u2().__FIREBASE_DEFAULTS__,h2=()=>{if(typeof process>"u"||typeof GE>"u")return;const i=GE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},f2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yT(i[1]);return e&&JSON.parse(e)},qf=()=>{try{return s2()||c2()||h2()||f2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},vT=i=>qf()?.emulatorHosts?.[i],_T=i=>{const e=vT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ET=()=>qf()?.config,bT=i=>qf()?.[`_${i}`];class d2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Vs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jg(i){return(await fetch(i,{credentials:"include"})).ok}function wT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[yf(JSON.stringify(t)),yf(JSON.stringify(c)),""].join(".")}const xu={};function m2(){const i={prod:[],emulator:[]};for(const e of Object.keys(xu))xu[e]?i.emulator.push(e):i.prod.push(e);return i}function p2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let $E=!1;function zg(i,e){if(typeof window>"u"||typeof document>"u"||!Vs(window.location.host)||xu[i]===e||xu[i]||$E)return;xu[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=m2().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{$E=!0,c()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=p2(r),S=t("text"),I=document.getElementById(S)||document.createElement("span"),B=t("learnmore"),V=document.getElementById(B)||document.createElement("a"),X=t("preprendIcon"),W=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;d(G),v(V,B);const se=g();m(W,X),G.append(W,I,V,se),document.body.appendChild(G)}l?(I.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function y2(){const i=qf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function w2(){return!y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T2(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const A2="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=A2,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?R2(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new er(a,d,r)}}function R2(i,e){return i.replace(x2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const x2=/\{\$([^}]+)}/g;function C2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ca(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(KE(l)&&KE(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function KE(i){return i!==null&&typeof i=="object"}function Zu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function _u(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function I2(i,e){const t=new N2(i,e);return t.subscribe.bind(t)}class N2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");D2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Cp),a.error===void 0&&(a.error=Cp),a.complete===void 0&&(a.complete=Cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Cp(){}function ft(i){return i&&i._delegate?i._delegate:i}class Cs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ea="[DEFAULT]";class O2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new d2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k2(i){return i===Ea?void 0:i}function P2(i){return i.instantiationMode==="EAGER"}class L2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new O2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const M2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},V2=ze.INFO,U2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},j2=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=U2[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=V2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const z2=(i,e)=>e.some(t=>i instanceof t);let YE,QE;function B2(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,ig=new WeakMap,ST=new WeakMap,Ip=new WeakMap,Fg=new WeakMap;function q2(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(Ss(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&TT.set(t,i)}).catch(()=>{}),Fg.set(e,i),e}function H2(i){if(ig.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});ig.set(i,e)}let rg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ig.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ST.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function G2(i){rg=i(rg)}function $2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Np(this),e,...t);return ST.set(r,e.sort?e.sort():[e]),Ss(r)}:F2().includes(i)?function(...e){return i.apply(Np(this),e),Ss(TT.get(this))}:function(...e){return Ss(i.apply(Np(this),e))}}function K2(i){return typeof i=="function"?$2(i):(i instanceof IDBTransaction&&H2(i),z2(i,B2())?new Proxy(i,rg):i)}function Ss(i){if(i instanceof IDBRequest)return q2(i);if(Ip.has(i))return Ip.get(i);const e=K2(i);return e!==i&&(Ip.set(i,e),Fg.set(e,i)),e}const Np=i=>Fg.get(i);function Y2(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=Ss(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Ss(c.result),m.oldVersion,m.newVersion,Ss(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Q2=["get","getKey","getAll","getAllKeys","count"],X2=["put","add","delete","clear"],Dp=new Map;function XE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Dp.get(e))return Dp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=X2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Q2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Dp.set(e,l),l}G2(i=>({...i,get:(e,t,r)=>XE(e,t)||i.get(e,t,r),has:(e,t)=>!!XE(e,t)||i.has(e,t)}));class W2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function J2(i){return i.getComponent()?.type==="VERSION"}const sg="@firebase/app",WE="0.14.6";const Dr=new Bg("@firebase/app"),Z2="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",iN="@firebase/app-check",rN="@firebase/auth",sN="@firebase/auth-compat",aN="@firebase/database",oN="@firebase/data-connect",lN="@firebase/database-compat",uN="@firebase/functions",cN="@firebase/functions-compat",hN="@firebase/installations",fN="@firebase/installations-compat",dN="@firebase/messaging",mN="@firebase/messaging-compat",pN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",_N="@firebase/storage",EN="@firebase/storage-compat",bN="@firebase/firestore",wN="@firebase/ai",TN="@firebase/firestore-compat",SN="firebase",AN="12.6.0";const ag="[DEFAULT]",RN={[sg]:"fire-core",[Z2]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[iN]:"fire-app-check",[nN]:"fire-app-check-compat",[rN]:"fire-auth",[sN]:"fire-auth-compat",[aN]:"fire-rtdb",[oN]:"fire-data-connect",[lN]:"fire-rtdb-compat",[uN]:"fire-fn",[cN]:"fire-fn-compat",[hN]:"fire-iid",[fN]:"fire-iid-compat",[dN]:"fire-fcm",[mN]:"fire-fcm-compat",[pN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[_N]:"fire-gcs",[EN]:"fire-gcs-compat",[bN]:"fire-fst",[TN]:"fire-fst-compat",[wN]:"fire-vertex","fire-js":"fire-js",[SN]:"fire-js-all"};const vf=new Map,xN=new Map,og=new Map;function JE(i,e){try{i.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ia(i){const e=i.name;if(og.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,i);for(const t of vf.values())JE(t,i);for(const t of xN.values())JE(t,i);return!0}function Hf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Tn(i){return i==null?!1:i.settings!==void 0}const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Ju("app","Firebase",CN);class IN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}const La=AN;function AT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:ag,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw As.create("bad-app-name",{appName:String(a)});if(t||(t=ET()),!t)throw As.create("no-options");const l=vf.get(a);if(l){if(Ca(t,l.options)&&Ca(r,l.config))return l;throw As.create("duplicate-app",{appName:a})}const c=new L2(a);for(const m of og.values())c.addComponent(m);const d=new IN(t,r,c);return vf.set(a,d),d}function qg(i=ag){const e=vf.get(i);if(!e&&i===ag&&ET())return AT();if(!e)throw As.create("no-app",{appName:i});return e}function Gi(i,e,t){let r=RN[i]??i;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(c.join(" "));return}Ia(new Cs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const NN="firebase-heartbeat-database",DN=1,Mu="firebase-heartbeat-store";let Op=null;function RT(){return Op||(Op=Y2(NN,DN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Mu)}catch(t){console.warn(t)}}}}).catch(i=>{throw As.create("idb-open",{originalErrorMessage:i.message})})),Op}async function ON(i){try{const t=(await RT()).transaction(Mu),r=await t.objectStore(Mu).get(xT(i));return await t.done,r}catch(e){if(e instanceof er)Dr.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(t.message)}}}async function ZE(i,e){try{const r=(await RT()).transaction(Mu,"readwrite");await r.objectStore(Mu).put(e,xT(i)),await r.done}catch(t){if(t instanceof er)Dr.warn(t.message);else{const r=As.create("idb-set",{originalErrorMessage:t?.message});Dr.warn(r.message)}}}function xT(i){return`${i.name}!${i.options.appId}`}const kN=1024,PN=30;class LN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>PN){const a=UN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eb(),{heartbeatsToSend:t,unsentEntries:r}=MN(this._heartbeatsCache.heartbeats),a=yf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Dr.warn(e),""}}}function eb(){return new Date().toISOString().substring(0,10)}function MN(i,e=kN){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),tb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),tb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class VN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T2()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ON(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tb(i){return yf(JSON.stringify({version:2,heartbeats:i})).length}function UN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}function jN(i){Ia(new Cs("platform-logger",e=>new W2(e),"PRIVATE")),Ia(new Cs("heartbeat",e=>new LN(e),"PRIVATE")),Gi(sg,WE,i),Gi(sg,WE,"esm2020"),Gi("fire-js","")}jN("");function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zN=CT,IT=new Ju("auth","Firebase",CT());const _f=new Bg("@firebase/auth");function BN(i,...e){_f.logLevel<=ze.WARN&&_f.warn(`Auth (${La}): ${i}`,...e)}function nf(i,...e){_f.logLevel<=ze.ERROR&&_f.error(`Auth (${La}): ${i}`,...e)}function Zn(i,...e){throw Gg(i,...e)}function pi(i,...e){return Gg(i,...e)}function Hg(i,e,t){const r={...zN(),[e]:t};return new Ju("auth","Firebase",r).create(e,{appName:i.name})}function xr(i){return Hg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FN(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(i,"argument-error"),Hg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return IT.create(i,...e)}function Te(i,e,...t){if(!i)throw Gg(e,...t)}function Sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw nf(e),new Error(e)}function Or(i,e){i||Sr(e)}function lg(){return typeof self<"u"&&self.location?.href||""}function qN(){return nb()==="http:"||nb()==="https:"}function nb(){return typeof self<"u"&&self.location?.protocol||null}function HN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qN()||_2()||"connection"in navigator)?navigator.onLine:!0}function GN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class ec{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile=g2()||E2()}get(){return HN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $g(i,e){Or(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class NT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new ec(3e4,6e4);function Us(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Mr(i,e,t,r,a={}){return DT(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Zu({key:i.config.apiKey,...c}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:m,...l};return v2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Vs(i.emulatorConfig.host)&&(g.credentials="include"),NT.fetch()(await OT(i,i.config.apiHost,t,d),g)})}async function DT(i,e,t){i._canInitEmulator=!1;const r={...$N,...e};try{const a=new XN(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(i,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(i,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(i,"user-disabled",c);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hg(i,v,g);Zn(i,v)}}catch(a){if(a instanceof er)throw a;Zn(i,"network-request-failed",{message:String(a)})}}async function tc(i,e,t,r,a={}){const l=await Mr(i,e,t,r,a);return"mfaPendingCredential"in l&&Zn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function OT(i,e,t,r){const a=`${e}${t}?${r}`,l=i,c=l.config.emulator?$g(i.config,a):`${i.config.apiScheme}://${a}`;return KN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function QN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),YN.get())})}}function Fh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=pi(i,e,r);return a.customData._tokenResponse=t,a}function ib(i){return i!==void 0&&i.enterprise!==void 0}class WN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JN(i,e){return Mr(i,"GET","/v2/recaptchaConfig",Us(i,e))}async function ZN(i,e){return Mr(i,"POST","/v1/accounts:delete",e)}async function Ef(i,e){return Mr(i,"POST","/v1/accounts:lookup",e)}function Cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(i,e=!1){const t=ft(i),r=await t.getIdToken(e),a=Kg(r);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Cu(kp(a.auth_time)),issuedAtTime:Cu(kp(a.iat)),expirationTime:Cu(kp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function kp(i){return Number(i)*1e3}function Kg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const a=yT(t);return a?JSON.parse(a):(nf("Failed to decode base64 JWT payload"),null)}catch(a){return nf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rb(i){const e=Kg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&tD(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function tD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class nD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(i){const e=i.auth,t=await i.getIdToken(),r=await qo(i,Ef(e,{idToken:t}));Te(r?.users.length,e,"internal-error");const a=r.users[0];i._notifyReloadListener(a);const l=a.providerUserInfo?.length?kT(a.providerUserInfo):[],c=rD(i.providerData,l),d=i.isAnonymous,m=!(i.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function iD(i){const e=ft(i);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rD(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function kT(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function sD(i,e){const t=await DT(i,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await OT(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return i.emulatorConfig&&Vs(i.emulatorConfig.host)&&(m.credentials="include"),NT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aD(i,e){return Mr(i,"POST","/v2/accounts:revokeToken",Us(i,e))}class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=rb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await sD(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Vo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function gs(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await qo(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await qo(this,ZN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:S,providerData:I,stsTokenManager:B}=t;Te(_&&B,e,"internal-error");const V=Vo.fromJSON(this.name,B);Te(typeof _=="string",e,"internal-error"),gs(r,e.name),gs(a,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof S=="boolean",e,"internal-error"),gs(l,e.name),gs(c,e.name),gs(d,e.name),gs(m,e.name),gs(g,e.name),gs(v,e.name);const X=new mi({uid:_,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:V,createdAt:g,lastLoginAt:v});return I&&Array.isArray(I)&&(X.providerData=I.map(W=>({...W}))),m&&(X._redirectEventId=m),X}static async _fromIdTokenResponse(e,t,r=!1){const a=new Vo;a.updateFromServerResponse(t);const l=new mi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Vo;d.updateFromIdToken(r);const m=new mi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const sb=new Map;function Ar(i){Or(i instanceof Function,"Expected a class definition");let e=sb.get(i);return e?(Or(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sb.set(i,e),e)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PT.type="NONE";const ab=PT;function rf(i,e,t){return`firebase:${i}:${e}:${t}`}class Uo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=rf(this.userKey,a.apiKey,l),this.fullPersistenceKey=rf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ef(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Uo(Ar(ab),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ar(ab);const c=rf(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let _;if(typeof v=="string"){const w=await Ef(e,{idToken:v}).catch(()=>{});if(!w)break;_=await mi._fromGetAccountInfoResponse(e,w,v)}else _=mi._fromJSON(e,v);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,e,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Uo(l,e,r))}}function ob(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zT(e))return"Blackberry";if(BT(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function LT(i=un()){return/firefox\//i.test(i)}function MT(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(i=un()){return/crios\//i.test(i)}function UT(i=un()){return/iemobile/i.test(i)}function jT(i=un()){return/android/i.test(i)}function zT(i=un()){return/blackberry/i.test(i)}function BT(i=un()){return/webos/i.test(i)}function Yg(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function oD(i=un()){return Yg(i)&&!!window.navigator?.standalone}function lD(){return b2()&&document.documentMode===10}function FT(i=un()){return Yg(i)||jT(i)||BT(i)||zT(i)||/windows phone/i.test(i)||UT(i)}function qT(i,e=[]){let t;switch(i){case"Browser":t=ob(un());break;case"Worker":t=`${ob(un())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${La}/${r}`}class uD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cD(i,e={}){return Mr(i,"GET","/v2/passwordPolicy",Us(i,e))}const hD=6;class fD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class dD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new uD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ef(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(xr(this));const t=e?ft(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cD(this),t=new fD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await aD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function js(i){return ft(i)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(i){Gf=i}function HT(i){return Gf.loadJS(i)}function pD(){return Gf.recaptchaEnterpriseScript}function gD(){return Gf.gapiScript}function yD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class vD{constructor(){this.enterprise=new _D}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _D{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ED="recaptcha-enterprise",GT="NO_RECAPTCHA";class bD{constructor(e){this.type=ED,this.auth=js(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{JN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new WN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;ib(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(GT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!t&&ib(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=pD();m.length!==0&&(m+=d),HT(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function ub(i,e,t,r=!1,a=!1){const l=new bD(i);let c;if(a)c=GT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cg(i,e,t,r,a){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ub(i,e,t,t==="getOobCode");return r(i,l)}else return r(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ub(i,e,t,t==="getOobCode");return r(i,c)}else return Promise.reject(l)})}function wD(i,e){const t=Hf(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ca(l,e??{}))return a;Zn(a,"already-initialized")}return t.initialize({options:e})}function TD(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function SD(i,e,t){const r=js(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=$T(e),{host:c,port:d}=AD(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Ca(g,r.config.emulator)&&Ca(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Vs(c)?(jg(`${l}//${c}${m}`),zg("Auth",!0)):RD()}function $T(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AD(i){const e=$T(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:cb(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:cb(c)}}}function cb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function RD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Qg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function xD(i,e){return Mr(i,"POST","/v1/accounts:signUp",e)}async function CD(i,e){return tc(i,"POST","/v1/accounts:signInWithPassword",Us(i,e))}async function ID(i,e){return tc(i,"POST","/v1/accounts:signInWithEmailLink",Us(i,e))}async function ND(i,e){return tc(i,"POST","/v1/accounts:signInWithEmailLink",Us(i,e))}class Vu extends Qg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Vu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Vu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",CD);case"emailLink":return ID(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",xD);case"emailLink":return ND(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jo(i,e){return tc(i,"POST","/v1/accounts:signInWithIdp",Us(i,e))}const DD="http://localhost";class Na extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new Na(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,jo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:DD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zu(t)}return e}}function OD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kD(i){const e=vu(_u(i)).link,t=e?vu(_u(e)).deep_link_id:null,r=vu(_u(i)).deep_link_id;return(r?vu(_u(r)).link:null)||r||t||e||i}class Xg{constructor(e){const t=vu(_u(e)),r=t.apiKey??null,a=t.oobCode??null,l=OD(t.mode??null);Te(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=kD(e);try{return new Xg(t)}catch{return null}}}class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return Vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Xg.parseLink(t);return Te(r,"argument-error"),Vu._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends Wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _s extends nc{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";class Tr extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Tr.credential(t,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class Es extends nc{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class bs extends nc{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";async function PD(i,e){return tc(i,"POST","/v1/accounts:signUp",Us(i,e))}class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await mi._fromIdTokenResponse(e,r,a),c=hb(r);return new Da({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=hb(r);return new Da({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function hb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class wf extends er{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new wf(e,t,r,a)}}function KT(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(i,l,e,r):l})}async function LD(i,e,t=!1){const r=await qo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Da._forOperation(i,"link",r)}async function MD(i,e,t=!1){const{auth:r}=i;if(Tn(r.app))return Promise.reject(xr(r));const a="reauthenticate";try{const l=await qo(i,KT(r,a,e,i),t);Te(l.idToken,r,"internal-error");const c=Kg(l.idToken);Te(c,r,"internal-error");const{sub:d}=c;return Te(i.uid===d,r,"user-mismatch"),Da._forOperation(i,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),l}}async function YT(i,e,t=!1){if(Tn(i.app))return Promise.reject(xr(i));const r="signIn",a=await KT(i,r,e),l=await Da._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}async function VD(i,e){return YT(js(i),e)}async function QT(i){const e=js(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UD(i,e,t){if(Tn(i.app))return Promise.reject(xr(i));const r=js(i),c=await cg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&QT(i),m}),d=await Da._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function jD(i,e,t){return Tn(i.app)?Promise.reject(xr(i)):VD(ft(i),Jo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QT(i),r})}async function zD(i,e){return Mr(i,"POST","/v1/accounts:update",e)}async function BD(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ft(i),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await qo(r,zD(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function FD(i,e,t,r){return ft(i).onIdTokenChanged(e,t,r)}function qD(i,e,t){return ft(i).beforeAuthStateChanged(e,t)}function HD(i,e,t,r){return ft(i).onAuthStateChanged(e,t,r)}function GD(i){return ft(i).signOut()}const Tf="__sak";class XT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $D=1e3,KD=10;class WT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);lD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,KD):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const YD=WT;class JT extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JT.type="SESSION";const ZT=JT;function QD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new $f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await QD(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];function Jg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}class XD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Jg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $i(){return window}function WD(i){$i().location.href=i}function eS(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function JD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){return navigator?.serviceWorker?.controller||null}function eO(){return eS()?self:null}const tS="firebaseLocalStorageDb",tO=1,Sf="firebaseLocalStorage",nS="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kf(i,e){return i.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function nO(){const i=indexedDB.deleteDatabase(tS);return new ic(i).toPromise()}function hg(){const i=indexedDB.open(tS,tO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Sf,{keyPath:nS})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Sf)?e(r):(r.close(),await nO(),e(await hg()))})})}async function fb(i,e,t){const r=Kf(i,!0).put({[nS]:e,value:t});return new ic(r).toPromise()}async function iO(i,e){const t=Kf(i,!1).get(e),r=await new ic(t).toPromise();return r===void 0?null:r.value}function db(i,e){const t=Kf(i,!0).delete(e);return new ic(t).toPromise()}const rO=800,sO=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(eO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JD(),!this.activeServiceWorker)return;this.sender=new XD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await fb(e,Tf,"1"),await db(e,Tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>iO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Kf(a,!1).getAll();return new ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const aO=iS;new ec(3e4,6e4);function rS(i,e){return e?Ar(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Zg extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oO(i){return YT(i.auth,new Zg(i),i.bypassAuthState)}function lO(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),MD(t,new Zg(i),i.bypassAuthState)}async function uO(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),LD(t,new Zg(i),i.bypassAuthState)}class sS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oO;case"linkViaPopup":case"linkViaRedirect":return uO;case"reauthViaPopup":case"reauthViaRedirect":return lO;default:Zn(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cO=new ec(2e3,1e4);async function hO(i,e,t){if(Tn(i.app))return Promise.reject(pi(i,"operation-not-supported-in-this-environment"));const r=js(i);FN(i,e,Wg);const a=rS(r,t);return new wa(r,"signInViaPopup",e,a).executeNotNull()}class wa extends sS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cO.get())};e()}}wa.currentPopupAction=null;const fO="pendingRedirect",sf=new Map;class dO extends sS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const r=await mO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mO(i,e){const t=yO(e),r=gO(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function pO(i,e){sf.set(i._key(),e)}function gO(i){return Ar(i._redirectPersistence)}function yO(i){return rf(fO,i.config.apiKey,i.name)}async function vO(i,e,t=!1){if(Tn(i.app))return Promise.reject(xr(i));const r=js(i),a=rS(r,e),c=await new dO(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const _O=600*1e3;class EO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!aS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(pi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function aS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function bO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(i);default:return!1}}async function wO(i,e={}){return Mr(i,"GET","/v1/projects",e)}const TO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^https?/;async function AO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await wO(i);for(const t of e)try{if(RO(t))return}catch{}Zn(i,"unauthorized-domain")}function RO(i){const e=lg(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!SO.test(t))return!1;if(TO.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const xO=new ec(3e4,6e4);function pb(){const i=$i().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function CO(i){return new Promise((e,t)=>{function r(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),t(pi(i,"network-request-failed"))},timeout:xO.get()})}if($i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($i().gapi?.load)r();else{const a=yD("iframefcb");return $i()[a]=()=>{gapi.load?r():t(pi(i,"network-request-failed"))},HT(`${gD()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw af=null,e})}let af=null;function IO(i){return af=af||CO(i),af}const NO=new ec(5e3,15e3),DO="__/auth/iframe",OO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LO(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?$g(e,OO):`https://${i.config.authDomain}/${DO}`,r={apiKey:e.apiKey,appName:i.name,v:La},a=PO.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Zu(r).slice(1)}`}async function MO(i){const e=await IO(i),t=$i().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:LO(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=pi(i,"network-request-failed"),d=$i().setTimeout(()=>{l(c)},NO.get());function m(){$i().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}const VO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UO=500,jO=600,zO="_blank",BO="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FO(i,e,t,r=UO,a=jO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...VO,width:r.toString(),height:a.toString(),top:l,left:c},g=un().toLowerCase();t&&(d=VT(g)?zO:t),LT(g)&&(e=e||BO,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[S,I])=>`${w}${S}=${I},`,"");if(oD(g)&&d!=="_self")return qO(e||"",d),new gb(null);const _=window.open(e||"",d,v);Te(_,i,"popup-blocked");try{_.focus()}catch{}return new gb(_)}function qO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const HO="__/auth/handler",GO="emulator/auth/handler",$O=encodeURIComponent("fac");async function yb(i,e,t,r,a,l){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:La,eventId:a};if(e instanceof Wg){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",C2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof nc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),g=m?`#${$O}=${encodeURIComponent(m)}`:"";return`${KO(i)}?${Zu(d).slice(1)}${g}`}function KO({config:i}){return i.emulator?$g(i,GO):`https://${i.authDomain}/${HO}`}const Pp="webStorageSupport";class YO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZT,this._completeRedirectFn=vO,this._overrideRedirectResult=pO}async _openPopup(e,t,r,a){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await yb(e,t,r,lg(),a);return FO(e,l,Jg())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await yb(e,t,r,lg(),a);return WD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Or(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await MO(e),r=new EO(e);return t.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},a=>{const l=a?.[0]?.[Pp];l!==void 0&&t(!!l),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FT()||MT()||Yg()}}const QO=YO;var vb="@firebase/auth",_b="1.11.1";class XO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JO(i){Ia(new Cs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(i)},g=new dD(r,a,l,m);return TD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ia(new Cs("auth-internal",e=>{const t=js(e.getProvider("auth").getImmediate());return(r=>new XO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(vb,_b,WO(i)),Gi(vb,_b,"esm2020")}const ZO=300,ek=bT("authIdTokenMaxAge")||ZO;let Eb=null;const tk=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ek)return;const a=t?.token;Eb!==a&&(Eb=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nk(i=qg()){const e=Hf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=wD(i,{popupRedirectResolver:QO,persistence:[aO,YD,ZT]}),r=bT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=tk(l.toString());qD(t,c,()=>c(t.currentUser)),FD(t,d=>c(d))}}const a=vT("auth");return a&&SD(t,`http://${a}`),t}function ik(){return document.getElementsByTagName("head")?.[0]??document}mD({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=pi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",ik().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JO("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rs,oS;(function(){var i;function e(C,A){function x(){}x.prototype=A.prototype,C.F=A.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(k,L,j){for(var N=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)N[Pe-2]=arguments[Pe];return A.prototype[L].apply(k,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,x){x||(x=0);const k=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)k[L]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(L=0;L<16;++L)k[L]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=C.g[0],x=C.g[1],L=C.g[2];let j=C.g[3],N;N=A+(j^x&(L^j))+k[0]+3614090360&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(L^A&(x^L))+k[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=L+(x^j&(A^x))+k[2]+606105819&4294967295,L=j+(N<<17&4294967295|N>>>15),N=x+(A^L&(j^A))+k[3]+3250441966&4294967295,x=L+(N<<22&4294967295|N>>>10),N=A+(j^x&(L^j))+k[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(L^A&(x^L))+k[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=L+(x^j&(A^x))+k[6]+2821735955&4294967295,L=j+(N<<17&4294967295|N>>>15),N=x+(A^L&(j^A))+k[7]+4249261313&4294967295,x=L+(N<<22&4294967295|N>>>10),N=A+(j^x&(L^j))+k[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(L^A&(x^L))+k[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=L+(x^j&(A^x))+k[10]+4294925233&4294967295,L=j+(N<<17&4294967295|N>>>15),N=x+(A^L&(j^A))+k[11]+2304563134&4294967295,x=L+(N<<22&4294967295|N>>>10),N=A+(j^x&(L^j))+k[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(L^A&(x^L))+k[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=L+(x^j&(A^x))+k[14]+2792965006&4294967295,L=j+(N<<17&4294967295|N>>>15),N=x+(A^L&(j^A))+k[15]+1236535329&4294967295,x=L+(N<<22&4294967295|N>>>10),N=A+(L^j&(x^L))+k[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^L&(A^x))+k[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=L+(A^x&(j^A))+k[11]+643717713&4294967295,L=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(L^j))+k[0]+3921069994&4294967295,x=L+(N<<20&4294967295|N>>>12),N=A+(L^j&(x^L))+k[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^L&(A^x))+k[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=L+(A^x&(j^A))+k[15]+3634488961&4294967295,L=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(L^j))+k[4]+3889429448&4294967295,x=L+(N<<20&4294967295|N>>>12),N=A+(L^j&(x^L))+k[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^L&(A^x))+k[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=L+(A^x&(j^A))+k[3]+4107603335&4294967295,L=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(L^j))+k[8]+1163531501&4294967295,x=L+(N<<20&4294967295|N>>>12),N=A+(L^j&(x^L))+k[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^L&(A^x))+k[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=L+(A^x&(j^A))+k[7]+1735328473&4294967295,L=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(L^j))+k[12]+2368359562&4294967295,x=L+(N<<20&4294967295|N>>>12),N=A+(x^L^j)+k[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^L)+k[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=L+(j^A^x)+k[11]+1839030562&4294967295,L=j+(N<<16&4294967295|N>>>16),N=x+(L^j^A)+k[14]+4259657740&4294967295,x=L+(N<<23&4294967295|N>>>9),N=A+(x^L^j)+k[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^L)+k[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=L+(j^A^x)+k[7]+4139469664&4294967295,L=j+(N<<16&4294967295|N>>>16),N=x+(L^j^A)+k[10]+3200236656&4294967295,x=L+(N<<23&4294967295|N>>>9),N=A+(x^L^j)+k[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^L)+k[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=L+(j^A^x)+k[3]+3572445317&4294967295,L=j+(N<<16&4294967295|N>>>16),N=x+(L^j^A)+k[6]+76029189&4294967295,x=L+(N<<23&4294967295|N>>>9),N=A+(x^L^j)+k[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^L)+k[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=L+(j^A^x)+k[15]+530742520&4294967295,L=j+(N<<16&4294967295|N>>>16),N=x+(L^j^A)+k[2]+3299628645&4294967295,x=L+(N<<23&4294967295|N>>>9),N=A+(L^(x|~j))+k[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~L))+k[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=L+(A^(j|~x))+k[14]+2878612391&4294967295,L=j+(N<<15&4294967295|N>>>17),N=x+(j^(L|~A))+k[5]+4237533241&4294967295,x=L+(N<<21&4294967295|N>>>11),N=A+(L^(x|~j))+k[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~L))+k[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=L+(A^(j|~x))+k[10]+4293915773&4294967295,L=j+(N<<15&4294967295|N>>>17),N=x+(j^(L|~A))+k[1]+2240044497&4294967295,x=L+(N<<21&4294967295|N>>>11),N=A+(L^(x|~j))+k[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~L))+k[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=L+(A^(j|~x))+k[6]+2734768916&4294967295,L=j+(N<<15&4294967295|N>>>17),N=x+(j^(L|~A))+k[13]+1309151649&4294967295,x=L+(N<<21&4294967295|N>>>11),N=A+(L^(x|~j))+k[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~L))+k[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=L+(A^(j|~x))+k[2]+718787259&4294967295,L=j+(N<<15&4294967295|N>>>17),N=x+(j^(L|~A))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const x=A-this.blockSize,k=this.C;let L=this.h,j=0;for(;j<A;){if(L==0)for(;j<=x;)a(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<A;)if(k[L++]=C.charCodeAt(j++),L==this.blockSize){a(this,k),L=0;break}}else for(;j<A;)if(k[L++]=C[j++],L==this.blockSize){a(this,k),L=0;break}}this.h=L,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)C[A++]=this.g[x]>>>k&255;return C};function l(C,A){var x=d;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=A(C)}function c(C,A){this.h=A;const x=[];let k=!0;for(let L=C.length-1;L>=0;L--){const j=C[L]|0;k&&j==A||(x[L]=j,k=!1)}this.g=x}var d={};function m(C){return-128<=C&&C<128?l(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return V(g(-C));const A=[];let x=1;for(let k=0;C>=x;k++)A[k]=C/x|0,x*=4294967296;return new c(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return V(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(A,8));let k=_;for(let j=0;j<C.length;j+=8){var L=Math.min(8,C.length-j);const N=parseInt(C.substring(j,j+L),A);L<8?(L=g(Math.pow(A,L)),k=k.j(L).add(g(N))):(k=k.j(x),k=k.add(g(N)))}return k}var _=m(0),w=m(1),S=m(16777216);i=c.prototype,i.m=function(){if(B(this))return-V(this).m();let C=0,A=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);C+=(k>=0?k:4294967296+k)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(B(this))return"-"+V(this).toString(C);const A=g(Math.pow(C,6));var x=this;let k="";for(;;){const L=se(x,A).g;x=X(x,L.j(A));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=L,I(x))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function B(C){return C.h==-1}i.l=function(C){return C=X(this,C),B(C)?-1:I(C)?0:1};function V(C){const A=C.g.length,x=[];for(let k=0;k<A;k++)x[k]=~C.g[k];return new c(x,~C.h).add(w)}i.abs=function(){return B(this)?V(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),x=[];let k=0;for(let L=0;L<=A;L++){let j=k+(this.i(L)&65535)+(C.i(L)&65535),N=(j>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);k=N>>>16,j&=65535,N&=65535,x[L]=N<<16|j}return new c(x,x[x.length-1]&-2147483648?-1:0)};function X(C,A){return C.add(V(A))}i.j=function(C){if(I(this)||I(C))return _;if(B(this))return B(C)?V(this).j(V(C)):V(V(this).j(C));if(B(C))return V(this.j(V(C)));if(this.l(S)<0&&C.l(S)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,x=[];for(var k=0;k<2*A;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let L=0;L<C.g.length;L++){const j=this.i(k)>>>16,N=this.i(k)&65535,Pe=C.i(L)>>>16,We=C.i(L)&65535;x[2*k+2*L]+=N*We,W(x,2*k+2*L),x[2*k+2*L+1]+=j*We,W(x,2*k+2*L+1),x[2*k+2*L+1]+=N*Pe,W(x,2*k+2*L+1),x[2*k+2*L+2]+=j*Pe,W(x,2*k+2*L+2)}for(C=0;C<A;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=A;C<2*A;C++)x[C]=0;return new c(x,0)};function W(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function G(C,A){this.g=C,this.h=A}function se(C,A){if(I(A))throw Error("division by zero");if(I(C))return new G(_,_);if(B(C))return A=se(V(C),A),new G(V(A.g),V(A.h));if(B(A))return A=se(C,V(A)),new G(V(A.g),A.h);if(C.g.length>30){if(B(C)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var x=w,k=A;k.l(C)<=0;)x=de(x),k=de(k);var L=ge(x,1),j=ge(k,1);for(k=ge(k,2),x=ge(x,2);!I(k);){var N=j.add(k);N.l(C)<=0&&(L=L.add(x),j=N),k=ge(k,1),x=ge(x,1)}return A=X(C,L.j(A)),new G(L,A)}for(L=_;C.l(A)>=0;){for(x=Math.max(1,Math.floor(C.m()/A.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=g(x),N=j.j(A);B(N)||N.l(C)>0;)x-=k,j=g(x),N=j.j(A);I(j)&&(j=w),L=L.add(j),C=X(C,N)}return new G(L,C)}i.B=function(C){return se(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<A;k++)x[k]=this.i(k)&C.i(k);return new c(x,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<A;k++)x[k]=this.i(k)|C.i(k);return new c(x,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<A;k++)x[k]=this.i(k)^C.i(k);return new c(x,this.h^C.h)};function de(C){const A=C.g.length+1,x=[];for(let k=0;k<A;k++)x[k]=C.i(k)<<1|C.i(k-1)>>>31;return new c(x,C.h)}function ge(C,A){const x=A>>5;A%=32;const k=C.g.length-x,L=[];for(let j=0;j<k;j++)L[j]=A>0?C.i(j+x)>>>A|C.i(j+x+1)<<32-A:C.i(j+x);return new c(L,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Rs=c}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lS,Eu,uS,of,fg,cS,hS,fS;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var F=h[R];if(!(F in b))break e;b=b[F]}h=h[h.length-1],R=b[h],y=y(R),y!=R&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var b=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&b.push([R,y[R]]);return b}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,b){return h.call.apply(h.bind,arguments)}function g(h,y,b){return g=m,g.apply(null,arguments)}function v(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function _(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(R,F,Y){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return y.prototype[F].apply(R,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const y=h.length;if(y>0){const b=Array(y);for(let R=0;R<y;R++)b[R]=h[R];return b}return[]}function I(h,y){for(let R=1;R<arguments.length;R++){const F=arguments[R];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=h.length||0;const Y=F.length||0;h.length=b+Y;for(let ue=0;ue<Y;ue++)h[b+ue]=F[ue]}else h.push(F)}}class B{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(h){c.setTimeout(()=>{throw h},0)}function X(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,b){const R=G.get();R.set(y,b),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new B(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,C=new W,A=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(x)}};function x(){for(var h;h=X();){try{h.h.call(h.g)}catch(b){V(b)}var y=G;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ge=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,y),c.removeEventListener("test",b,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Pe(h,y){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}_(Pe,L),Pe.prototype.init=function(h,y){const b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(h,y,b,R,F){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!R,this.ha=F,this.key=++K,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oe(h,y,b){for(const R in h)y.call(b,h[R],R,h)}function qe(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function P(h){const y={};for(const b in h)y[b]=h[b];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let b,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(b in R)h[b]=R[b];for(let Y=0;Y<J.length;Y++)b=J[Y],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,y,b,R,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ue=xe(h,y,R,F);return ue>-1?(y=h[ue],b||(y.fa=!1)):(y=new oe(y,this.src,Y,!!R,F),y.fa=b,h.push(y)),y};function be(h,y){const b=y.type;if(b in h.g){var R=h.g[b],F=Array.prototype.indexOf.call(R,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(R,F,1),Y&&(re(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function xe(h,y,b,R){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==R)return F}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),yt={};function Je(h,y,b,R,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Je(h,y[Y],b,R,F);return null}return b=ll(b),h&&h[We]?h.J(y,b,d(R)?!!R.capture:!1,F):Vn(h,y,b,!1,R,F)}function Vn(h,y,b,R,F,Y){if(!y)throw Error("Invalid event type");const ue=d(F)?!!F.capture:!!F;let Ne=qs(h);if(Ne||(h[Ee]=Ne=new le(h)),b=Ne.add(y,b,R,ue,Y),b.proxy)return b;if(R=vi(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)j||(F=ue),F===void 0&&(F=!1),h.addEventListener(y.toString(),R,F);else if(h.attachEvent)h.attachEvent(_i(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function vi(){function h(b){return y.call(h.src,h.listener,b)}const y=al;return h}function ei(h,y,b,R,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ei(h,y[Y],b,R,F);else R=d(R)?!!R.capture:!!R,b=ll(b),h&&h[We]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],b=xe(y,b,R,F),b>-1&&(re(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=qs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,b,R,F)),(b=h>-1?y[h]:null)&&Ua(b))}function Ua(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[We])be(y.i,h);else{var b=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(b,R,h.capture):y.detachEvent?y.detachEvent(_i(b),R):y.addListener&&y.removeListener&&y.removeListener(R),(b=qs(y))?(be(b,h),b.h==0&&(b.src=null,y[Ee]=null)):re(h)}}}function _i(h){return h in yt?yt[h]:yt[h]="on"+h}function al(h,y){if(h.da)h=!0;else{y=new Pe(y,this);const b=h.listener,R=h.ha||h.src;h.fa&&Ua(h),h=b.call(R,y)}return h}function qs(h){return h=h[Ee],h instanceof le?h:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ll(h){return typeof h=="function"?h:(h[ol]||(h[ol]=function(y){return h.handleEvent(y)}),h[ol])}function Ct(){k.call(this),this.i=new le(this),this.M=this,this.G=null}_(Ct,k),Ct.prototype[We]=!0,Ct.prototype.removeEventListener=function(h,y,b,R){ei(this,h,y,b,R)};function zt(h,y){var b,R=h.G;if(R)for(b=[];R;R=R.G)b.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new L(y,h);else if(y instanceof L)y.target=y.target||h;else{var F=y;y=new L(R,h),ae(y,F)}F=!0;let Y,ue;if(b)for(ue=b.length-1;ue>=0;ue--)Y=y.g=b[ue],F=Vr(Y,R,!0,y)&&F;if(Y=y.g=h,F=Vr(Y,R,!0,y)&&F,F=Vr(Y,R,!1,y)&&F,b)for(ue=0;ue<b.length;ue++)Y=y.g=b[ue],F=Vr(Y,R,!1,y)&&F}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let R=0;R<b.length;R++)re(b[R]);delete h.g[y],h.h--}}this.G=null},Ct.prototype.J=function(h,y,b,R){return this.i.add(String(h),y,!1,b,R)},Ct.prototype.K=function(h,y,b,R){return this.i.add(String(h),y,!0,b,R)};function Vr(h,y,b,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const ue=y[Y];if(ue&&!ue.da&&ue.capture==b){const Ne=ue.listener,St=ue.ha||ue.src;ue.fa&&be(h.i,ue),F=Ne.call(St,R)!==!1&&F}}return F&&!R.defaultPrevented}function vd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function cc(h){h.g=vd(()=>{h.g=null,h.i&&(h.i=!1,cc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class cn extends k{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(h){k.call(this),this.h=h,this.g={}}_(Hs,k);var ul=[];function cl(h){Oe(h.g,function(y,b){this.g.hasOwnProperty(b)&&Ua(y)},h),h.g={}}Hs.prototype.N=function(){Hs.Z.N.call(this),cl(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=c.JSON.stringify,_d=c.JSON.parse,hc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function fc(){}function dc(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){L.call(this,"d")}_(Qt,L);function Un(){L.call(this,"c")}_(Un,L);var Tt={},mc=null;function ja(){return mc=mc||new Ct}Tt.Ia="serverreachability";function pc(h){L.call(this,Tt.Ia,h)}_(pc,L);function Ei(h){const y=ja();zt(y,new pc(y))}Tt.STAT_EVENT="statevent";function Gs(h,y){L.call(this,Tt.STAT_EVENT,h),this.stat=y}_(Gs,L);function It(h){const y=ja();zt(y,new Gs(y,h))}Tt.Ja="timingevent";function bi(h,y){L.call(this,Tt.Ja,h),this.size=y}_(bi,L);function wi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Ed(h,y,b,R,F,Y){h.info(function(){if(h.g)if(Y){var ue="",Ne=Y.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var St=Ne[Ye].split("=");if(St.length>1){const dt=St[0];St=St[1];const Fn=dt.split("_");ue=Fn.length>=2&&Fn[1]=="type"?ue+(dt+"="+St+"&"):ue+(dt+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+b+`
`+ue})}function gc(h,y,b,R,F,Y,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+b+`
`+Y+" "+ue})}function Ti(h,y,b,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+bd(h,b)+(R?" "+R:"")})}function $s(h,y){h.info(function(){return"TIMEOUT: "+y})}ni.prototype.info=function(){};function bd(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Ur(Y)}catch{return y}}var Ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function Ys(){}_(Ys,fc),Ys.prototype.g=function(){return new XMLHttpRequest},fl=new Ys;function tr(h){return encodeURIComponent(String(h))}function yc(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function ii(h,y,b,R){this.j=h,this.i=y,this.l=b,this.S=R||1,this.V=new Hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function Si(h,y,b){h.M=1,h.A=Qs(Ot(y)),h.u=b,h.R=!0,za(h,null)}function za(h,y){h.F=Date.now(),Ai(h),h.B=Ot(h.A);var b=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ha(b.i,"t",R),h.C=0,b=h.j.L,h.h=new ri,h.g=Oc(h.j,b?y:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),y=h.V,b=h.g,R=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(ul[0]=F.toString()),F=ul);for(let Y=0;Y<F.length;Y++){const ue=Je(b,F[Y],R||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ei(),Ed(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const y=this.O;y&&oi(h)==3?y.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=oi(this.g),St=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ne!=4||St==7||(St==8||Ye<=0?Ei(3):Ei(2)),Ri(this);var y=this.g.ca();this.X=y;var b=wd(this);if(this.o=y==200,gc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var Y=R;break t}}Y=null}if(h=Y)Ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,It(12),Rn(this),jn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<b.length;)if(dt=_c(this,b),dt==Gt){Ne==4&&(this.m=4,It(14),h=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Nt){this.m=4,It(15),Ti(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Ti(this.i,this.l,dt,null),xi(this,dt);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Ti(this.i,this.l,b,"[Invalid Chunked Response]"),Rn(this),jn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),xl(ue),ue.P=!0,It(11))}}else Ti(this.i,this.l,b,null),xi(this,b);Ne==4&&Rn(this),this.o&&!this.K&&(Ne==4?Cc(this.j,this):(this.o=!1,Ai(this)))}else ir(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Rn(this),jn(this)}}}catch{}finally{}};function wd(h){if(!vc(h))return h.g.la();const y=Xt(h.g);if(y==="")return"";let b="";const R=y.length,F=oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rn(h),jn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<R;Y++)h.h.h=!0,b+=h.h.i.decode(y[Y],{stream:!(F&&Y==R-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function vc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function _c(h,y){var b=h.C,R=y.indexOf(`
`,b);return R==-1?Gt:(b=Number(y.substring(b,R)),isNaN(b)?Nt:(R+=1,R+b>y.length?Gt:(y=y.slice(R,R+b),h.C=R+b,y)))}ii.prototype.cancel=function(){this.K=!0,Rn(this)};function Ai(h){h.T=Date.now()+h.H,Ba(h,h.H)}function Ba(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(g(h.aa,h),y)}function Ri(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($s(this.i,this.B),this.M!=2&&(Ei(),It(17)),Rn(this),this.m=2,jn(this)):Ba(this,this.T-h)};function jn(h){h.j.I==0||h.K||Cc(h.j,h)}function Rn(h){Ri(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,cl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function xi(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||Ii(b.h,h))){if(!h.L&&Ii(b.h,h)&&b.I==3){try{var R=b.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Qa(b),$r(b);else break e;na(b),It(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=wi(g(b.Va,b),6e3));Ci(b.h)<=1&&b.ta&&(b.ta=void 0)}else Li(b,11)}else if((h.L||b.g==h)&&Qa(b),!N(y))for(F=b.Ba.g.parse(y),y=0;y<F.length;y++){let Ye=F[y];const dt=Ye[0];if(!(dt<=b.K))if(b.K=dt,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const Fn=Ye[3];Fn!=null&&(b.ka=Fn,b.j.info("VER="+b.ka));const Mi=Ye[4];Mi!=null&&(b.za=Mi,b.j.info("SVER="+b.za));const li=Ye[5];li!=null&&typeof li=="number"&&li>0&&(R=1.5*li,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const ui=h.g;if(ui){const ia=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var Y=R.h;Y.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pl(Y,Y.h),Y.h=null))}if(R.G){const Xa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(R.wa=Xa,Ze(R.J,R.G,Xa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var ue=h;if(R.na=Dc(R,R.L?R.ba:null,R.W),ue.L){gl(R.h,ue);var Ne=ue,St=R.O;St&&(Ne.H=St),Ne.D&&(Ri(Ne),Ai(Ne)),R.g=ue}else Rc(R);b.i.length>0&&Pi(b)}else Ye[0]!="stop"&&Ye[0]!="close"||Li(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Li(b,7):Al(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}Ei(4)}catch{}}var Dt=class{constructor(h,y){this.g=h,this.map=y}};function dl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ci(h){return h.h?1:h.g?h.g.size:0}function Ii(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function pl(h,y){h.g?h.g.add(y):h.h=y}function gl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}dl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return S(h.i)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const R=h[b].indexOf("=");let F,Y=null;R>=0?(F=h[b].substring(0,R),Y=h[b].substring(R+1)):F=h[b],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function xn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof xn?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,jr(this,h.u),this.h=h.h,vl(this,Sc(h.i)),this.m=h.m):h&&(y=String(h).match(Ec))?(this.l=!1,$t(this,y[1]||"",!0),this.o=Ni(y[2]||""),this.g=Ni(y[3]||"",!0),jr(this,y[4]),this.h=Ni(y[5]||"",!0),vl(this,y[6]||"",!0),this.m=Ni(y[7]||"")):(this.l=!1,this.i=new Br(null,this.l))}xn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Xs(y,qa,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Xs(y,qa,!0),"@"),h.push(tr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Xs(b,b.charAt(0)=="/"?_l:bc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Xs(b,wc)),h.join("")},xn.prototype.resolve=function(h){const y=Ot(this);let b=!!h.j;b?$t(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var R=h.h;if(b)jr(y,h.u);else if(b=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var F=y.h.lastIndexOf("/");F!=-1&&(R=y.h.slice(0,F+1)+R)}if(F=R,F==".."||F==".")R="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){R=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let ue=0;ue<F.length;){const Ne=F[ue++];Ne=="."?R&&ue==F.length&&Y.push(""):Ne==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&ue==F.length&&Y.push("")):(Y.push(Ne),R=!0)}R=Y.join("/")}else R=F}return b?y.h=R:b=h.i.toString()!=="",b?vl(y,Sc(h.i)):b=!!h.m,b&&(y.m=h.m),y};function Ot(h){return new xn(h)}function $t(h,y,b){h.j=b?Ni(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function jr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function vl(h,y,b){y instanceof Br?(h.i=y,Ga(h.i,h.l)):(b||(y=Xs(y,zr)),h.i=new Br(y,h.l))}function Ze(h,y,b){h.i.set(y,b)}function Qs(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ni(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xs(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,pn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qa=/[#\/\?@]/g,bc=/[#\?:]/g,_l=/[#\?]/g,zr=/[#\?@]/g,wc=/#/g;function Br(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fa(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Br.prototype,i.add=function(h,y){gn(this),this.i=null,h=Fr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function Tc(h,y){gn(h),y=Fr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function El(h,y){return gn(h),y=Fr(h,y),h.g.has(y)}i.forEach=function(h,y){gn(this),this.g.forEach(function(b,R){b.forEach(function(F){h.call(y,F,R,this)},this)},this)};function bl(h,y){gn(h);let b=[];if(typeof y=="string")El(h,y)&&(b=b.concat(h.g.get(Fr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}i.set=function(h,y){return gn(this),this.i=null,h=Fr(this,h),El(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=bl(this,h),h.length>0?String(h[0]):y):y};function Ha(h,y,b){Tc(h,y),b.length>0&&(h.i=null,h.g.set(Fr(h,y),S(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var b=y[R];const F=tr(b);b=bl(this,b);for(let Y=0;Y<b.length;Y++){let ue=F;b[Y]!==""&&(ue+="="+tr(b[Y])),h.push(ue)}}return this.i=h.join("&")};function Sc(h){const y=new Br;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Fr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ga(h,y){y&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(b,R){const F=R.toLowerCase();R!=F&&(Tc(this,R),Ha(this,F,b))},h)),h.j=y}function si(h,y){const b=new ni;if(c.Image){const R=new Image;R.onload=v(zn,b,"TestLoadImage: loaded",!0,y,R),R.onerror=v(zn,b,"TestLoadImage: error",!1,y,R),R.onabort=v(zn,b,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(zn,b,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function wl(h,y){const b=new ni,R=new AbortController,F=setTimeout(()=>{R.abort(),zn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(Y=>{clearTimeout(F),Y.ok?zn(b,"TestPingServer: ok",!0,y):zn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),zn(b,"TestPingServer: error",!1,y)})}function zn(h,y,b,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(b)}catch{}}function qr(){this.g=new hc}function Di(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Di,fc),Di.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(h,y){Ct.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ws,Ct),i=Ws.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ai(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$a(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function $a(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Hr(this):ai(this),this.readyState==3&&$a(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Hr(this))},i.Na=function(h){this.g&&(this.response=h,Hr(this))},i.ga=function(){this.g&&Hr(this)};function Hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ai(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let y="";return Oe(h,function(b,R){y+=R,y+=":",y+=b,y+=`\r
`}),y}function Js(h,y,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Bn(b),typeof h=="string"?b!=null&&tr(b):Ze(h,y,b))}function nt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,Ct);var Oi=/^https?$/i,Tl=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Zs(this,Y);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)b.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())b.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Tl,y,void 0)>=0)||R||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of b)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Zs(this,Y)}};function Zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Sl(h),nr(h)}function Sl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},i.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),oi(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var R;if(R=Y===0){let ue=String(h.D).match(Ec)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),R=!Oi.test(ue?ue.toLowerCase():"")}b=R}if(b)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var F=oi(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Sl(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||zt(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),_d(y)}};function Xt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const y={};h=(h.g&&oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var b=yc(h[R]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[F]||[];y[F]=Y,Y.push(b)}qe(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function Gr(h){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(h&&h.concurrentRequestLimit),this.Ba=new qr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Gr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,b,R){It(0),this.W=h,this.H=y||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=Dc(this,null,this.W),Pi(this)};function Al(h){if(Ka(h),h.I==3){var y=h.V++,b=Ot(h.J);if(Ze(b,"SID",h.M),Ze(b,"RID",y),Ze(b,"TYPE","terminate"),ta(h,b),y=new ii(h,h.j,y),y.M=2,y.A=Qs(Ot(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=y.A,b=!0),b||(y.g=Oc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}Nc(h)}function $r(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function Ka(h){$r(h),h.v&&(c.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Pi(h){if(!ml(h.h)&&!h.m){h.m=!0;var y=h.Ea;de||A(),ge||(de(),ge=!0),C.add(y,h),h.D=0}}function Ya(h,y){return Ci(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(g(h.Ea,h,y),Ic(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ii(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=P(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Ac(this,F,y),b=Ot(this.J),Ze(b,"RID",h),Ze(b,"CVER",22),this.G&&Ze(b,"X-HTTP-Session-Id",this.G),ta(this,b),Y&&(this.R?y="headers="+tr(Bn(Y))+"&"+y:this.u&&Js(b,this.u,Y)),pl(this.h,F),this.Ra&&Ze(b,"TYPE","init"),this.S?(Ze(b,"$req",y),Ze(b,"SID","null"),F.U=!0,Si(F,b,null)):Si(F,b,y),this.I=2}}else this.I==3&&(h?Rl(this,h):this.i.length==0||ml(this.h)||Rl(this))};function Rl(h,y){var b;y?b=y.l:b=h.V++;const R=Ot(h.J);Ze(R,"SID",h.M),Ze(R,"RID",b),Ze(R,"AID",h.K),ta(h,R),h.u&&h.o&&Js(R,h.u,h.o),b=new ii(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Ac(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),pl(h.h,b),Si(b,R,y)}function ta(h,y){h.H&&Oe(h.H,function(b,R){Ze(y,R,b)}),h.l&&Oe({},function(b,R){Ze(y,R,b)})}function Ac(h,y,b){b=Math.min(h.i.length,b);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ne=-1;for(;;){const St=["count="+b];Ne==-1?b>0?(Ne=F[0].g,St.push("ofs="+Ne)):Ne=0:St.push("ofs="+Ne);let Ye=!0;for(let dt=0;dt<b;dt++){var Y=F[dt].g;const Fn=F[dt].map;if(Y-=Ne,Y<0)Ne=Math.max(0,F[dt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var ue=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Mi,li]of ue){let ui=li;d(li)&&(ui=Ur(li)),St.push(Y+Mi+"="+encodeURIComponent(ui))}}catch(Mi){throw St.push(Y+"type="+encodeURIComponent("_badmap")),Mi}}catch{R&&R(Fn)}}if(Ye){ue=St.join("&");break e}}ue=void 0}return h=h.i.splice(0,b),y.G=h,ue}function Rc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;de||A(),ge||(de(),ge=!0),C.add(y,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(g(h.Da,h),Ic(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),$r(this),xc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function xc(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ot(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),ta(h,y),h.u&&h.o&&Js(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Qs(Ot(y)),b.u=null,b.R=!0,za(b,h)}i.Va=function(){this.C!=null&&(this.C=null,$r(this),na(this),It(19))};function Qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Cc(h,y){var b=null;if(h.g==y){Qa(h),xl(h),h.g=null;var R=2}else if(Ii(h.h,y))b=y.G,gl(h.h,y),R=1;else return;if(h.I!=0){if(y.o)if(R==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;R=ja(),zt(R,new bi(R,b)),Pi(h)}else Rc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(R==1&&Ya(h,y)||R==2&&na(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),F){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function Ic(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function Li(h,y){if(h.j.info("Error code "+y),y==2){var b=g(h.bb,h),R=h.Ua;const F=!R;R=new xn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(R,"https"),Qs(R),F?si(R.toString(),b):wl(R.toString(),b)}else It(2);h.I=0,h.l&&h.l.pa(y),Nc(h),Ka(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Nc(h){if(h.I=0,h.ja=[],h.l){const y=yl(h.h);(y.length!=0||h.i.length!=0)&&(I(h.ja,y),I(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function Dc(h,y,b){var R=b instanceof xn?Ot(b):new xn(b);if(R.g!="")y&&(R.g=y+"."+R.g),jr(R,R.u);else{var F=c.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new xn(null);R&&$t(Y,R),y&&(Y.g=y),F&&jr(Y,F),b&&(Y.h=b),R=Y}return b=h.G,y=h.wa,b&&y&&Ze(R,b,y),Ze(R,"VER",h.ka),ta(h,R),R}function Oc(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new nt(new Di({ab:b})):new nt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}i=kc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Kr(){}Kr.prototype.g=function(h,y){return new hn(h,y)};function hn(h,y){Ct.call(this),this.g=new Gr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new rr(this)}_(hn,Ct),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Al(this.g)},hn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Ur(h),h=b);y.i.push(new Dt(y.Ya++,h)),y.I==3&&Pi(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,hn.Z.N.call(this)};function Pc(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}_(Pc,Qt);function Lc(){Un.call(this),this.status=1}_(Lc,Un);function rr(h){this.g=h}_(rr,kc),rr.prototype.ra=function(){zt(this.g,"a")},rr.prototype.qa=function(h){zt(this.g,new Pc(h))},rr.prototype.pa=function(h){zt(this.g,new Lc)},rr.prototype.oa=function(){zt(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,fS=function(){return new Kr},hS=function(){return ja()},cS=Tt,fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,of=Ks,hl.COMPLETE="complete",uS=hl,dc.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Eu=dc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,lS=nt}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",Tb="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let Zo="12.3.0";const Oa=new Bg("@firebase/firestore");function ko(){return Oa.logLevel}function he(i,...e){if(Oa.logLevel<=ze.DEBUG){const t=e.map(ey);Oa.debug(`Firestore (${Zo}): ${i}`,...t)}}function kr(i,...e){if(Oa.logLevel<=ze.ERROR){const t=e.map(ey);Oa.error(`Firestore (${Zo}): ${i}`,...t)}}function Ho(i,...e){if(Oa.logLevel<=ze.WARN){const t=e.map(ey);Oa.warn(`Firestore (${Zo}): ${i}`,...t)}}function ey(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Se(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dS(i,r,t)}function dS(i,e,t){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw kr(r),new Error(r)}function Xe(i,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,i||dS(e,a,r)}function Ie(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class sk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ak{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new mS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class ok{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ok(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ck(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}class ty{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ck(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Be(i,e){return i<e?-1:i>e?1:0}function dg(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const a=i.charAt(r),l=e.charAt(r);if(a!==l)return Lp(a)===Lp(l)?Be(a,l):Lp(a)?1:-1}return Be(i.length,e.length)}const hk=55296,fk=57343;function Lp(i){const e=i.charCodeAt(0);return e>=hk&&e<=fk}function Go(i,e,t){return i.length===e.length&&i.every(((r,a)=>t(r,e[a])))}const Ab="__name__";class Bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Bi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const r=Bi.isNumericId(e),a=Bi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Bi.extractNumericId(e).compare(Bi.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class lt extends Bi{construct(e,t,r){return new lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const dk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Bi{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return dk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ab}static keyField(){return new nn([Ab])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}function pS(i,e,t){if(!t)throw new ce(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function mk(i,e,t,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Rb(i){if(!_e.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function xb(i){if(_e.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Yf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function An(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yf(i);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function jt(i,e){const t={typeString:i};return e&&(t.value=e),t}function rc(i,e){if(!gS(i))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ce(te.INVALID_ARGUMENT,t);return!0}const Cb=-62135596800,Ib=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ib);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Cb)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:jt("string",ht._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ht(0,0))}static max(){return new Re(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uu=-1;function pk(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Is(a,_e.empty(),e)}function gk(i){return new Is(i.readTime,i.key,Uu)}class Is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Is(Re.min(),_e.empty(),Uu)}static max(){return new Is(Re.max(),_e.empty(),Uu)}}function yk(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Be(i.largestBatchId,e.largestBatchId))}const vk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function el(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==vk)throw i;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>r(m)))})),c=!0,l===a&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((a=>a?ie.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++d,d===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ie(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function Ek(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(i){return i.name==="IndexedDbTransactionError"}class Qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;const ny=-1;function Xf(i){return i==null}function Af(i){return i===0&&1/i==-1/0}function bk(i){return typeof i=="number"&&Number.isInteger(i)&&!Af(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const yS="";function wk(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Nb(e)),e=Tk(i.get(t),e);return Nb(e)}function Tk(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case yS:t+="";break;default:t+=l}}return t}function Nb(i){return i+yS+""}function Db(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function zs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function vS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new tn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ob(this.data.getIterator())}getIteratorFrom(e){return new Ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class Ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Ht(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class _S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _S("Invalid base64 string: "+l):l}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const Sk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const t=Sk.exec(i);if(Xe(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ds(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}const ES="server_timestamp",bS="__type__",wS="__previous_value__",TS="__local_write_time__";function iy(i){return(i?.mapValue?.fields||{})[bS]?.stringValue===ES}function Wf(i){const e=i.mapValue.fields[wS];return iy(e)?Wf(e):e}function ju(i){const e=Ns(i.mapValue.fields[TS].timestampValue);return new ht(e.seconds,e.nanos)}class Ak{constructor(e,t,r,a,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Rf="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||Rf}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}const SS="__type__",Rk="__max__",Gh={mapValue:{}},AS="__vector__",xf="value";function Os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?iy(i)?4:Ck(i)?9007199254740991:xk(i)?10:11:Se(28295,{value:i})}function Wi(i,e){if(i===e)return!0;const t=Os(i);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ju(i).isEqual(ju(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ns(a.timestampValue),d=Ns(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return Ds(a.bytesValue).isEqual(Ds(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=xt(a.doubleValue),d=xt(l.doubleValue);return c===d?Af(c)===Af(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Go(i.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Db(c)!==Db(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Wi(c[m],d[m])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function Bu(i,e){return(i.values||[]).find((t=>Wi(t,e)))!==void 0}function $o(i,e){if(i===e)return 0;const t=Os(i),r=Os(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=xt(l.integerValue||l.doubleValue),m=xt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(i,e);case 3:return kb(i.timestampValue,e.timestampValue);case 4:return kb(ju(i),ju(e));case 5:return dg(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ds(l),m=Ds(c);return d.compareTo(m)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Be(d[g],m[g]);if(v!==0)return v}return Be(d.length,m.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Be(xt(l.latitude),xt(c.latitude));return d!==0?d:Be(xt(l.longitude),xt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Pb(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[xf]?.arrayValue,v=m[xf]?.arrayValue,_=Be(g?.values?.length||0,v?.values?.length||0);return _!==0?_:Pb(g,v)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Gh.mapValue&&c===Gh.mapValue)return 0;if(l===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const w=dg(m[_],v[_]);if(w!==0)return w;const S=$o(d[m[_]],g[v[_]]);if(S!==0)return S}return Be(m.length,v.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function kb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const t=Ns(i),r=Ns(e),a=Be(t.seconds,r.seconds);return a!==0?a:Be(t.nanos,r.nanos)}function Pb(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=$o(t[a],r[a]);if(l)return l}return Be(t.length,r.length)}function Ko(i){return mg(i)}function mg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Ns(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ds(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return _e.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=mg(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${mg(t.fields[c])}`;return a+"}"})(i.mapValue):Se(61005,{value:i})}function lf(i){switch(Os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(i);return e?16+lf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+lf(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return zs(r.fields,((l,c)=>{a+=l.length+lf(c)})),a})(i.mapValue);default:throw Se(13486,{value:i})}}function Lb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function pg(i){return!!i&&"integerValue"in i}function ry(i){return!!i&&"arrayValue"in i}function Mb(i){return!!i&&"nullValue"in i}function Vb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uf(i){return!!i&&"mapValue"in i}function xk(i){return(i?.mapValue?.fields||{})[SS]?.stringValue===AS}function Iu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return zs(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Iu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Iu(i.arrayValue.values[t]);return e}return{...i}}function Ck(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Rk}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(t)}setAll(e){let t=nn.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Iu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){zs(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Sn(Iu(this.value))}}function RS(i){const e=[];return zs(i.fields,((t,r)=>{const a=new nn([t]);if(uf(r)){const l=RS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ln(e)}class ln{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Re.min(),Re.min(),Re.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,a){return new ln(e,1,t,Re.min(),r,a,0)}static newNoDocument(e,t){return new ln(e,2,t,Re.min(),Re.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Re.min(),Re.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cf{constructor(e,t){this.position=e,this.inclusive=t}}function Ub(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(c.referenceValue),t.key):r=$o(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function jb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Wi(i.position[t],e.position[t]))return!1;return!0}class Fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ik(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class xS{}class Ut extends xS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Dk(e,t,r):t==="array-contains"?new Pk(e,r):t==="in"?new Lk(e,r):t==="not-in"?new Mk(e,r):t==="array-contains-any"?new Vk(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ok(e,r):new kk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends xS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yi(e,t)}matches(e){return CS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CS(i){return i.op==="and"}function IS(i){return Nk(i)&&CS(i)}function Nk(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function gg(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+Ko(i.value);if(IS(i))return i.filters.map((e=>gg(e))).join(",");{const e=i.filters.map((t=>gg(t))).join(",");return`${i.op}(${e})`}}function NS(i,e){return i instanceof Ut?(function(r,a){return a instanceof Ut&&r.op===a.op&&r.field.isEqual(a.field)&&Wi(r.value,a.value)})(i,e):i instanceof yi?(function(r,a){return a instanceof yi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&NS(c,a.filters[d])),!0):!1})(i,e):void Se(19439)}function DS(i){return i instanceof Ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`})(i):i instanceof yi?(function(t){return t.op.toString()+" {"+t.getFilters().map(DS).join(" ,")+"}"})(i):"Filter"}class Dk extends Ut{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ok extends Ut{constructor(e,t){super(e,"in",t),this.keys=OS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kk extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=OS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function OS(i,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class Pk extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ry(t)&&Bu(t.arrayValue,this.value)}}class Lk extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bu(this.value.arrayValue,t)}}class Mk extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bu(this.value.arrayValue,t)}}class Vk extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Bu(this.value.arrayValue,r)))}}class Uk{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function zb(i,e=null,t=[],r=[],a=null,l=null,c=null){return new Uk(i,e,t,r,a,l,c)}function sy(i){const e=Ie(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ko(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ko(r))).join(",")),e.Te=t}return e.Te}function ay(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Ik(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!NS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jb(i.startAt,e.startAt)&&jb(i.endAt,e.endAt)}function yg(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class nl{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jk(i,e,t,r,a,l,c,d){return new nl(i,e,t,r,a,l,c,d)}function Jf(i){return new nl(i)}function Bb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kS(i){return i.collectionGroup!==null}function Nu(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ht(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Fu(l,r))})),t.has(nn.keyField().canonicalString())||e.Ie.push(new Fu(nn.keyField(),r))}return e.Ie}function Ki(i){const e=Ie(i);return e.Ee||(e.Ee=zk(e,Nu(i))),e.Ee}function zk(i,e){if(i.limitType==="F")return zb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Fu(a.field,l)}));const t=i.endAt?new Cf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Cf(i.startAt.position,i.startAt.inclusive):null;return zb(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function vg(i,e){const t=i.filters.concat([e]);return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function _g(i,e,t){return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zf(i,e){return ay(Ki(i),Ki(e))&&i.limitType===e.limitType}function PS(i){return`${sy(Ki(i))}|lt:${i.limitType}`}function Po(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>DS(a))).join(", ")}]`),Xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Ko(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Ko(a))).join(",")),`Target(${r})`})(Ki(i))}; limitType=${i.limitType})`}function ed(i,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,a){for(const l of Nu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,m){const g=Ub(c,d,m);return c.inclusive?g<=0:g<0})(r.startAt,Nu(r),a)||r.endAt&&!(function(c,d,m){const g=Ub(c,d,m);return c.inclusive?g>=0:g>0})(r.endAt,Nu(r),a))})(i,e)}function Bk(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function LS(i){return(e,t)=>{let r=!1;for(const a of Nu(i)){const l=Fk(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Fk(i,e,t){const r=i.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?$o(m,g):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:i.dir})}}class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}const qk=new gt(_e.comparator);function Pr(){return qk}const MS=new gt(_e.comparator);function bu(...i){let e=MS;for(const t of i)e=e.insert(t.key,t);return e}function VS(i){let e=MS;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ta(){return Du()}function US(){return Du()}function Du(){return new Ma((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Hk=new gt(_e.comparator),Gk=new Ht(_e.comparator);function Fe(...i){let e=Gk;for(const t of i)e=e.add(t);return e}const $k=new Ht(Be);function Kk(){return $k}function oy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function jS(i){return{integerValue:""+i}}function Yk(i,e){return bk(e)?jS(e):oy(i,e)}class td{constructor(){this._=void 0}}function Qk(i,e,t){return i instanceof qu?(function(a,l){const c={fields:{[bS]:{stringValue:ES},[TS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&iy(l)&&(l=Wf(l)),l&&(c.fields[wS]=l),{mapValue:c}})(t,e):i instanceof Hu?BS(i,e):i instanceof Gu?FS(i,e):(function(a,l){const c=zS(a,l),d=Fb(c)+Fb(a.Ae);return pg(c)&&pg(a.Ae)?jS(d):oy(a.serializer,d)})(i,e)}function Xk(i,e,t){return i instanceof Hu?BS(i,e):i instanceof Gu?FS(i,e):t}function zS(i,e){return i instanceof If?(function(r){return pg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class qu extends td{}class Hu extends td{constructor(e){super(),this.elements=e}}function BS(i,e){const t=qS(e);for(const r of i.elements)t.some((a=>Wi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Gu extends td{constructor(e){super(),this.elements=e}}function FS(i,e){let t=qS(e);for(const r of i.elements)t=t.filter((a=>!Wi(a,r)));return{arrayValue:{values:t}}}class If extends td{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fb(i){return xt(i.integerValue||i.doubleValue)}function qS(i){return ry(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Wk{constructor(e,t){this.field=e,this.transform=t}}function Jk(i,e){return i.field.isEqual(e.field)&&(function(r,a){return r instanceof Hu&&a instanceof Hu||r instanceof Gu&&a instanceof Gu?Go(r.elements,a.elements,Wi):r instanceof If&&a instanceof If?Wi(r.Ae,a.Ae):r instanceof qu&&a instanceof qu})(i.transform,e.transform)}class Zk{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nd{}function HS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ly(i.key,Jn.none()):new sc(i.key,i.data,Jn.none());{const t=i.data,r=Sn.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Bs(i.key,r,new Ln(a.toArray()),Jn.none())}}function eP(i,e,t){i instanceof sc?(function(a,l,c){const d=a.value.clone(),m=Hb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Bs?(function(a,l,c){if(!cf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Hb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(GS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ou(i,e,t,r){return i instanceof sc?(function(l,c,d,m){if(!cf(l.precondition,c))return d;const g=l.value.clone(),v=Gb(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof Bs?(function(l,c,d,m){if(!cf(l.precondition,c))return d;const g=Gb(l.fieldTransforms,m,c),v=c.data;return v.setAll(GS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(i,e,t,r):(function(l,c,d){return cf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function tP(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=zS(r.transform,a||null);l!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,l))}return t||null}function qb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Go(r,a,((l,c)=>Jk(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class sc extends nd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bs extends nd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GS(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function Hb(i,e,t){const r=new Map;Xe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,Xk(c,d,t[a]))}return r}function Gb(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,Qk(l,c,e))}return r}class ly extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nP extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iP{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eP(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=US();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=HS(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,((t,r)=>qb(t,r)))&&Go(this.baseMutations,e.baseMutations,((t,r)=>qb(t,r)))}}class uy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Hk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new uy(e,t,r,a)}}class rP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sP{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vt,Ge;function aP(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function $S(i){if(i===void 0)return kr("GRPC error has no .code"),te.UNKNOWN;switch(i){case Vt.OK:return te.OK;case Vt.CANCELLED:return te.CANCELLED;case Vt.UNKNOWN:return te.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return te.INTERNAL;case Vt.UNAVAILABLE:return te.UNAVAILABLE;case Vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Vt.NOT_FOUND:return te.NOT_FOUND;case Vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Vt.ABORTED:return te.ABORTED;case Vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Vt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(Ge=Vt||(Vt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function oP(){return new TextEncoder}const lP=new Rs([4294967295,4294967295],0);function $b(i){const e=oP().encode(i),t=new oS;return t.update(e),new Uint8Array(t.digest())}function Kb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([a,l],0)]}class cy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wu(`Invalid padding: ${t}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rs.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Rs.fromNumber(r)));return a.compare(lP)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$b(e),[r,a]=Kb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new cy(l,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=$b(e),[r,a]=Kb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new id(Re.min(),a,new gt(Be),Pr(),Fe())}}class ac{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ac(r,t,Fe(),Fe(),Fe())}}class hf{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class KS{constructor(e,t){this.targetId=e,this.Ce=t}}class YS{constructor(e,t,r=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Yb{constructor(){this.ve=0,this.Fe=Qb(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),r=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Se(38017,{changeType:l})}})),new ac(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Qb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pr(),this.Je=$h(),this.He=$h(),this.Ye=new gt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(yg(l))if(r===0){const c=new _e(l.path);this.et(t,c,ln.newNoDocument(c,Re.min()))}else Xe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ds(r).toUint8Array()}catch(m){if(m instanceof _S)return Ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new cy(c,a,l)}catch(m){return Ho(m instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&yg(d.target)){const m=new _e(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new id(e,t,this.Ye,this.je,r);return this.je=Pr(),this.Je=$h(),this.He=$h(),this.Ye=new gt(Be),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Yb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $h(){return new gt(_e.comparator)}function Qb(){return new gt(_e.comparator)}const cP={asc:"ASCENDING",desc:"DESCENDING"},hP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fP={and:"AND",or:"OR"};class dP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(i,e){return i.useProto3Json||Xf(e)?e:{value:e}}function Nf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mP(i,e){return Nf(i,e.toTimestamp())}function Yi(i){return Xe(!!i,49232),Re.fromTimestamp((function(t){const r=Ns(t);return new ht(r.seconds,r.nanos)})(i))}function hy(i,e){return bg(i,e).canonicalString()}function bg(i,e){const t=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function XS(i){const e=lt.fromString(i);return Xe(tA(e),10190,{key:e.toString()}),e}function wg(i,e){return hy(i.databaseId,e.path)}function Mp(i,e){const t=XS(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(JS(t))}function WS(i,e){return hy(i.databaseId,e)}function pP(i){const e=XS(i);return e.length===4?lt.emptyPath():JS(e)}function Tg(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function JS(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Xb(i,e,t){return{name:wg(i,e),fields:t.value.mapValue.fields}}function gP(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:$S(g.code);return new ce(v,g.message||"")})(c);t=new YS(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Mp(i,r.document.name),l=Yi(r.document.updateTime),c=r.document.createTime?Yi(r.document.createTime):Re.min(),d=new Sn({mapValue:{fields:r.document.fields}}),m=ln.newFoundDocument(a,l,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];t=new hf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Mp(i,r.document),l=r.readTime?Yi(r.readTime):Re.min(),c=ln.newNoDocument(a,l),d=r.removedTargetIds||[];t=new hf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Mp(i,r.document),l=r.removedTargetIds||[];t=new hf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new sP(a,l),d=r.targetId;t=new KS(d,c)}}return t}function yP(i,e){let t;if(e instanceof sc)t={update:Xb(i,e.key,e.value)};else if(e instanceof ly)t={delete:wg(i,e.key)};else if(e instanceof Bs)t={update:Xb(i,e.key,e.data),updateMask:RP(e.fieldMask)};else{if(!(e instanceof nP))return Se(16599,{Vt:e.type});t={verify:wg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof If)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:mP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(i,e.precondition)),t}function vP(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?Yi(a.updateTime):Yi(l);return c.isEqual(Re.min())&&(c=Yi(l)),new Zk(c,a.transformResults||[])})(t,e)))):[]}function _P(i,e){return{documents:[WS(i,e.path)]}}function EP(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=WS(i,a);const l=(function(g){if(g.length!==0)return eA(yi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:Lo(w.field),direction:TP(w.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Eg(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function bP(i){let e=pP(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const w=ZS(_);return w instanceof yi&&IS(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((w=>(function(I){return new Fu(Mo(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let w;return w=typeof _=="object"?_.value:_,Xf(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(_){const w=!!_.before,S=_.values||[];return new Cf(S,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const w=!_.before,S=_.values||[];return new Cf(S,w)})(t.endAt)),jk(e,a,c,l,d,"F",m,g)}function wP(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZS(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mo(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(t.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ut.create(Mo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return yi.create(t.compositeFilter.filters.map((r=>ZS(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function TP(i){return cP[i]}function SP(i){return hP[i]}function AP(i){return fP[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function Mo(i){return nn.fromServerFormat(i.fieldPath)}function eA(i){return i instanceof Ut?(function(t){if(t.op==="=="){if(Vb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:SP(t.op),value:t.value}}})(i):i instanceof yi?(function(t){const r=t.getFilters().map((a=>eA(a)));return r.length===1?r[0]:{compositeFilter:{op:AP(t.op),filters:r}}})(i):Se(54877,{filter:i})}function RP(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ts{constructor(e,t,r,a,l=Re.min(),c=Re.min(),d=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xP{constructor(e){this.yt=e}}function CP(i){const e=bP({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_g(e,e.limit,"L"):e}class IP{constructor(){this.Cn=new NP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Is.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class NP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ht(lt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ht(lt.comparator)).toArray()}}const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(nA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yo(0)}static cr(){return new Yo(-1)}}const Jb="LruGarbageCollector",DP=1048576;function Zb([i,e],[t,r]){const a=Be(i,t);return a===0?Be(e,r):a}class OP{constructor(e){this.Ir=e,this.buffer=new Ht(Zb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Jb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?he(Jb,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.Vr(3e5)}))}}class PP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Qf.ce);const r=new OP(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Wb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,t)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),ko()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function LP(i,e){return new PP(i,e)}class MP{constructor(){this.changes=new Ma((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class UP{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Ou(r.mutation,a,Ln.empty(),ht.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Fe()){const a=Ta();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=bu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ta();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Fe())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let l=Pr();const c=Du(),d=(function(){return Du()})();return t.forEach(((m,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Bs)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ou(v.mutation,g,v.mutation.getFieldMask(),ht.now())):c.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new VP(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Du();let a=new gt(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=r.get(m)||Ln.empty();v=d.applyToLocalView(g,v),r.set(m,v);const _=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,_=US();v.forEach((w=>{if(!l.has(w)){const S=HS(t.get(w),r.get(w));S!==null&&_.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ie.resolve(Ta());let d=Uu,m=l;return c.next((g=>ie.forEach(g,((v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Fe()))).next((v=>({batchId:d,changes:VS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let a=bu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=bu();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(m=>{const g=(function(_,w){return new nl(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,ln.newInvalidDocument(v)))}));let d=bu();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Ou(v.mutation,g,Ln.empty(),ht.now()),ed(t,g)&&(d=d.insert(m,g))})),d}))}}class jP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:CP(a.bundledQuery),readTime:Yi(a.readTime)}})(t)),ie.resolve()}}class zP{constructor(){this.overlays=new gt(_e.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ta();return ie.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const a=Ta(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new gt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=l.get(g.largestBatchId);v===null&&(v=Ta(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ie.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new rP(t,r));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class BP{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class fy{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Yt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Yt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new _e(new lt([])),r=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new lt([])),r=new Yt(t,e),a=new Yt(t,e+1);let l=Fe();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Yt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}class FP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iP(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ny:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(Be);return t.forEach((a=>{const l=new Yt(a,0),c=new Yt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new _e(l),0);let d=new Ht(Be);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),ie.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(t.mutations,(a=>{const l=new Yt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Yt(t,0),a=this.Zr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qP{constructor(e){this.ri=e,this.docs=(function(){return new gt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Pr();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yk(gk(v),r)<=0||(a.has(v.key)||ed(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Se(9500)}ii(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new HP(this)}getSize(e){return ie.resolve(this.size)}}class HP extends MP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class GP{constructor(e){this.persistence=e,this.si=new Ma((t=>sy(t)),ay),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new fy,this.targetCount=0,this.ai=Yo.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}class iA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new BP,this.referenceDelegate=e(this),this.Pi=new GP(this),this.indexManager=new IP,this.remoteDocumentCache=(function(a){return new qP(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xP(t),this.Ii=new jP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new FP(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const a=new $P(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class $P extends _k{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Ri=new fy,this.Vi=null}static mi(e){return new dy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const a=_e.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Df{constructor(e,t){this.persistence=e,this.pi=new Ma((r=>wk(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=LP(this,t)}static mi(e,t){return new Df(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ie.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,l.removeEntry(c,Re.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lf(e.data.value)),t}br(e,t,r){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class my{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new my(e,t.fromCache,r,a)}}class KP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return w2()?8:Ek(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new KP;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(ko()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(ko()<=ze.DEBUG&&he("QueryEngine","Query:",Po(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(ko()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):ie.resolve())}ys(e,t){if(Bb(t))return ie.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=_g(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,_g(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,r,a){return Bb(t)||a.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?ie.resolve(null):(ko()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(t)),this.vs(e,c,t,pk(a,Uu)).next((d=>d)))}))}Ds(e,t){let r=new Ht(LS(e));return t.forEach(((a,l)=>{ed(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return ko()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Po(t)),this.ps.getDocumentsMatchingQuery(e,t,Is.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const py="LocalStore",QP=3e8;class XP{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new gt(Be),this.xs=new Ma((l=>sy(l)),ay),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function WP(i,e,t,r){return new XP(i,e,t,r)}async function rA(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let m=Fe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function JP(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const _=g.batch,w=_.keys();let S=ie.resolve();return w.forEach((I=>{S=S.next((()=>v.getEntry(m,I))).next((B=>{const V=g.docVersions.get(I);Xe(V!==null,48541),B.version.compareTo(V)<0&&(_.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=Fe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function sA(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ZP(i,e){const t=Ie(i),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,_)=>{const w=a.get(_);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,_))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),a=a.insert(_,S),(function(B,V,X){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=QP?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,S,v)&&d.push(t.Pi.updateTargetData(l,S))}));let m=Pr(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(eL(l,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!r.isEqual(Re.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(v)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function eL(i,e,t){let r=Fe(),a=Fe();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=Pr();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):he(py,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function tL(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ny),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nL(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ie.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new Ts(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Sg(i,e,t){const r=Ie(i),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!tl(c))throw c;he(py,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function ew(i,e,t){const r=Ie(i);let a=Re.min(),l=Fe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const _=Ie(m),w=_.xs.get(v);return w!==void 0?ie.resolve(_.Ms.get(w)):_.Pi.getTargetData(g,v)})(r,c,Ki(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Re.min(),t?l:Fe()))).next((d=>(iL(r,Bk(e),d),{documents:d,Qs:l})))))}function iL(i,e,t){let r=i.Os.get(e)||Re.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}class tw{constructor(){this.activeTargetIds=Kk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rL{constructor(){this.Mo=new tw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sL{Oo(e){}shutdown(){}}const nw="ConnectivityMonitor";class iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(nw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kh=null;function Ag(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}const Vp="RestConnection",aL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Rf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=Ag(),d=this.zo(e,t.toUriEncodedString());he(Vp,`Sending RPC '${e}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=Vs(g);return this.Jo(e,d,m,r,v).then((_=>(he(Vp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Ho(Vp,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=aL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class lL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class uL extends oL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=Ag();return new Promise(((d,m)=>{const g=new lS;g.setWithCredentials(!0),g.listenOnce(uS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case of.NO_ERROR:const _=g.getResponseJson();he(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case of.TIMEOUT:he(an,`RPC '${e}' ${c} timed out`),m(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const w=g.getStatus();if(he(an,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const B=(function(X){const W=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(W)>=0?W:te.UNKNOWN})(I.status);m(new ce(B,I.message))}else m(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(an,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(an,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Ag(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fS(),d=hS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=l.join("");he(an,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);this.I_(_);let w=!1,S=!1;const I=new lL({Yo:V=>{S?he(an,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(w||(he(an,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),he(an,`RPC '${e}' stream ${a} sending:`,V),_.send(V))},Zo:()=>_.close()}),B=(V,X,W)=>{V.listen(X,(G=>{try{W(G)}catch(se){setTimeout((()=>{throw se}),0)}}))};return B(_,Eu.EventType.OPEN,(()=>{S||(he(an,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),B(_,Eu.EventType.CLOSE,(()=>{S||(S=!0,he(an,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(_))})),B(_,Eu.EventType.ERROR,(V=>{S||(S=!0,Ho(an,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),I.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),B(_,Eu.EventType.MESSAGE,(V=>{if(!S){const X=V.data[0];Xe(!!X,16349);const W=X,G=W?.error||W[0]?.error;if(G){he(an,`RPC '${e}' stream ${a} received error:`,G);const se=G.status;let de=(function(A){const x=Vt[A];if(x!==void 0)return $S(x)})(se),ge=G.message;de===void 0&&(de=te.INTERNAL,ge="Unknown error status: "+se+" with message "+G.message),S=!0,I.a_(new ce(de,ge)),_.close()}else he(an,`RPC '${e}' stream ${a} received:`,X),I.u_(X)}})),B(d,cS.STAT_EVENT,(V=>{V.stat===fg.PROXY?he(an,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===fg.NOPROXY&&he(an,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Up(){return typeof document<"u"?document:null}function rd(i){return new dP(i,!0)}class aA{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rw="PersistentStream";class oA{constructor(e,t,r,a,l,c,d,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(rw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cL extends oA{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gP(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Yi(c.readTime):Re.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Tg(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=yg(m)?{documents:_P(l,m)}:{query:EP(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=QS(l,c.resumeToken);const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=Nf(l,c.snapshotVersion.toTimestamp());const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=wP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.q_(t)}}class hL extends oA{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vP(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Tg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>yP(this.serializer,r)))};this.q_(t)}}class fL{}class dL extends fL{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,bg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,bg(t,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class pL{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Va(this)&&(he(ka,"Restarting streams for network reachability change."),await(async function(m){const g=Ie(m);g.Ea.add(4),await oc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await sd(g)})(this))}))})),this.Ra=new mL(r,a)}}async function sd(i){if(Va(i))for(const e of i.da)await e(!0)}async function oc(i){for(const e of i.da)await e(!1)}function lA(i,e){const t=Ie(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_y(t)?vy(t):il(t).O_()&&yy(t,e))}function gy(i,e){const t=Ie(i),r=il(t);t.Ia.delete(e),r.O_()&&uA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Va(t)&&t.Ra.set("Unknown"))}function yy(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}il(i).Y_(e)}function uA(i,e){i.Va.Ue(e),il(i).Z_(e)}function vy(i){i.Va=new uP({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),il(i).start(),i.Ra.ua()}function _y(i){return Va(i)&&!il(i).x_()&&i.Ia.size>0}function Va(i){return Ie(i).Ea.size===0}function cA(i){i.Va=void 0}async function gL(i){i.Ra.set("Online")}async function yL(i){i.Ia.forEach(((e,t)=>{yy(i,e)}))}async function vL(i,e){cA(i),_y(i)?(i.Ra.ha(e),vy(i)):i.Ra.set("Unknown")}async function _L(i,e,t){if(i.Ra.set("Online"),e instanceof YS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,e)}catch(r){he(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Of(i,r)}else if(e instanceof hf?i.Va.Ze(e):e instanceof KS?i.Va.st(e):i.Va.tt(e),!t.isEqual(Re.min()))try{const r=await sA(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),uA(l,m);const _=new Ts(v.target,m,g,v.sequenceNumber);yy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(r){he(ka,"Failed to raise snapshot:",r),await Of(i,r)}}async function Of(i,e,t){if(!tl(e))throw e;i.Ea.add(1),await oc(i),i.Ra.set("Offline"),t||(t=()=>sA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(ka,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await sd(i)}))}function hA(i,e){return e().catch((t=>Of(i,t,e)))}async function ad(i){const e=Ie(i),t=ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ny;for(;EL(e);)try{const a=await tL(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,bL(e,a)}catch(a){await Of(e,a)}fA(e)&&dA(e)}function EL(i){return Va(i)&&i.Ta.length<10}function bL(i,e){i.Ta.push(e);const t=ks(i);t.O_()&&t.X_&&t.ea(e.mutations)}function fA(i){return Va(i)&&!ks(i).x_()&&i.Ta.length>0}function dA(i){ks(i).start()}async function wL(i){ks(i).ra()}async function TL(i){const e=ks(i);for(const t of i.Ta)e.ea(t.mutations)}async function SL(i,e,t){const r=i.Ta.shift(),a=uy.from(r,e,t);await hA(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await ad(i)}async function AL(i,e){e&&ks(i).X_&&await(async function(r,a){if((function(c){return aP(c)&&c!==te.ABORTED})(a.code)){const l=r.Ta.shift();ks(r).B_(),await hA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await ad(r)}})(i,e),fA(i)&&dA(i)}async function sw(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),he(ka,"RemoteStore received new credentials");const r=Va(t);t.Ea.add(3),await oc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await sd(t)}async function RL(i,e){const t=Ie(i);e?(t.Ea.delete(2),await sd(t)):e||(t.Ea.add(2),await oc(t),t.Ra.set("Unknown"))}function il(i){return i.ma||(i.ma=(function(t,r,a){const l=Ie(t);return l.sa(),new cL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:gL.bind(null,i),t_:yL.bind(null,i),r_:vL.bind(null,i),H_:_L.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),_y(i)?vy(i):i.Ra.set("Unknown")):(await i.ma.stop(),cA(i))}))),i.ma}function ks(i){return i.fa||(i.fa=(function(t,r,a){const l=Ie(t);return l.sa(),new hL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:wL.bind(null,i),r_:AL.bind(null,i),ta:TL.bind(null,i),na:SL.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ad(i)):(await i.fa.stop(),i.Ta.length>0&&(he(ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ey{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new Ey(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(i,e){if(kr("AsyncQueue",`${e}: ${i}`),tl(i))return new ce(te.UNAVAILABLE,`${e}: ${i}`);throw i}class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=bu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aw{constructor(){this.ga=new gt(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Qo{constructor(e,t,r,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Qo(e,t,zo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class xL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CL{constructor(){this.queries=ow(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ie(t),l=a.queries;a.queries=ow(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function ow(){return new Ma((i=>PS(i)),Zf)}async function wy(i,e){const t=Ie(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new xL,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=by(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Sy(t)}async function Ty(i,e){const t=Ie(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function IL(i,e){const t=Ie(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&Sy(t)}function NL(i,e,t){const r=Ie(i),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Sy(i){i.Ca.forEach((e=>{e.next()}))}var Rg,lw;(lw=Rg||(Rg={})).Ma="default",lw.Cache="cache";class Ay{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rg.Cache}}class mA{constructor(e){this.key=e}}class pA{constructor(e){this.key=e}}class DL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=LS(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new aw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const w=a.get(v),S=ed(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),B=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;w&&S?w.data.isEqual(S.data)?I!==B&&(r.track({type:3,doc:S}),V=!0):this.su(w,S)||(r.track({type:2,doc:S}),V=!0,(m&&this.eu(S,m)>0||g&&this.eu(S,g)<0)&&(d=!0)):!w&&S?(r.track({type:0,doc:S}),V=!0):w&&!S&&(r.track({type:1,doc:w}),V=!0,(m||g)&&(d=!0)),V&&(S?(c=c.add(S),l=B?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(S,I){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:V})}};return B(S)-B(I)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Qo(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new pA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new mA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ry="SyncEngine";class OL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kL{constructor(e){this.key=e,this.hu=!1}}class PL{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ma((d=>PS(d)),Zf),this.Iu=new Map,this.Eu=new Set,this.du=new gt(_e.comparator),this.Au=new Map,this.Ru=new fy,this.Vu={},this.mu=new Map,this.fu=Yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LL(i,e,t=!0){const r=bA(i);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gA(r,e,t,!0),a}async function ML(i,e){const t=bA(i);await gA(t,e,!0,!1)}async function gA(i,e,t,r){const a=await nL(i.localStore,Ki(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await VL(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&lA(i.remoteStore,a),d}async function VL(i,e,t,r,a){i.pu=(_,w,S)=>(async function(B,V,X,W){let G=V.view.ru(X);G.Cs&&(G=await ew(B.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,G))));const se=W&&W.targetChanges.get(V.targetId),de=W&&W.targetMismatches.get(V.targetId)!=null,ge=V.view.applyChanges(G,B.isPrimaryClient,se,de);return cw(B,V.targetId,ge.au),ge.snapshot})(i,_,w,S);const l=await ew(i.localStore,e,!0),c=new DL(e,l.Qs),d=c.ru(l.documents),m=ac.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,m);cw(i,t,g.au);const v=new OL(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function UL(i,e,t){const r=Ie(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Zf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Sg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&gy(r.remoteStore,a.targetId),xg(r,a.targetId)})).catch(el)):(xg(r,a.targetId),await Sg(r.localStore,a.targetId,!0))}async function jL(i,e){const t=Ie(i),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gy(t.remoteStore,r.targetId))}async function zL(i,e,t){const r=KL(i);try{const a=await(function(c,d){const m=Ie(c),g=ht.now(),v=d.reduce(((S,I)=>S.add(I.key)),Fe());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=Pr(),B=Fe();return m.Ns.getEntries(S,v).next((V=>{I=V,I.forEach(((X,W)=>{W.isValidDocument()||(B=B.add(X))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,I))).next((V=>{_=V;const X=[];for(const W of d){const G=tP(W,_.get(W.key).overlayedDocument);G!=null&&X.push(new Bs(W.key,G,RS(G.value.mapValue),Jn.exists(!0)))}return m.mutationQueue.addMutationBatch(S,g,X,d)})).next((V=>{w=V;const X=V.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(S,V.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:VS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(Be)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,t),await lc(r,a.changes),await ad(r.remoteStore)}catch(a){const l=by(a,"Failed to persist write");t.reject(l)}}async function yA(i,e){const t=Ie(i);try{const r=await ZP(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Xe(c.hu,14607):a.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await lc(t,r,e)}catch(r){await el(r)}}function uw(i,e,t){const r=Ie(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Ie(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,_)=>{for(const w of _.Sa)w.va(d)&&(g=!0)})),g&&Sy(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BL(i,e,t){const r=Ie(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new gt(_e.comparator);c=c.insert(l,ln.newNoDocument(l,Re.min()));const d=Fe().add(l),m=new id(Re.min(),new Map,new gt(Be),c,d);await yA(r,m),r.du=r.du.remove(l),r.Au.delete(e),xy(r)}else await Sg(r.localStore,e,!1).then((()=>xg(r,e,t))).catch(el)}async function FL(i,e){const t=Ie(i),r=e.batch.batchId;try{const a=await JP(t.localStore,e);_A(t,r,null),vA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lc(t,a)}catch(a){await el(a)}}async function qL(i,e,t){const r=Ie(i);try{const a=await(function(c,d){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(Xe(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);_A(r,e,t),vA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lc(r,a)}catch(a){await el(a)}}function vA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function _A(i,e,t){const r=Ie(i);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function xg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||EA(i,r)}))}function EA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(gy(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),xy(i))}function cw(i,e,t){for(const r of t)r instanceof mA?(i.Ru.addReference(r.key,e),HL(i,r)):r instanceof pA?(he(Ry,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||EA(i,r.key)):Se(19791,{wu:r})}function HL(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(he(Ry,"New document in limbo: "+t),i.Eu.add(r),xy(i))}function xy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new _e(lt.fromString(e)),r=i.fu.next();i.Au.set(r,new kL(t)),i.du=i.du.insert(t,r),lA(i.remoteStore,new Ts(Ki(Jf(t.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function lc(i,e,t){const r=Ie(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=my.As(m.targetId,g);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,g){const v=Ie(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(g,(w=>ie.forEach(w.Es,(S=>v.persistence.referenceDelegate.addReference(_,w.targetId,S))).next((()=>ie.forEach(w.ds,(S=>v.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))))))}catch(_){if(!tl(_))throw _;he(py,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const S=v.Ms.get(w),I=S.snapshotVersion,B=S.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(w,B)}}})(r.localStore,l))}async function GL(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){he(Ry,"User change. New user:",e.toKey());const r=await rA(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ce(te.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(t,r.Ls)}}function $L(i,e){const t=Ie(i),r=t.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let a=Fe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function bA(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$L.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BL.bind(null,e),e.Pu.H_=IL.bind(null,e.eventManager),e.Pu.yu=NL.bind(null,e.eventManager),e}function KL(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return WP(this.persistence,new YP,e.initialUser,this.serializer)}Cu(e){return new iA(dy.mi,this.serializer)}Du(e){return new rL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class YL extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new iA((r=>Df.mi(r,t)),this.serializer)}}class Cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GL.bind(null,this.syncEngine),await RL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CL})()}createDatastore(e){const t=rd(e.databaseInfo.databaseId),r=(function(l){return new uL(l)})(e.databaseInfo);return(function(l,c,d,m){return new dL(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,d){return new pL(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>uw(this.syncEngine,t,0)),(function(){return iw.v()?new iw:new sL})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,v){const _=new PL(a,l,c,d,m,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);he(ka,"RemoteStore shutting down."),r.Ea.add(5),await oc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cg.provider={build:()=>new Cg};class Cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ps="FirestoreClient";class QL{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{he(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(he(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=by(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ps,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await rA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function hw(i,e){i.asyncQueue.verifyOperationInProgress();const t=await XL(i);he(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>sw(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>sw(e.remoteStore,a))),i._onlineComponents=e}async function XL(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ps,"Using user provided OfflineComponentProvider");try{await jp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await jp(i,new kf)}}else he(Ps,"Using default OfflineComponentProvider"),await jp(i,new YL(void 0));return i._offlineComponents}async function wA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ps,"Using user provided OnlineComponentProvider"),await hw(i,i._uninitializedComponentsProvider._online)):(he(Ps,"Using default OnlineComponentProvider"),await hw(i,new Cg))),i._onlineComponents}function WL(i){return wA(i).then((e=>e.syncEngine))}async function Pf(i){const e=await wA(i),t=e.eventManager;return t.onListen=LL.bind(null,e.syncEngine),t.onUnlisten=UL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ML.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jL.bind(null,e.syncEngine),t}function JL(i,e,t={}){const r=new Cr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new Cy({next:w=>{v.Nu(),c.enqueueAndForget((()=>Ty(l,_)));const S=w.docs.has(d);!S&&w.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new Ay(Jf(d.path),v,{includeMetadataChanges:!0,qa:!0});return wy(l,_)})(await Pf(i),i.asyncQueue,e,t,r))),r.promise}function ZL(i,e,t={}){const r=new Cr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new Cy({next:w=>{v.Nu(),c.enqueueAndForget((()=>Ty(l,_))),w.fromCache&&m.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new Ay(d,v,{includeMetadataChanges:!0,qa:!0});return wy(l,_)})(await Pf(i),i.asyncQueue,e,t,r))),r.promise}function TA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const fw=new Map;const SA="firestore.googleapis.com",dw=!0;class mw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=dw}else this.host=e.host,this.ssl=e.ssl??dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DP)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rk;switch(r.type){case"firstParty":return new lk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fw.get(t);r&&(he("ComponentProvider","Removing Datastore"),fw.delete(t),r.terminate())})(this),Promise.resolve()}}function eM(i,e,t,r={}){i=An(i,od);const a=Vs(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;a&&(jg(`https://${d}`),zg("Firestore",!0)),l.host!==SA&&l.host!==d&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!Ca(m,c)&&(i._setSettings(m),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=on.MOCK_USER;else{g=wT(r.mockUserToken,i._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(_)}i._authCredentials=new sk(new mS(g,v))}}class Fs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Et{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(rc(t,Et._jsonSchema))return new Et(e,r||null,new _e(lt.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:jt("string",Et._jsonSchemaVersion),referencePath:jt("string")};class xs extends Fs{constructor(e,t,r){super(e,t,Jf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new _e(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function Co(i,e,...t){if(i=ft(i),pS("collection","path",e),i instanceof od){const r=lt.fromString(e,...t);return xb(r),new xs(i,null,r)}{if(!(i instanceof Et||i instanceof xs))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return xb(r),new xs(i.firestore,null,r)}}function Bo(i,e,...t){if(i=ft(i),arguments.length===1&&(e=ty.newId()),pS("doc","path",e),i instanceof od){const r=lt.fromString(e,...t);return Rb(r),new Et(i,null,new _e(r))}{if(!(i instanceof Et||i instanceof xs))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(lt.fromString(e,...t));return Rb(r),new Et(i.firestore,i instanceof xs?i.converter:null,new _e(r))}}const pw="AsyncQueue";class gw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aA(this,"async_queue_retry"),this._c=()=>{const r=Up();r&&he(pw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;he(pw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",yw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ey.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function yw(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function vw(i){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}class Lr extends od{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new gw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gw(e),this._firestoreClient=void 0,await e}}}function tM(i,e){const t=typeof i=="object"?i:qg(),r=typeof i=="string"?i:Rf,a=Hf(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=_T("firestore");l&&eM(a,...l)}return a}function ld(i){if(i._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nM(i),i._firestoreClient}function nM(i){const e=i._freezeSettings(),t=(function(a,l,c,d){return new Ak(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new QL(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(t){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:jt("string",Wn._jsonSchemaVersion),bytes:jt("string")};class ud{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cd{constructor(e){this._methodName=e}}class Qi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(rc(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:jt("string",Qi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xi(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:jt("string",Xi._jsonSchemaVersion),vectorValues:jt("object")};const iM=/^__.*__$/;class rM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}class AA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Iy{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RA(this.Ac)&&iM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rd(e)}Cc(e,t,r,a=!1){return new Iy({Ac:e,methodName:t,Dc:r,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hd(i){const e=i._freezeSettings(),t=rd(i._databaseId);return new sM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function xA(i,e,t,r,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,a);Dy("Data must be an object, but it was:",c,r);const d=CA(r,c);let m,g;if(l.merge)m=new Ln(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const w=Ig(e,_,t);if(!c.contains(w))throw new ce(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);NA(v,w)||v.push(w)}m=new Ln(v),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new rM(new Sn(d),m,g)}class fd extends cd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}class Ny extends cd{_toFieldTransform(e){return new Wk(e.path,new qu)}isEqual(e){return e instanceof Ny}}function aM(i,e,t,r){const a=i.Cc(1,e,t);Dy("Data must be an object, but it was:",a,r);const l=[],c=Sn.empty();zs(r,((m,g)=>{const v=Oy(e,m,t);g=ft(g);const _=a.yc(v);if(g instanceof fd)l.push(v);else{const w=uc(g,_);w!=null&&(l.push(v),c.set(v,w))}}));const d=new Ln(l);return new AA(c,d,a.fieldTransforms)}function oM(i,e,t,r,a,l){const c=i.Cc(1,e,t),d=[Ig(e,r,t)],m=[a];if(l.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Ig(e,l[w])),m.push(l[w+1]);const g=[],v=Sn.empty();for(let w=d.length-1;w>=0;--w)if(!NA(g,d[w])){const S=d[w];let I=m[w];I=ft(I);const B=c.yc(S);if(I instanceof fd)g.push(S);else{const V=uc(I,B);V!=null&&(g.push(S),v.set(S,V))}}const _=new Ln(g);return new AA(v,_,c.fieldTransforms)}function lM(i,e,t,r=!1){return uc(t,i.Cc(r?4:3,e))}function uc(i,e){if(IA(i=ft(i)))return Dy("Unsupported field value:",e,i),CA(i,e);if(i instanceof cd)return(function(r,a){if(!RA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let m=uc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,a){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yk(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ht.fromDate(r);return{timestampValue:Nf(a.serializer,l)}}if(r instanceof ht){const l=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nf(a.serializer,l)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:QS(a.serializer,r._byteString)};if(r instanceof Et){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xi)return(function(c,d){return{mapValue:{fields:{[SS]:{stringValue:AS},[xf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return oy(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Yf(r)}`)})(i,e)}function CA(i,e){const t={};return vS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(i,((r,a)=>{const l=uc(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function IA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof Qi||i instanceof Wn||i instanceof Et||i instanceof cd||i instanceof Xi)}function Dy(i,e,t){if(!IA(t)||!gS(t)){const r=Yf(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Ig(i,e,t){if((e=ft(e))instanceof ud)return e._internalPath;if(typeof e=="string")return Oy(i,e);throw Lf("Field path arguments must be of type string or ",i,!1,void 0,t)}const uM=new RegExp("[~\\*/\\[\\]]");function Oy(i,e,t){if(e.search(uM)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ud(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Lf(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new ce(te.INVALID_ARGUMENT,d+i+m)}function NA(i,e){return i.some((t=>t.isEqual(e)))}class DA{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cM extends DA{data(){return super.data()}}function dd(i,e){return typeof e=="string"?Oy(i,e):e instanceof ud?e._internalPath:e._delegate._internalPath}function OA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class kA extends ky{}function mu(i,e,...t){let r=[];e instanceof ky&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((m=>m instanceof Py)).length,d=l.filter((m=>m instanceof md)).length;if(c>1||c>0&&d>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)i=a._apply(i);return i}class md extends kA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new md(e,t,r)}_apply(e){const t=this._parse(e);return PA(e._query,t),new Fs(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=hd(e.firestore);return(function(l,c,d,m,g,v,_){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Ew(_,v);const I=[];for(const B of _)I.push(_w(m,l,B));w={arrayValue:{values:I}}}else w=_w(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Ew(_,v),w=lM(d,c,_,v==="in"||v==="not-in");return Ut.create(g,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pu(i,e,t){const r=e,a=dd("where",i);return md._create(a,r,t)}class Py extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Py(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:yi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)PA(c,m),c=vg(c,m)})(e._query,t),new Fs(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ly extends kA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ly(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(l,c)})(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new nl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function zp(i,e="asc"){const t=e,r=dd("orderBy",i);return Ly._create(r,t)}function _w(i,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&t.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lt.fromString(t));if(!_e.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lb(i,new _e(r))}if(t instanceof Et)return Lb(i,t._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(t)}.`)}function Ew(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(i,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hM{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return zs(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[xf].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new Xi(t)}convertGeoPoint(e){return new Qi(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const t=Ns(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lt.fromString(e);Xe(tA(r),9688,{name:e});const a=new zu(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return a.isEqual(t)||kr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function LA(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}class Tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends DA{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Sa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:jt("string",Sa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class ff extends Sa{data(e={}){return super.data(e)}}class Aa{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Tu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new ff(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new ff(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new ff(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:fM(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}function bw(i){i=An(i,Et);const e=An(i.firestore,Lr);return JL(ld(e),i._key).then((t=>MA(e,i,t)))}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:jt("string",Aa._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class My extends hM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function Bp(i){i=An(i,Fs);const e=An(i.firestore,Lr),t=ld(e),r=new My(e);return OA(i._query),ZL(t,i._query).then((a=>new Aa(e,r,i,a)))}function Fp(i,e,t){i=An(i,Et);const r=An(i.firestore,Lr),a=LA(i.converter,e,t);return pd(r,[xA(hd(r),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Jn.none())])}function dM(i,e,t,...r){i=An(i,Et);const a=An(i.firestore,Lr),l=hd(a);let c;return c=typeof(e=ft(e))=="string"||e instanceof ud?oM(l,"updateDoc",i._key,e,t,r):aM(l,"updateDoc",i._key,e),pd(a,[c.toMutation(i._key,Jn.exists(!0))])}function mM(i){return pd(An(i.firestore,Lr),[new ly(i._key,Jn.none())])}function pM(i,e){const t=An(i.firestore,Lr),r=Bo(i),a=LA(i.converter,e);return pd(t,[xA(hd(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then((()=>r))}function ww(i,...e){i=ft(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vw(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(vw(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,c,d;if(i instanceof Et)c=An(i.firestore,Lr),d=Jf(i._key.path),l={next:m=>{e[r]&&e[r](MA(c,i,m))},error:e[r+1],complete:e[r+2]};else{const m=An(i,Fs);c=An(m.firestore,Lr),d=m._query;const g=new My(c);l={next:v=>{e[r]&&e[r](new Aa(c,g,m,v))},error:e[r+1],complete:e[r+2]},OA(i._query)}return(function(g,v,_,w){const S=new Cy(w),I=new Ay(v,S,_);return g.asyncQueue.enqueueAndForget((async()=>wy(await Pf(g),I))),()=>{S.Nu(),g.asyncQueue.enqueueAndForget((async()=>Ty(await Pf(g),I)))}})(ld(c),d,a,l)}function pd(i,e){return(function(r,a){const l=new Cr;return r.asyncQueue.enqueueAndForget((async()=>zL(await WL(r),a,l))),l.promise})(ld(i),e)}function MA(i,e,t){const r=t.docs.get(e._key),a=new My(i);return new Sa(i,a,e._key,r,new Tu(t.hasPendingWrites,t.fromCache),e.converter)}function Fo(){return new Ny("serverTimestamp")}(function(e,t=!0){(function(a){Zo=a})(La),Ia(new Cs("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Lr(new ak(r.getProvider("auth-internal")),new uk(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Gi(wb,Tb,e),Gi(wb,Tb,"esm2020")})();var gM="firebase",yM="12.6.0";Gi(gM,yM,"app");const VA="firebasestorage.googleapis.com",UA="storageBucket",vM=120*1e3,_M=600*1e3;class wt extends er{constructor(e,t,r=0){super(qp(e),`Firebase Storage: ${t} (${qp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function qp(i){return"storage/"+i}function Vy(){const i="An unknown error occurred, please check the error payload for server response.";return new wt(bt.UNKNOWN,i)}function EM(i){return new wt(bt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function bM(i){return new wt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(bt.UNAUTHENTICATED,i)}function TM(){return new wt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function SM(i){return new wt(bt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function AM(){return new wt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RM(){return new wt(bt.CANCELED,"User canceled the upload/download.")}function xM(i){return new wt(bt.INVALID_URL,"Invalid URL '"+i+"'.")}function CM(i){return new wt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function IM(){return new wt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UA+"' property when initializing the app?")}function NM(){return new wt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DM(){return new wt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OM(i){return new wt(bt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ng(i){return new wt(bt.INVALID_ARGUMENT,i)}function jA(){return new wt(bt.APP_DELETED,"The Firebase app was deleted.")}function kM(i){return new wt(bt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ku(i,e){return new wt(bt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function gu(i){throw new wt(bt.INTERNAL_ERROR,"Internal error: "+i)}class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(r.path==="")return r;throw CM(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${v}/b/${a}/o${w}`,"i"),I={bucket:1,path:3},B=t===VA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",X=new RegExp(`^https?://${B}/${a}/${V}`,"i"),G=[{regex:d,indices:m,postModify:l},{regex:S,indices:I,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<G.length;se++){const de=G[se],ge=de.regex.exec(e);if(ge){const C=ge[de.indices.bucket];let A=ge[de.indices.path];A||(A=""),r=new Mn(C,A),de.postModify(r);break}}if(r==null)throw xM(e);return r}}class PM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function LM(i,e,t){let r=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function v(...V){g||(g=!0,e.apply(null,V))}function _(V){a=setTimeout(()=>{a=null,i(S,m())},V)}function w(){l&&clearTimeout(l)}function S(V,...X){if(g){w();return}if(V){w(),v.call(null,V,...X);return}if(m()||c){w(),v.call(null,V,...X);return}r<64&&(r*=2);let G;d===1?(d=2,G=0):G=(r+Math.random())*1e3,_(G)}let I=!1;function B(V){I||(I=!0,w(),!g&&(a!==null?(V||(d=2),clearTimeout(a),_(0)):V||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,B(!0)},t),B}function MM(i){i(!1)}function VM(i){return i!==void 0}function UM(i){return typeof i=="object"&&!Array.isArray(i)}function Uy(i){return typeof i=="string"||i instanceof String}function Tw(i){return jy()&&i instanceof Blob}function jy(){return typeof Blob<"u"}function Sw(i,e,t,r){if(r<e)throw Ng(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw Ng(`Invalid value for '${i}'. Expected ${t} or less.`)}function gd(i,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${i}`}function zA(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const a=e(r)+"="+e(i[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ra;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ra||(Ra={}));function jM(i,e){const t=i>=500&&i<600,a=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||a||l}class zM{constructor(e,t,r,a,l,c,d,m,g,v,_,w=!0,S=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,B)=>{this.resolve_=I,this.reject_=B,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Yh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ra.NO_ERROR,m=l.getStatus();if(!d||jM(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ra.ABORT;r(!1,new Yh(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new Yh(g,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());VM(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=Vy();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?jA():RM();c(m)}else{const m=AM();c(m)}};this.canceled_?t(!1,new Yh(!1,null,!0)):this.backoffId_=LM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function BM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function FM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function HM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function GM(i,e,t,r,a,l,c=!0,d=!1){const m=zA(i.urlParams),g=i.url+m,v=Object.assign({},i.headers);return qM(v,e),BM(v,t),FM(v,l),HM(v,r),new zM(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,a,c,d)}function $M(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KM(...i){const e=$M();if(e!==void 0){const t=new e;for(let r=0;r<i.length;r++)t.append(i[r]);return t.getBlob()}else{if(jy())return new Blob(i);throw new wt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function QM(i){if(typeof atob>"u")throw OM("base-64");return atob(i)}const Hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hp{constructor(e,t){this.data=e,this.contentType=t||null}}function XM(i,e){switch(i){case Hi.RAW:return new Hp(BA(e));case Hi.BASE64:case Hi.BASE64URL:return new Hp(FA(i,e));case Hi.DATA_URL:return new Hp(JM(e),ZM(e))}throw Vy()}function BA(i){const e=[];for(let t=0;t<i.length;t++){let r=i.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=i.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function WM(i){let e;try{e=decodeURIComponent(i)}catch{throw ku(Hi.DATA_URL,"Malformed data URL.")}return BA(e)}function FA(i,e){switch(i){case Hi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw ku(i,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Hi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw ku(i,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=QM(e)}catch(a){throw a.message.includes("polyfill")?a:ku(i,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class qA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ku(Hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=e4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JM(i){const e=new qA(i);return e.base64?FA(Hi.BASE64,e.rest):WM(e.rest)}function ZM(i){return new qA(i).contentType}function e4(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class ws{constructor(e,t){let r=0,a="";Tw(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tw(this.data_)){const r=this.data_,a=YM(r,e,t);return a===null?null:new ws(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ws(r,!0)}}static getBlob(...e){if(jy()){const t=e.map(r=>r instanceof ws?r.data_:r);return new ws(KM.apply(null,t))}else{const t=e.map(c=>Uy(c)?XM(Hi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new ws(a,!0)}}uploadData(){return this.data_}}function HA(i){let e;try{e=JSON.parse(i)}catch{return null}return UM(e)?e:null}function t4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function n4(i,e){const t=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?t:i+"/"+t}function GA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function i4(i,e){return e}class dn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||i4}}let Qh=null;function r4(i){return!Uy(i)||i.length<2?i:GA(i)}function $A(){if(Qh)return Qh;const i=[];i.push(new dn("bucket")),i.push(new dn("generation")),i.push(new dn("metageneration")),i.push(new dn("name","fullPath",!0));function e(l,c){return r4(c)}const t=new dn("name");t.xform=e,i.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new dn("size");return a.xform=r,i.push(a),i.push(new dn("timeCreated")),i.push(new dn("updated")),i.push(new dn("md5Hash",null,!0)),i.push(new dn("cacheControl",null,!0)),i.push(new dn("contentDisposition",null,!0)),i.push(new dn("contentEncoding",null,!0)),i.push(new dn("contentLanguage",null,!0)),i.push(new dn("contentType",null,!0)),i.push(new dn("metadata","customMetadata",!0)),Qh=i,Qh}function s4(i,e){function t(){const r=i.bucket,a=i.fullPath,l=new Mn(r,a);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function a4(i,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return s4(r,i),r}function KA(i,e,t){const r=HA(e);return r===null?null:a4(i,r,t)}function o4(i,e,t,r){const a=HA(e);if(a===null||!Uy(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=i.bucket,_=i.fullPath,w="/b/"+c(v)+"/o/"+c(_),S=gd(w,t,r),I=zA({alt:"media",token:g});return S+I})[0]}function l4(i,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class zy{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function YA(i){if(!i)throw Vy()}function u4(i,e){function t(r,a){const l=KA(i,a,e);return YA(l!==null),l}return t}function c4(i,e){function t(r,a){const l=KA(i,a,e);return YA(l!==null),o4(l,a,i.host,i._protocol)}return t}function QA(i){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=TM():a=wM():t.getStatus()===402?a=bM(i.bucket):t.getStatus()===403?a=SM(i.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function XA(i){const e=QA(i);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=EM(i.path)),l.serverResponse=a.serverResponse,l}return t}function h4(i,e,t){const r=e.fullServerUrl(),a=gd(r,i.host,i._protocol),l="GET",c=i.maxOperationRetryTime,d=new zy(a,l,c4(i,t),c);return d.errorHandler=XA(e),d}function f4(i,e){const t=e.fullServerUrl(),r=gd(t,i.host,i._protocol),a="DELETE",l=i.maxOperationRetryTime;function c(m,g){}const d=new zy(r,a,c,l);return d.successCodes=[200,204],d.errorHandler=XA(e),d}function d4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function m4(i,e,t){const r=Object.assign({},t);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=d4(null,e)),r}function p4(i,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let se=0;se<2;se++)G=G+Math.random().toString().slice(2);return G}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const g=m4(e,r,a),v=l4(g,t),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=ws.getBlob(_,r,w);if(S===null)throw NM();const I={name:g.fullPath},B=gd(l,i.host,i._protocol),V="POST",X=i.maxUploadRetryTime,W=new zy(B,V,u4(i,t),X);return W.urlParams=I,W.headers=c,W.body=S.uploadData(),W.errorHandler=QA(e),W}class g4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw gu("cannot .send() more than once");if(Vs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class y4 extends g4{initXhr(){this.xhr_.responseType="text"}}function By(){return new y4}class Pa{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pa(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GA(this._location.path)}get storage(){return this._service}get parent(){const e=t4(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new Pa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw kM(e)}}function v4(i,e,t){i._throwIfRoot("uploadBytes");const r=p4(i.storage,i._location,$A(),new ws(e,!0),t);return i.storage.makeRequestWithTokens(r,By).then(a=>({metadata:a,ref:i}))}function _4(i){i._throwIfRoot("getDownloadURL");const e=h4(i.storage,i._location,$A());return i.storage.makeRequestWithTokens(e,By).then(t=>{if(t===null)throw DM();return t})}function E4(i){i._throwIfRoot("deleteObject");const e=f4(i.storage,i._location);return i.storage.makeRequestWithTokens(e,By)}function b4(i,e){const t=n4(i._location.path,e),r=new Mn(i._location.bucket,t);return new Pa(i.storage,r)}function w4(i){return/^[A-Za-z]+:\/\//.test(i)}function T4(i,e){return new Pa(i,e)}function WA(i,e){if(i instanceof Fy){const t=i;if(t._bucket==null)throw IM();const r=new Pa(t,t._bucket);return e!=null?WA(r,e):r}else return e!==void 0?b4(i,e):i}function S4(i,e){if(e&&w4(e)){if(i instanceof Fy)return T4(i,e);throw Ng("To use ref(service, url), the first argument must be a Storage instance.")}else return WA(i,e)}function Aw(i,e){const t=e?.[UA];return t==null?null:Mn.makeFromBucketSpec(t,i)}function A4(i,e,t,r={}){i.host=`${e}:${t}`;const a=Vs(e);a&&(jg(`https://${i.host}/b`),zg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(i._overrideAuthToken=typeof l=="string"?l:wT(l,i.app.options.projectId))}class Fy{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=VA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vM,this._maxUploadRetryTime=_M,this._requests=new Set,a!=null?this._bucket=Mn.makeFromBucketSpec(a,this._host):this._bucket=Aw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=Aw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pa(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new PM(jA());{const c=GM(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const Rw="@firebase/storage",xw="0.14.0";const JA="storage";function R4(i,e,t){return i=ft(i),v4(i,e,t)}function x4(i){return i=ft(i),_4(i)}function C4(i){return i=ft(i),E4(i)}function Cw(i,e){return i=ft(i),S4(i,e)}function I4(i=qg(),e){i=ft(i);const r=Hf(i,JA).getImmediate({identifier:e}),a=_T("storage");return a&&N4(r,...a),r}function N4(i,e,t,r={}){A4(i,e,t,r)}function D4(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return new Fy(t,r,a,e,La)}function O4(){Ia(new Cs(JA,D4,"PUBLIC").setMultipleInstances(!0)),Gi(Rw,xw,""),Gi(Rw,xw,"esm2020")}O4();const k4={apiKey:"AIzaSyA36ZsJ6bsXnSUmtKK7MWd8BTzsE0bIE1M",authDomain:"react-class-8d6b4.firebaseapp.com",projectId:"react-class-8d6b4",storageBucket:"react-class-8d6b4.firebasestorage.app",messagingSenderId:"822231387624",appId:"1:822231387624:web:714b6c020bac2b7e32e85d"},qy=AT(k4),Io=nk(qy),di=tM(qy),Iw=I4(qy);class P4{googleProvider;constructor(){this.googleProvider=new Tr,this.googleProvider.setCustomParameters({prompt:"select_account"})}async signInWithGoogle(){try{const t=(await hO(Io,this.googleProvider)).user;return await this.createOrUpdateUserProfile(t),t}catch(e){throw console.error("Google  :",e),e.code==="auth/popup-closed-by-user"?new Error(" ."):e.code==="auth/popup-blocked"?new Error(" .   ."):new Error(" .  .")}}async signInWithEmail(e,t){try{const a=(await jD(Io,e,t)).user;return await this.updateLastLogin(a.uid),at.success("!"),a}catch(r){switch(console.error("  :",r),r.code){case"auth/user-not-found":throw new Error("  .");case"auth/wrong-password":throw new Error("  .");case"auth/invalid-email":throw new Error("   .");case"auth/too-many-requests":throw new Error("    .    .");default:throw new Error(" .  .")}}}async signUpWithEmail(e,t,r){try{const l=(await UD(Io,e,t)).user;return r&&await BD(l,{displayName:r}),await this.createOrUpdateUserProfile(l),at.success(" !"),l}catch(a){switch(console.error(" :",a),a.code){case"auth/email-already-in-use":throw new Error("   .");case"auth/invalid-email":throw new Error("   .");case"auth/weak-password":throw new Error("  6  .");default:throw new Error(" .  .")}}}async logout(){try{await GD(Io)}catch(e){throw console.error(" :",e),new Error(" .")}}async createOrUpdateUserProfile(e){try{const t=Bo(di,"users",e.uid),r=await bw(t),a={uid:e.uid,email:e.email||"",displayName:e.displayName||" ",photoURL:e.photoURL||void 0,lastLoginAt:Fo()};r.exists()?await Fp(t,a,{merge:!0}):await Fp(t,{...a,createdAt:Fo()})}catch(t){console.error("   :",t)}}async updateLastLogin(e){try{const t=Bo(di,"users",e);await Fp(t,{lastLoginAt:Fo()},{merge:!0})}catch(t){console.error("    :",t)}}async getUserProfile(e){try{const t=Bo(di,"users",e),r=await bw(t);return r.exists()?r.data():null}catch(t){return console.error("   :",t),null}}onAuthStateChanged(e){return HD(Io,e)}getCurrentUser(){return Io.currentUser}}const ba=new P4,ZA=U.createContext(null),L4=({children:i})=>{const[e,t]=U.useState(null),[r,a]=U.useState(null),[l,c]=U.useState(!0);U.useEffect(()=>{const w=ba.onAuthStateChanged(async S=>{if(t(S),S){const I=await ba.getUserProfile(S.uid);a(I)}else a(null);c(!1)});return()=>w()},[]);const _={user:e,userProfile:r,loading:l,login:async()=>{try{c(!0),await ba.signInWithGoogle()}catch(w){throw console.error(" :",w),w}finally{c(!1)}},loginWithEmail:async(w,S)=>{try{c(!0),await ba.signInWithEmail(w,S)}catch(I){throw console.error("  :",I),I}finally{c(!1)}},signUp:async(w,S,I)=>{try{c(!0),await ba.signUpWithEmail(w,S,I)}catch(B){throw console.error(" :",B),B}finally{c(!1)}},logout:async()=>{try{await ba.logout()}catch(w){throw console.error(" :",w),w}}};return JR.createElement(ZA.Provider,{value:_},i)},yd=()=>{const i=U.useContext(ZA);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},M4=({isOpen:i,onClose:e,onLoginSuccess:t})=>{const[r,a]=U.useState(!1);if(U.useEffect(()=>{if(!i)return;const c=d=>{d.key==="Escape"&&e()};return document.addEventListener("keydown",c),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[i,e]),!i)return null;const l=async()=>{try{a(!0),await ba.signInWithGoogle()&&(at.success(" !"),t(),e())}catch(c){console.error(" :",c),c.message!==" ."&&at.error(c.message||" !")}finally{a(!1)}};return D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(3px)"},onClick:e,children:D.jsx("div",{className:"w-full max-w-md bg-white border border-gray-300 rounded-lg shadow-2xl",onClick:c=>c.stopPropagation(),children:D.jsxs("div",{className:"p-6",children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""}),D.jsx("button",{onClick:e,className:"text-2xl text-gray-400 hover:text-gray-600",children:""})]}),D.jsx("div",{className:"mb-6 text-center",children:D.jsx("p",{className:"mb-4 text-gray-600",children:"    "})}),D.jsx("button",{onClick:l,disabled:r,className:"flex items-center justify-center w-full px-4 py-3 font-medium text-gray-700 transition-colors bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"w-5 h-5 mr-3 border-b-2 border-blue-500 rounded-full animate-spin"})," ..."]}):D.jsxs(D.Fragment,{children:[D.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[D.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),D.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),D.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),D.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]})}),D.jsx("div",{className:"mt-4 text-center",children:D.jsx("p",{className:"text-xs text-gray-500",children:"   "})})]})})})},V4={TOUR_API_BASE_URL:"/api/B551011/KorService2"},U4={DAEGU_CITY:"4"},Gp={RETRY_COUNT:3,TIMEOUT:1e4,DEBOUNCE_DELAY:300};class j4{baseURL=V4.TOUR_API_BASE_URL;apiKey="9NdSJVmVlz2MiBpNU0isMDapPmE/Q0X78N/RllU2MvHsuM2JYB0SUw8arYY+WhVDb0jORSP5rhkCQ7kWi3xtcw==";constructor(){this.apiKey||console.error("VITE_PUBLIC_DATA_API_KEY is not defined")}async fetchWithRetry(e,t=0){try{const r=new AbortController,a=setTimeout(()=>r.abort(),Gp.TIMEOUT),l=await fetch(e,{signal:r.signal,headers:{Accept:"application/json"}});if(clearTimeout(a),!l.ok)throw new Error(`API Error: ${l.status} ${l.statusText}`);return l}catch(r){if(t<Gp.RETRY_COUNT)return console.warn(`API  ,  ... (${t+1}/${Gp.RETRY_COUNT})`),await new Promise(a=>setTimeout(a,1e3*(t+1))),this.fetchWithRetry(e,t+1);throw r}}buildURL(e,t){const a={...{serviceKey:this.apiKey,MobileOS:"ETC",MobileApp:"DaeguCulture",_type:"json",numOfRows:"50",pageNo:"1",arrange:"A",areaCode:U4.DAEGU_CITY},...t},l=new URLSearchParams(a);return`${this.baseURL}${e}?${l.toString()}`}transformAPIEvent(e,t){const r=e.eventstartdate||"",a=e.eventenddate||r;return{id:e.contentid,title:e.title||" ",category:t,date:this.formatDateRange(r,a),startDate:r,endDate:a,place:e.addr1||" ",price:this.extractPrice(e.overview)||" ",image:e.firstimage||e.firstimage2||"",description:this.cleanHTML(e.overview)||"  .",tel:e.tel,playtime:e.playtime,ageLimit:e.agelimit}}formatDateRange(e,t){if(!e)return" ";const r=this.formatDate(e);if(!t||e===t)return r;const a=this.formatDate(t);return`${r} ~ ${a}`}formatDate(e){if(!e||e.length!==8)return e;const t=e.substring(0,4),r=e.substring(4,6),a=e.substring(6,8);return`${t}.${r}.${a}`}extractPrice(e){if(!e)return null;const t=[/[:\s]*([0-9,]+)/i,/[:\s]*([0-9,]+)/i,/[:\s]*([0-9,]+)/i,/[:\s]*([0-9,]+)/i,//i,/(\d{1,3}(,\d{3})*)/g];for(const r of t){const a=e.match(r);if(a)return a[1]||a[0]}return null}cleanHTML(e){return e?e.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').trim():""}async getEvents(e){try{const t={};e?.eventStartDate&&(t.eventStartDate=e.eventStartDate),e?.eventEndDate&&(t.eventEndDate=e.eventEndDate),e?.keyword&&(t.keyword=encodeURIComponent(e.keyword)),e?.contentTypeId&&(t.contentTypeId=e.contentTypeId);const r=this.buildURL("/searchFestival2",t),l=await(await this.fetchWithRetry(r)).json();if(l.response?.header?.resultCode!=="0000")throw new Error(l.response?.header?.resultMsg||"API  ");const c=l.response?.body?.items?.item||[];return(Array.isArray(c)?c:[c]).filter(m=>m.contentid&&m.title).map(m=>this.transformAPIEvent(m,"festival"))}catch(t){throw console.info(" API    (    ):",t),new Error("   .")}}async getAreaBasedEvents(e){try{const t={areaCode:"4",arrange:"A"};e?.contentTypeId&&(t.contentTypeId=e.contentTypeId),e?.sigunguCode&&(t.sigunguCode=e.sigunguCode);const r=this.buildURL("/areaBasedList2",t),l=await(await this.fetchWithRetry(r)).json();if(l.response?.header?.resultCode!=="0000")throw new Error(l.response?.header?.resultMsg||"API  ");const c=l.response?.body?.items?.item||[];return(Array.isArray(c)?c:[c]).filter(m=>m.contentid&&m.title).map(m=>{const g=m.contenttypeid||e?.contentTypeId||"",v=this.getContentTypeCategory(g);return this.transformAPIEvent(m,v)})}catch(t){throw console.info("      (    ):",t),new Error("    .")}}async searchEvents(e,t){try{const r={keyword:encodeURIComponent(e)};t&&(r.contentTypeId=t);const a=this.buildURL("/searchKeyword2",r),c=await(await this.fetchWithRetry(a)).json();if(c.response?.header?.resultCode!=="0000")throw new Error(c.response?.header?.resultMsg||"API  ");const d=c.response?.body?.items?.item||[];return(Array.isArray(d)?d:[d]).filter(g=>g.contentid&&g.title).map(g=>{const v=g.contenttypeid||t||"",_=this.getContentTypeCategory(v);return this.transformAPIEvent(g,_)})}catch(r){throw console.error("  :",r),new Error(" .")}}async getEventDetail(e){try{const t=this.buildURL("/detailCommon2",{contentId:e,defaultYN:"Y",firstImageYN:"Y",areacodeYN:"Y",catcodeYN:"Y",addrinfoYN:"Y",mapinfoYN:"Y",overviewYN:"Y"}),a=await(await this.fetchWithRetry(t)).json();if(a.response?.header?.resultCode!=="0000")throw new Error(a.response?.header?.resultMsg||"API  ");const l=a.response?.body?.items?.item;if(!l)return null;const c=Array.isArray(l)?l[0]:l,d=this.getContentTypeCategory(c.contenttypeid||"");return this.transformAPIEvent(c,d)}catch(t){return console.info("    :",t),null}}getContentTypeCategory(e){switch(console.log("  - contentTypeId:",e),e){case"12":return console.log(" tourist "),"tourist";case"14":return console.log(" culture "),"culture";case"15":return console.log(" festival "),"festival";case"25":return console.log(" travel "),"travel";default:return console.log("  festival  (   contentTypeId)"),"festival"}}async getAllEvents(e){try{const t=[],r={tourist:["12"],culture:["14"],festival:["15"],travel:["25"],all:["12","14","15","25"]},a=e?.category||"all",l=r[a];for(const d of l)try{const m=await this.getAreaBasedEvents({contentTypeId:d,keyword:e?.keyword});t.push(...m)}catch(m){console.info(`contentTypeId ${d}   (  ):`,m)}return t.filter((d,m,g)=>g.findIndex(v=>v.id===d.id)===m).sort((d,m)=>d.startDate&&m.startDate?d.startDate.localeCompare(m.startDate):0)}catch(t){throw console.error("    :",t),new Error("   .")}}}const Dg=new j4,z4=()=>{const i=Yu(),{t:e}=Wu(),[t,r]=U.useState([]),[a,l]=U.useState([]),[c,d]=U.useState("all"),[m,g]=U.useState(!0),v=async()=>{try{g(!0),console.log("API     ");const w=await Dg.getAllEvents({category:"all"});if(console.log("API   :",w),w&&w.length>0){r(w),l(w),at.success(`${w.length}  `),g(!1);return}else throw new Error("API    ")}catch(w){console.error("  :",w),at.error("API   -    "),r([]),l([])}finally{g(!1)}},_=w=>{if(d(w),w==="all"){l(t);return}const I={tourist:["tourist"],culture:["culture"],festival:["festival"],travel:["travel"]}[w];if(!I){l(t);return}const B=t.filter(V=>I.includes(V.category));l(B)};return U.useEffect(()=>{v()},[]),m?D.jsxs("div",{className:"container mx-auto px-4 py-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("home.title")}),D.jsx("p",{className:"text-lg text-gray-600",children:e("home.loadingTitle")})]}),D.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:D.jsxs("div",{className:"text-center py-8",children:[D.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),D.jsx("p",{className:"text-gray-500",children:e("home.loading")})]})})]}):D.jsxs("div",{className:"container mx-auto px-4 py-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("home.title")}),D.jsx("p",{className:"text-lg text-gray-600",children:e("home.subtitle")})]}),D.jsx("div",{className:"mb-6",children:D.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"all",label:e("category.all")},{id:"tourist",label:e("category.tourist")},{id:"culture",label:e("category.culture")},{id:"festival",label:e("category.festival")},{id:"travel",label:e("category.travel")}].map(w=>D.jsx("button",{onClick:()=>_(w.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c===w.id?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:w.label},w.id))})}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(w=>D.jsxs("div",{onClick:()=>i(`/events/${w.id}`),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:scale-105",children:[D.jsx("div",{className:"aspect-[16/9] bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:w.image&&w.image!=="/placeholder.jpg"?D.jsx("img",{src:w.image,alt:w.title,className:"w-full h-full object-cover",onError:S=>{S.currentTarget.style.display="none";const I=document.createElement("div");I.className="flex flex-col items-center justify-center text-gray-400 p-4",I.innerHTML=`
                      <svg class="w-12 h-12 mb-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                      </svg>
                      <span class="text-sm font-medium">${w.title}</span>
                    `,S.currentTarget.parentElement.appendChild(I)}}):D.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400 p-4",children:[D.jsx("svg",{className:"w-12 h-12 mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:D.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),D.jsx("span",{className:"text-sm font-medium text-center",children:w.title})]})}),D.jsxs("div",{className:"p-4",children:[D.jsx("div",{className:"flex items-center mb-2",children:D.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w.category==="tourist"?"bg-blue-100 text-blue-800":w.category==="culture"?"bg-green-100 text-green-800":w.category==="festival"?"bg-purple-100 text-purple-800":w.category==="travel"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:w.category==="tourist"?e("category.tourist"):w.category==="culture"?e("category.culture"):w.category==="festival"?e("category.festival"):w.category==="travel"?e("category.travel"):e("category.festival")})}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:w.title}),D.jsx("div",{className:"space-y-1 text-sm text-gray-600 mb-4",children:D.jsxs("div",{className:"flex items-center",children:[D.jsx("span",{className:"mr-1",children:""}),D.jsx("span",{className:"truncate",children:w.place})]})}),D.jsx("button",{onClick:S=>{S.stopPropagation(),i(`/events/${w.id}`)},className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-sm py-2 px-3 rounded transition-colors",children:e("home.viewDetails")})]})]},w.id))})]})};class B4{async createReview(e,t,r,a,l,c,d,m){try{let g=[];m&&m.length>0&&(g=await this.uploadReviewImages(a,m));const v={userId:e,userName:t,userPhoto:r,eventId:a,eventTitle:l,rating:c,content:d,images:g,createdAt:Fo(),updatedAt:Fo()};await pM(Co(di,"reviews"),v)}catch(g){throw console.error("  :",g),g}}async getEventReviews(e){try{const t=mu(Co(di,"reviews"),pu("eventId","==",e),zp("createdAt","desc"));return(await Bp(t)).docs.map(a=>({id:a.id,...a.data()}))}catch(t){throw console.error("  :",t),t}}async getUserReviews(e){try{const t=mu(Co(di,"reviews"),pu("userId","==",e));return(await Bp(t)).docs.map(l=>({id:l.id,...l.data()})).sort((l,c)=>c.createdAt.toMillis()-l.createdAt.toMillis())}catch(t){throw console.error("   :",t),t}}async updateReview(e,t){try{const r=Bo(di,"reviews",e);await dM(r,{...t,updatedAt:Fo()}),at.success(" ")}catch(r){throw console.error("  :",r),at.error("  "),r}}async deleteReview(e,t){try{t&&t.length>0&&await this.deleteReviewImages(t),await mM(Bo(di,"reviews",e)),at.success(" ")}catch(r){throw console.error("  :",r),at.error("  "),r}}async getReviewCount(e){try{const t=mu(Co(di,"reviews"),pu("eventId","==",e));return(await Bp(t)).size}catch(t){return console.error("   :",t),0}}async getAverageRating(e){try{const t=await this.getEventReviews(e);if(t.length===0)return 0;const r=t.reduce((a,l)=>a+l.rating,0);return Math.round(r/t.length*10)/10}catch(t){return console.error("   :",t),0}}async uploadReviewImages(e,t){try{const r=t.map(async(a,l)=>{const d=`${Date.now()}_${l}.${a.name.split(".").pop()}`,m=Cw(Iw,`reviews/${e}/${d}`);return await R4(m,a),await x4(m)});return await Promise.all(r)}catch(r){throw console.error("  :",r),new Error("  ")}}async deleteReviewImages(e){try{const t=e.map(async r=>{const a=Cw(Iw,r);return await C4(a)});await Promise.all(t)}catch(t){console.error("  :",t)}}subscribeToEventReviews(e,t){const r=mu(Co(di,"reviews"),pu("eventId","==",e),zp("createdAt","desc"));return ww(r,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));t(l)})}subscribeToUserReviews(e,t){const r=mu(Co(di,"reviews"),pu("userId","==",e),zp("createdAt","desc"));return ww(r,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));t(l)})}}const br=new B4,e1=i=>{const{user:e}=yd(),[t,r]=U.useState([]),[a,l]=U.useState(!1),c=U.useCallback(async()=>{if(!i&&!e){r([]);return}try{l(!0);let S;i?S=await br.getEventReviews(i):e?S=await br.getUserReviews(e.uid):S=[],r(S)}catch(S){console.error("  :",S)}finally{l(!1)}},[i,e]);U.useEffect(()=>{c()},[c]),U.useEffect(()=>{if(i)return br.subscribeToEventReviews(i,I=>{r(I)});if(e)return br.subscribeToUserReviews(e.uid,I=>{r(I)})},[i,e]);const d=U.useCallback(async S=>{if(!e)throw new Error(" .");try{l(!0),await br.createReview(e.uid,e.displayName||" ",e.photoURL||void 0,S.eventId,S.eventTitle,S.rating,S.content,S.images)}catch(I){throw console.error("  :",I),I}finally{l(!1)}},[e]),m=U.useCallback(async(S,I)=>{if(!e)throw new Error(" .");try{l(!0),await br.updateReview(S,I)}catch(B){throw console.error("  :",B),B}finally{l(!1)}},[e]),g=U.useCallback(async(S,I)=>{if(!e)throw new Error(" .");try{l(!0),I||(I=t.find(V=>V.id===S)?.images),await br.deleteReview(S,I)}catch(B){throw console.error("  :",B),B}finally{l(!1)}},[e,t]),v=U.useCallback(async S=>{try{return await br.getEventReviews(S)}catch(I){return console.error("   :",I),[]}},[]),_=U.useCallback(async()=>{if(!e)throw new Error(" .");try{return await br.getUserReviews(e.uid)}catch(S){return console.error("   :",S),[]}},[e]),w=U.useCallback(async()=>c(),[c]);return{reviews:t,userReviews:t,loading:a,createReview:d,updateReview:m,deleteReview:g,getEventReviews:v,getUserReviews:_,refreshReviews:w}};function t1(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=t1(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function F4(){for(var i,e,t=0,r="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=t1(i))&&(r&&(r+=" "),r+=e);return r}const q4=(i,e)=>{const t=new Array(i.length+e.length);for(let r=0;r<i.length;r++)t[r]=i[r];for(let r=0;r<e.length;r++)t[i.length+r]=e[r];return t},H4=(i,e)=>({classGroupId:i,validator:e}),n1=(i=new Map,e=null,t)=>({nextPart:i,validators:e,classGroupId:t}),Mf="-",Nw=[],G4="arbitrary..",$4=i=>{const e=Y4(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return K4(c);const d=c.split(Mf),m=d[0]===""&&d.length>1?1:0;return i1(d,m,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=r[c],g=t[c];return m?g?q4(g,m):m:g||Nw}return t[c]||Nw}}},i1=(i,e,t)=>{if(i.length-e===0)return t.classGroupId;const a=i[e],l=t.nextPart.get(a);if(l){const g=i1(i,e+1,l);if(g)return g}const c=t.validators;if(c===null)return;const d=e===0?i.join(Mf):i.slice(e).join(Mf),m=c.length;for(let g=0;g<m;g++){const v=c[g];if(v.validator(d))return v.classGroupId}},K4=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=i.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?G4+r:void 0})(),Y4=i=>{const{theme:e,classGroups:t}=i;return Q4(t,e)},Q4=(i,e)=>{const t=n1();for(const r in i){const a=i[r];Hy(a,t,r,e)}return t},Hy=(i,e,t,r)=>{const a=i.length;for(let l=0;l<a;l++){const c=i[l];X4(c,e,t,r)}},X4=(i,e,t,r)=>{if(typeof i=="string"){W4(i,e,t);return}if(typeof i=="function"){J4(i,e,t,r);return}Z4(i,e,t,r)},W4=(i,e,t)=>{const r=i===""?e:r1(e,i);r.classGroupId=t},J4=(i,e,t,r)=>{if(eV(i)){Hy(i(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(H4(t,i))},Z4=(i,e,t,r)=>{const a=Object.entries(i),l=a.length;for(let c=0;c<l;c++){const[d,m]=a[c];Hy(m,r1(e,d),t,r)}},r1=(i,e)=>{let t=i;const r=e.split(Mf),a=r.length;for(let l=0;l<a;l++){const c=r[l];let d=t.nextPart.get(c);d||(d=n1(),t.nextPart.set(c,d)),t=d}return t},eV=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,tV=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const a=(l,c)=>{t[l]=c,e++,e>i&&(e=0,r=t,t=Object.create(null))};return{get(l){let c=t[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return a(l,c),c},set(l,c){l in t?t[l]=c:a(l,c)}}},Og="!",Dw=":",nV=[],Ow=(i,e,t,r,a)=>({modifiers:i,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:a}),iV=i=>{const{prefix:e,experimentalParseClassName:t}=i;let r=a=>{const l=[];let c=0,d=0,m=0,g;const v=a.length;for(let B=0;B<v;B++){const V=a[B];if(c===0&&d===0){if(V===Dw){l.push(a.slice(m,B)),m=B+1;continue}if(V==="/"){g=B;continue}}V==="["?c++:V==="]"?c--:V==="("?d++:V===")"&&d--}const _=l.length===0?a:a.slice(m);let w=_,S=!1;_.endsWith(Og)?(w=_.slice(0,-1),S=!0):_.startsWith(Og)&&(w=_.slice(1),S=!0);const I=g&&g>m?g-m:void 0;return Ow(l,S,w,I)};if(e){const a=e+Dw,l=r;r=c=>c.startsWith(a)?l(c.slice(a.length)):Ow(nV,!1,c,void 0,!0)}if(t){const a=r;r=l=>t({className:l,parseClassName:a})}return r},rV=i=>{const e=new Map;return i.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let a=[];for(let l=0;l<t.length;l++){const c=t[l],d=c[0]==="[",m=e.has(c);d||m?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},sV=i=>({cache:tV(i.cacheSize),parseClassName:iV(i),sortModifiers:rV(i),...$4(i)}),aV=/\s+/,oV=(i,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=i.trim().split(aV);let m="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:_,modifiers:w,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:B}=t(v);if(_){m=v+(m.length>0?" "+m:m);continue}let V=!!B,X=r(V?I.substring(0,B):I);if(!X){if(!V){m=v+(m.length>0?" "+m:m);continue}if(X=r(I),!X){m=v+(m.length>0?" "+m:m);continue}V=!1}const W=w.length===0?"":w.length===1?w[0]:l(w).join(":"),G=S?W+Og:W,se=G+X;if(c.indexOf(se)>-1)continue;c.push(se);const de=a(X,V);for(let ge=0;ge<de.length;++ge){const C=de[ge];c.push(G+C)}m=v+(m.length>0?" "+m:m)}return m},lV=(...i)=>{let e=0,t,r,a="";for(;e<i.length;)(t=i[e++])&&(r=s1(t))&&(a&&(a+=" "),a+=r);return a},s1=i=>{if(typeof i=="string")return i;let e,t="";for(let r=0;r<i.length;r++)i[r]&&(e=s1(i[r]))&&(t&&(t+=" "),t+=e);return t},uV=(i,...e)=>{let t,r,a,l;const c=m=>{const g=e.reduce((v,_)=>_(v),i());return t=sV(g),r=t.cache.get,a=t.cache.set,l=d,d(m)},d=m=>{const g=r(m);if(g)return g;const v=oV(m,t);return a(m,v),v};return l=c,(...m)=>l(lV(...m))},cV=[],Ft=i=>{const e=t=>t[i]||cV;return e.isThemeGetter=!0,e},a1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,o1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hV=/^\d+\/\d+$/,fV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,No=i=>hV.test(i),Le=i=>!!i&&!Number.isNaN(Number(i)),ys=i=>!!i&&Number.isInteger(Number(i)),$p=i=>i.endsWith("%")&&Le(i.slice(0,-1)),wr=i=>fV.test(i),yV=()=>!0,vV=i=>dV.test(i)&&!mV.test(i),l1=()=>!1,_V=i=>pV.test(i),EV=i=>gV.test(i),bV=i=>!me(i)&&!pe(i),wV=i=>rl(i,h1,l1),me=i=>a1.test(i),_a=i=>rl(i,f1,vV),Kp=i=>rl(i,xV,Le),kw=i=>rl(i,u1,l1),TV=i=>rl(i,c1,EV),Xh=i=>rl(i,d1,_V),pe=i=>o1.test(i),yu=i=>sl(i,f1),SV=i=>sl(i,CV),Pw=i=>sl(i,u1),AV=i=>sl(i,h1),RV=i=>sl(i,c1),Wh=i=>sl(i,d1,!0),rl=(i,e,t)=>{const r=a1.exec(i);return r?r[1]?e(r[1]):t(r[2]):!1},sl=(i,e,t=!1)=>{const r=o1.exec(i);return r?r[1]?e(r[1]):t:!1},u1=i=>i==="position"||i==="percentage",c1=i=>i==="image"||i==="url",h1=i=>i==="length"||i==="size"||i==="bg-size",f1=i=>i==="length",xV=i=>i==="number",CV=i=>i==="family-name",d1=i=>i==="shadow",IV=()=>{const i=Ft("color"),e=Ft("font"),t=Ft("text"),r=Ft("font-weight"),a=Ft("tracking"),l=Ft("leading"),c=Ft("breakpoint"),d=Ft("container"),m=Ft("spacing"),g=Ft("radius"),v=Ft("shadow"),_=Ft("inset-shadow"),w=Ft("text-shadow"),S=Ft("drop-shadow"),I=Ft("blur"),B=Ft("perspective"),V=Ft("aspect"),X=Ft("ease"),W=Ft("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],de=()=>[...se(),pe,me],ge=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],A=()=>[pe,me,m],x=()=>[No,"full","auto",...A()],k=()=>[ys,"none","subgrid",pe,me],L=()=>["auto",{span:["full",ys,pe,me]},ys,pe,me],j=()=>[ys,"auto",pe,me],N=()=>["auto","min","max","fr",pe,me],Pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],We=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...A()],oe=()=>[No,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],re=()=>[i,pe,me],Oe=()=>[...se(),Pw,kw,{position:[pe,me]}],qe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",AV,wV,{size:[pe,me]}],J=()=>[$p,yu,_a],ae=()=>["","none","full",g,pe,me],le=()=>["",Le,yu,_a],be=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Le,$p,Pw,kw],yt=()=>["","none",I,pe,me],Je=()=>["none",Le,pe,me],Vn=()=>["none",Le,pe,me],vi=()=>[Le,pe,me],ei=()=>[No,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wr],breakpoint:[wr],color:[yV],container:[wr],"drop-shadow":[wr],ease:["in","out","in-out"],font:[bV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wr],shadow:[wr],spacing:["px",Le],text:[wr],"text-shadow":[wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",No,me,pe,V]}],container:["container"],columns:[{columns:[Le,me,pe,d]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:de()}],overflow:[{overflow:ge()}],"overflow-x":[{"overflow-x":ge()}],"overflow-y":[{"overflow-y":ge()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[ys,"auto",pe,me]}],basis:[{basis:[No,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,No,"auto","initial","none",me]}],grow:[{grow:["",Le,pe,me]}],shrink:[{shrink:["",Le,pe,me]}],order:[{order:[ys,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Pe(),"normal"]}],"justify-items":[{"justify-items":[...We(),"normal"]}],"justify-self":[{"justify-self":["auto",...We()]}],"align-content":[{content:["normal",...Pe()]}],"align-items":[{items:[...We(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...We(),{baseline:["","last"]}]}],"place-content":[{"place-content":Pe()}],"place-items":[{"place-items":[...We(),"baseline"]}],"place-self":[{"place-self":["auto",...We()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[d,"screen",...oe()]}],"min-w":[{"min-w":[d,"screen","none",...oe()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...oe()]}],h:[{h:["screen","lh",...oe()]}],"min-h":[{"min-h":["screen","lh","none",...oe()]}],"max-h":[{"max-h":["screen","lh",...oe()]}],"font-size":[{text:["base",t,yu,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,pe,Kp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$p,me]}],"font-family":[{font:[SV,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,pe,me]}],"line-clamp":[{"line-clamp":[Le,"none",pe,Kp]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",pe,_a]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Le,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Oe()}],"bg-repeat":[{bg:qe()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ys,pe,me],radial:["",pe,me],conic:[ys,pe,me]},RV,TV]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,pe,me]}],"outline-w":[{outline:["",Le,yu,_a]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",v,Wh,Xh]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",_,Wh,Xh]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Le,_a]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",w,Wh,Xh]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Le,pe,me]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[pe,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":se()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Oe()}],"mask-repeat":[{mask:qe()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,me]}],filter:[{filter:["","none",pe,me]}],blur:[{blur:yt()}],brightness:[{brightness:[Le,pe,me]}],contrast:[{contrast:[Le,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",S,Wh,Xh]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Le,pe,me]}],"hue-rotate":[{"hue-rotate":[Le,pe,me]}],invert:[{invert:["",Le,pe,me]}],saturate:[{saturate:[Le,pe,me]}],sepia:[{sepia:["",Le,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":yt()}],"backdrop-brightness":[{"backdrop-brightness":[Le,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[Le,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",Le,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[Le,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[Le,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",pe,me]}],ease:[{ease:["linear","initial",X,pe,me]}],delay:[{delay:[Le,pe,me]}],animate:[{animate:["none",W,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[B,pe,me]}],"perspective-origin":[{"perspective-origin":de()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:Vn()}],"scale-x":[{"scale-x":Vn()}],"scale-y":[{"scale-y":Vn()}],"scale-z":[{"scale-z":Vn()}],"scale-3d":["scale-3d"],skew:[{skew:vi()}],"skew-x":[{"skew-x":vi()}],"skew-y":[{"skew-y":vi()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:de()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ei()}],"translate-x":[{"translate-x":ei()}],"translate-y":[{"translate-y":ei()}],"translate-z":[{"translate-z":ei()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Le,yu,_a,Kp]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NV=uV(IV);function m1(...i){return NV(F4(i))}const DV=({review:i,className:e,showEventTitle:t=!1})=>{const{t:r,i18n:a}=Wu(),l=c=>{try{return c.toDate().toLocaleDateString(a.language==="ko"?"ko-KR":"en-US")}catch{return""}};return D.jsxs("div",{className:m1("bg-white border border-gray-200 rounded-lg p-6 space-y-4",e),children:[D.jsxs("div",{className:"flex items-start space-x-3",children:[i.userPhoto?D.jsx("img",{src:i.userPhoto,alt:i.userName,className:"w-10 h-10 rounded-full object-cover"}):D.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:D.jsx("span",{className:"text-sm font-medium text-gray-600",children:i.userName?.charAt(0)||"U"})}),D.jsxs("div",{className:"flex-1",children:[D.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[D.jsx("span",{className:"font-medium text-gray-900",children:i.userName}),D.jsxs("div",{className:"flex items-center",children:["".repeat(i.rating),D.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",i.rating,"/5)"]})]})]}),D.jsxs("div",{className:"text-xs text-gray-500",children:[l(i.createdAt),i.updatedAt&&i.updatedAt!==i.createdAt&&D.jsxs("span",{children:["  ",r("review.edited","")]})]})]})]}),t&&D.jsxs("div",{className:"text-sm text-gray-600 border-l-2 border-blue-200 pl-3",children:[D.jsxs("span",{className:"font-medium",children:[r("review.eventTitle",":")," "]}),i.eventTitle]}),D.jsx("div",{className:"text-gray-700 leading-relaxed",children:i.content}),i.images&&i.images.length>0&&D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.images.map((c,d)=>D.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-100",children:D.jsx("img",{src:c,alt:`Review image ${d+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200 cursor-pointer",onClick:()=>window.open(c,"_blank")})},d))})]})},OV=()=>{const{id:i}=Mx(),e=Yu(),{t}=Wu(),{user:r}=yd(),{reviews:a,createReview:l,loading:c}=e1(i),[d,m]=U.useState(null),[g,v]=U.useState(!0),[_,w]=U.useState(!1),[S,I]=U.useState({rating:5,content:"",images:[]});U.useEffect(()=>{(async()=>{if(!i){e("/");return}try{v(!0);try{const se=await Dg.getEventDetail(i);if(se)m(se);else throw new Error("   ")}catch(se){console.log("  ,   :",se);try{const ge=(await Dg.getAllEvents({category:"all"})).find(C=>C.id===i);if(ge)m(ge);else{const A=[{id:"1",title:"   2024",category:"festival",date:"2024 12 7 ~ 12 10",startDate:"2024-12-07",endDate:"2024-12-10",place:" ",price:" ",image:"",description:"     .     ."},{id:"2",title:"   ",category:"performance",date:"2024 11 20 ~ 12 15",startDate:"2024-11-20",endDate:"2024-12-15",place:"",price:"30,000 ~ 80,000",image:"",description:"       ."},{id:"3",title:"  ",category:"exhibition",date:"2024 11 1 ~ 2025 1 31",startDate:"2024-11-01",endDate:"2025-01-31",place:"",price:"",image:"",description:"     ."}].find(x=>x.id===i);m(A||null)}}catch(de){console.error("   :",de),m(null)}}}catch(se){console.error("    :",se),m(null)}finally{v(!1)}})()},[i,e]);const B=async()=>{try{const G=window.location.href;await navigator.clipboard.writeText(G),at.success(t("message.urlCopied"))}catch(G){console.error("  :",G),at.error(t("message.linkCopyFailed"))}},V=async G=>{if(G.preventDefault(),!r){at.error(t("message.loginRequired"));return}if(!d){at.error(t("message.eventNotFound"));return}if(S.content.trim().length<10){at.error(t("message.reviewMinLength"));return}try{await l({eventId:d.id,eventTitle:d.title,rating:S.rating,content:S.content.trim(),images:[]}),at.success(t("message.reviewCreated")),w(!1),I({rating:5,content:"",images:[]})}catch(se){console.error("  :",se),at.error(t("message.reviewCreateFailed"))}};if(g)return D.jsx("div",{className:"container mx-auto px-4 py-8",children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),D.jsx("p",{className:"mt-2",children:t("eventDetail.loading")})]})});if(!d)return D.jsx("div",{className:"container mx-auto px-4 py-8",children:D.jsxs("div",{className:"text-center",children:[D.jsx("h1",{className:"text-2xl font-bold mb-4",children:t("eventDetail.notFound")}),D.jsx("button",{onClick:()=>e("/"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:t("eventDetail.backToHome")})]})});const X=G=>{switch(G){case"tourist":return"";case"culture":return"";case"festival":return"";case"travel":return"";default:return""}},W=G=>{switch(G){case"tourist":return"bg-blue-100 text-blue-800";case"culture":return"bg-green-100 text-green-800";case"festival":return"bg-purple-100 text-purple-800";case"travel":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return D.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[D.jsxs("button",{onClick:()=>e(-1),className:"mb-6 flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[D.jsx("span",{className:"mr-2",children:""}),t("eventDetail.back")]}),D.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[D.jsxs("div",{className:"relative aspect-[2/1] bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center",children:[d.image&&d.image!==""?D.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover",onError:G=>{G.currentTarget.style.display="none";const se=document.createElement("div");se.className="flex flex-col items-center justify-center text-blue-400 p-8",se.innerHTML=`
                  <svg class="w-16 h-16 mb-3" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                  </svg>
                  <span class="text-lg font-semibold text-center">${d.title}</span>
                `,G.currentTarget.parentElement.appendChild(se)}}):D.jsxs("div",{className:"flex flex-col items-center justify-center text-blue-400 p-8",children:[D.jsx("svg",{className:"w-16 h-16 mb-3",fill:"currentColor",viewBox:"0 0 20 20",children:D.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),D.jsx("span",{className:"text-lg font-semibold text-center",children:d.title})]}),D.jsx("div",{className:"absolute top-3 left-3",children:D.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${W(d.category)}`,children:X(d.category)})})]}),D.jsxs("div",{className:"p-6",children:[D.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:d.title}),D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center text-gray-600",children:[D.jsx("span",{className:"mr-2",children:""}),D.jsx("p",{className:"text-base",children:d.place})]}),D.jsxs("button",{onClick:B,className:"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:[D.jsx("span",{className:"mr-1",children:""}),t("eventDetail.share")]})]})]})]}),D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:t("eventDetail.reviewsTitle")}),D.jsx("p",{className:"text-gray-500",children:t("eventDetail.reviewsCount",{count:a?.filter(G=>G.eventId===d.id).length||0})})]}),r&&D.jsx("button",{onClick:()=>w(!_),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition-colors font-medium text-lg shadow-sm",children:t(_?"button.cancel":"eventDetail.writeReviewButton")})]}),_&&D.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t("eventDetail.reviewForm.title")}),D.jsxs("form",{onSubmit:V,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("eventDetail.reviewForm.rating")}),D.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(G=>D.jsx("button",{type:"button",onClick:()=>I(se=>({...se,rating:G})),className:`text-2xl ${G<=S.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:""},G)),D.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",S.rating,"/5)"]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("eventDetail.reviewForm.content")}),D.jsx("textarea",{value:S.content,onChange:G=>I(se=>({...se,content:G.target.value})),placeholder:t("eventDetail.reviewForm.contentPlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,required:!0,minLength:10}),D.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[S.content.length,"/500 (",t("eventDetail.reviewForm.minLength"),")"]})]}),D.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[D.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:t("eventDetail.reviewForm.cancel")}),D.jsx("button",{type:"submit",disabled:S.content.trim().length<10,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg transition-colors",children:t("eventDetail.reviewForm.submit")})]})]})]}),D.jsx("div",{className:"space-y-6",children:c?D.jsxs("div",{className:"text-center py-8",children:[D.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),D.jsx("p",{className:"mt-2 text-gray-500",children:t("eventDetail.reviewsLoading")})]}):D.jsx(D.Fragment,{children:(a?.filter(G=>G.eventId===d.id).length||0)===0?D.jsxs("div",{className:"text-center py-16",children:[D.jsx("div",{className:"text-8xl mb-6",children:""}),D.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:t("eventDetail.noReviewsTitle")}),D.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:t("eventDetail.noReviewsSubtitle")}),!r&&D.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:D.jsx("p",{className:"text-blue-700 font-medium",children:t("eventDetail.loginRequiredForReview")})})]}):(a||[]).filter(G=>G.eventId===d.id).map(G=>D.jsx(DV,{review:G},G.id))})})]})]})},kV=({isOpen:i,onClose:e,title:t,children:r,size:a="md",className:l})=>{const c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return U.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),U.useEffect(()=>{const d=m=>{m.key==="Escape"&&e()};return i&&document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[i,e]),i?D.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),D.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:D.jsxs("div",{className:m1("relative bg-white rounded-xl shadow-xl w-full",c[a],l),onClick:d=>d.stopPropagation(),children:[t&&D.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t}),D.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:D.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsx("div",{className:"p-6",children:r})]})})]}):null},PV=({isOpen:i,onClose:e,review:t,onUpdate:r})=>{const[a,l]=U.useState(t.rating),[c,d]=U.useState(t.content),[m,g]=U.useState(!1),v=async w=>{if(w.preventDefault(),c.trim().length<10){at.error("  10  ");return}if(c.trim()===t.content&&a===t.rating){at.error("  ");return}try{g(!0),await r(t.id,{rating:a,content:c.trim()}),at.success(" "),e()}catch(S){console.error("  :",S),at.error("  .  ")}finally{g(!1)}},_=()=>{m||e()};return D.jsx(kV,{isOpen:i,onClose:_,children:D.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[D.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" "}),D.jsxs("form",{onSubmit:v,className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("p",{className:"text-gray-900 font-semibold",children:t.eventTitle})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(w=>D.jsx("button",{type:"button",onClick:()=>l(w),disabled:m,className:`text-3xl ${w<=a?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors disabled:cursor-not-allowed`,children:""},w)),D.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",a,"/5)"]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( 10)"}),D.jsx("textarea",{value:c,onChange:w=>d(w.target.value),placeholder:"   ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",rows:6,required:!0,minLength:10,maxLength:500,disabled:m}),D.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[c.length,"/500 ( 10 )"]})]}),t.images&&t.images.length>0&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),D.jsx("div",{className:"flex flex-wrap gap-2",children:t.images.map((w,S)=>D.jsx("img",{src:w,alt:`  ${S+1}`,className:"w-20 h-20 object-cover rounded-lg"},S))}),D.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*      "})]}),D.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[D.jsx("button",{type:"button",onClick:_,disabled:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""}),D.jsx("button",{type:"submit",disabled:m||c.trim().length<10,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg transition-colors",children:m?" ...":" "})]})]})]})})},LV=()=>{const{t:i}=Wu(),e=Yu(),{user:t}=yd(),{userReviews:r,loading:a,deleteReview:l,updateReview:c,refreshReviews:d}=e1(),[m,g]=U.useState(null);if(U.useEffect(()=>{t||e("/")},[t,e]),!t)return D.jsx("div",{className:"container mx-auto px-4 py-8",children:D.jsxs("div",{className:"text-center py-16",children:[D.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("myPage.loginRequired")}),D.jsx("p",{className:"text-gray-600 mb-6",children:i("myPage.loginMessage")}),D.jsx("button",{onClick:()=>e("/"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg",children:i("eventDetail.backToHome")})]})});const v=async(w,S)=>{if(window.confirm("   ?"))try{await l(w,S),at.success(" "),await d()}catch(I){console.error("  :",I),at.error("  ")}},_=async(w,S)=>{try{await c(w,S),at.success(" "),g(null),await d()}catch(I){console.error("  :",I),at.error("  ")}};return D.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[D.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:D.jsxs("div",{className:"flex items-center space-x-4",children:[t.photoURL&&D.jsx("img",{src:t.photoURL,alt:t.displayName||"",className:"w-16 h-16 rounded-full"}),D.jsxs("div",{children:[D.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[t.displayName||i("common.user",""),i("myPage.title")]}),D.jsx("p",{className:"text-gray-600",children:t.email})]})]})}),D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[D.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:i("myPage.myReviews")}),a?D.jsxs("div",{className:"text-center py-8",children:[D.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),D.jsx("p",{className:"mt-2 text-gray-500",children:i("myPage.reviewsLoading")})]}):!r||r.length===0?D.jsxs("div",{className:"text-center py-12",children:[D.jsx("div",{className:"text-6xl mb-4",children:""}),D.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i("myPage.noReviewsTitle")}),D.jsx("p",{className:"text-gray-600 mb-4",children:i("myPage.noReviewsMessage")}),D.jsx("button",{onClick:()=>e("/"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg",children:i("myPage.browseEvents")})]}):D.jsx("div",{className:"space-y-6",children:(r||[]).map(w=>D.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[D.jsxs("div",{className:"flex justify-between items-start mb-4",children:[D.jsxs("div",{children:[D.jsx("h3",{onClick:()=>e(`/events/${w.eventId}`),className:"font-semibold text-lg text-blue-600 hover:text-blue-800 cursor-pointer",children:w.eventTitle}),D.jsxs("div",{className:"flex items-center mt-1",children:[D.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((S,I)=>D.jsx("span",{children:I<w.rating?"":""},I))}),D.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[w.rating,"/5"]})]})]}),D.jsxs("div",{className:"flex space-x-2",children:[D.jsx("button",{onClick:()=>g(w),className:"text-blue-600 hover:text-blue-800 text-sm",children:i("button.edit")}),D.jsx("button",{onClick:()=>v(w.id,w.images),className:"text-red-600 hover:text-red-800 text-sm",children:i("button.delete")})]})]}),D.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:w.content}),w.images&&w.images.length>0&&D.jsx("div",{className:"flex space-x-2 mb-4",children:w.images.map((S,I)=>D.jsx("img",{src:S,alt:`  ${I+1}`,className:"w-20 h-20 object-cover rounded"},I))}),D.jsxs("div",{className:"text-xs text-gray-500",children:[i("myPage.writtenOn"),": ",w.createdAt?.toDate?.()?.toLocaleDateString()||"  ",w.updatedAt&&w.updatedAt!==w.createdAt&&D.jsxs("span",{className:"ml-2",children:["(",i("myPage.edited"),": ",w.updatedAt?.toDate?.()?.toLocaleDateString(),")"]})]})]},w.id))})]}),m&&D.jsx(PV,{isOpen:!!m,onClose:()=>g(null),review:m,onUpdate:_})]})},{slice:MV,forEach:VV}=[];function UV(i){return VV.call(MV.call(arguments,1),e=>{if(e)for(const t in e)i[t]===void 0&&(i[t]=e[t])}),i}function jV(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(i))}const Lw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zV=function(i,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${i}=${a}`;if(r.maxAge>0){const c=r.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(r.domain){if(!Lw.test(r.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${r.domain}`}if(r.path){if(!Lw.test(r.path))throw new TypeError("option path is invalid");l+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(l+="; Partitioned"),l},Mw={create(i,e,t,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),r&&(a.domain=r),document.cookie=zV(i,e,a)},read(i){const e=`${i}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let a=t[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(i,e){this.create(i,"",-1,e)}};var BV={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return Mw.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&Mw.create(t,i,r,a,l)}},FV={name:"querystring",lookup(i){let{lookupQuerystring:e}=i,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const l=r.substring(1).split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(t=l[c].substring(d+1))}}return t}},qV={name:"hash",lookup(i){let{lookupHash:e,lookupFromHashIndex:t}=i,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const c=l.split("&");for(let d=0;d<c.length;d++){const m=c[d].indexOf("=");m>0&&c[d].substring(0,m)===e&&(r=c[d].substring(m+1))}}if(r)return r;if(!r&&t>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let Do=null;const Vw=()=>{if(Do!==null)return Do;try{if(Do=typeof window<"u"&&window.localStorage!==null,!Do)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{Do=!1}return Do};var HV={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&Vw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:t}=e;t&&Vw()&&window.localStorage.setItem(t,i)}};let Oo=null;const Uw=()=>{if(Oo!==null)return Oo;try{if(Oo=typeof window<"u"&&window.sessionStorage!==null,!Oo)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{Oo=!1}return Oo};var GV={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&Uw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:t}=e;t&&Uw()&&window.sessionStorage.setItem(t,i)}},$V={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},KV={name:"htmlTag",lookup(i){let{htmlTag:e}=i,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},YV={name:"path",lookup(i){let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},QV={name:"subdomain",lookup(i){let{lookupFromSubdomainIndex:e}=i;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let p1=!1;try{document.cookie,p1=!0}catch{}const g1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];p1||g1.splice(1,1);const XV=()=>({order:g1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class y1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=UV(t,this.options||{},XV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(BV),this.addDetector(FV),this.addDetector(HV),this.addDetector(GV),this.addDetector($V),this.addDetector(KV),this.addDetector(YV),this.addDetector(QV),this.addDetector(qV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(r=>r!=null&&!jV(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}y1.type="languageDetector";const WV={ko:{translation:{"nav.home":"","nav.mypage":"","nav.reviews":" ","nav.login":"","nav.logout":"","category.all":"","category.tourist":"","category.culture":"","category.festival":"","category.travel":"","filter.all":"","filter.ongoing":"","filter.upcoming":"","filter.ended":"","filter.searchPlaceholder":" ...","filter.reset":"","sort.latest":"","sort.dateAsc":"","sort.popular":"","button.bookmark":"","button.addBookmark":" ","button.removeBookmark":" ","button.share":"","button.writeReview":" ","button.edit":"","button.delete":"","button.submit":"","button.cancel":"","button.save":"","event.date":" ","event.location":"","event.price":"","event.freeAdmission":"","event.description":" ","event.status.ongoing":"","event.status.upcoming":"","event.status.ended":"","review.title":"","review.writeTitle":" ","review.editTitle":" ","review.deleteTitle":" ","review.deleteConfirm":"   ?     .","review.rating":"","review.content":" ","review.images":"","review.eventTitle":"","review.edited":"","message.loginRequired":"  ","message.bookmarkAdded":" ","message.bookmarkRemoved":" ","message.reviewCreated":" ","message.reviewUpdated":" ","message.reviewDeleted":" ","message.shareSuccess":"URL  ","message.shareError":"  ","message.error":" ","message.noResults":"  ","message.eventNotFound":"    ","message.reviewMinLength":"  10  ","message.reviewCreateFailed":"  ","message.maxImageLimit":" {{count}}    ","empty.noEvents":" ","empty.noBookmarks":"  ","empty.noReviews":"  ","home.title":"  ","home.subtitle":"       ","home.loading":"  ...","home.loadingTitle":" ","home.retryButton":"API  ","home.viewDetails":" ","home.imageAlt":"","home.dataSource":"","home.apiProject":" API   ","home.apiEndpoints":"API : searchFestival2, areaBasedList2, searchKeyword2","home.dataProvider":" :  | : (data.go.kr)","home.apiDescription":" API        ","eventDetail.loading":"   ...","eventDetail.notFound":"   ","eventDetail.backToHome":" ","eventDetail.back":"","eventDetail.detailInfo":" ","eventDetail.date":"","eventDetail.location":"","eventDetail.price":"","eventDetail.contact":"","eventDetail.share":"","eventDetail.reviewCount":"","eventDetail.writeReview":" ","eventDetail.reviewForm.title":" ","eventDetail.reviewForm.rating":"","eventDetail.reviewForm.content":"  ( 10)","eventDetail.reviewForm.contentPlaceholder":"   ...","eventDetail.reviewForm.images":"  ( 3)","eventDetail.reviewForm.submit":" ","eventDetail.reviewForm.cancel":"","eventDetail.reviewForm.minLength":" 10 ","eventDetail.noReviews.title":"  ","eventDetail.noReviews.subtitle":"      ","eventDetail.noReviews.loginRequired":"    ","eventDetail.reviewsLoading":"  ...","eventDetail.reviewsTitle":" ","eventDetail.reviewsCount":" {{count}}  ","eventDetail.writeReviewButton":" ","eventDetail.noReviewsTitle":"   !","eventDetail.noReviewsSubtitle":"      .","eventDetail.loginRequiredForReview":"    ","common.user":"","myPage.title":"","myPage.loginRequired":" ","myPage.loginMessage":"   ","myPage.myReviews":"  ","myPage.reviewsLoading":"   ...","myPage.noReviewsTitle":"  ","myPage.noReviewsMessage":"    ","myPage.browseEvents":" ","myPage.edited":"","myPage.writtenOn":"","footer.description":"          .","footer.links":"","footer.kopis":"","footer.openData":"","footer.daegu":"","footer.techStack":" ","footer.rights":"    "}},en:{translation:{"nav.home":"Home","nav.mypage":"My Page","nav.reviews":"My Reviews","nav.login":"Login","nav.logout":"Logout","category.all":"All","category.tourist":"Tourist Attractions","category.culture":"Cultural Facilities","category.festival":"Festivals & Events","category.travel":"Travel Courses","filter.all":"All","filter.ongoing":"Ongoing","filter.upcoming":"Upcoming","filter.ended":"Ended","filter.searchPlaceholder":"Search events...","filter.reset":"Reset","sort.latest":"Latest","sort.dateAsc":"Date","sort.popular":"Popular","button.bookmark":"Bookmark","button.addBookmark":"Add Bookmark","button.removeBookmark":"Remove Bookmark","button.share":"Share","button.writeReview":"Write Review","button.edit":"Edit","button.delete":"Delete","button.submit":"Submit","button.cancel":"Cancel","button.save":"Save","event.date":"Event Date","event.location":"Location","event.price":"Price","event.freeAdmission":"Free","event.description":"Description","event.status.ongoing":"Ongoing","event.status.upcoming":"Upcoming","event.status.ended":"Ended","review.title":"Reviews","review.writeTitle":"Write Review","review.editTitle":"Edit Review","review.deleteTitle":"Delete Review","review.deleteConfirm":"Are you sure you want to delete this review? This action cannot be undone.","review.rating":"Rating","review.content":"Review Content","review.images":"Photos","review.eventTitle":"Event","review.edited":"Edited","message.loginRequired":"Login required","message.bookmarkAdded":"Added to bookmarks","message.bookmarkRemoved":"Removed from bookmarks","message.reviewCreated":"Review created","message.reviewUpdated":"Review updated","message.reviewDeleted":"Review deleted","message.shareSuccess":"URL copied to clipboard","message.shareError":"Failed to copy link","message.error":"An error occurred","message.noResults":"No results found","message.eventNotFound":"Event information not found","message.reviewMinLength":"Please write at least 10 characters","message.reviewCreateFailed":"Failed to create review","message.maxImageLimit":"You can upload up to {{count}} images","empty.noEvents":"No events found","empty.noBookmarks":"No bookmarked events","empty.noReviews":"No reviews written","home.title":"Daegu Cultural Events","home.subtitle":"Discover various cultural events and facilities in Daegu","home.loading":"Loading data...","home.loadingTitle":"Please wait a moment","home.retryButton":"Retry API Connection","home.viewDetails":"View Details","home.imageAlt":"Image","home.dataSource":"Public Data","home.apiProject":"Public Data Portal Multiple API Integration Project","home.apiEndpoints":"API Endpoints: searchFestival2, areaBasedList2, searchKeyword2","home.dataProvider":"Data Provider: Korea Tourism Organization | Source: Public Data Portal (data.go.kr)","home.apiDescription":"Providing stable Daegu event information after real-time API connection attempts","eventDetail.loading":"Loading event information...","eventDetail.notFound":"Event not found","eventDetail.backToHome":"Back to Home","eventDetail.back":"Back","eventDetail.detailInfo":"Details","eventDetail.date":"Date","eventDetail.location":"Location","eventDetail.price":"Price","eventDetail.contact":"Contact","eventDetail.share":"Share","eventDetail.reviewCount":"Reviews","eventDetail.writeReview":"Write Review","eventDetail.reviewForm.title":"Write Review","eventDetail.reviewForm.rating":"Rating","eventDetail.reviewForm.content":"Review Content (minimum 10 characters)","eventDetail.reviewForm.contentPlaceholder":"Please write your review about the event...","eventDetail.reviewForm.images":"Attach Photos (maximum 3 photos)","eventDetail.reviewForm.submit":"Submit Review","eventDetail.reviewForm.cancel":"Cancel","eventDetail.reviewForm.minLength":"Minimum 10 characters required","eventDetail.noReviews.title":"No reviews yet","eventDetail.noReviews.subtitle":"Be the first to write a review for this event","eventDetail.noReviews.loginRequired":"Login required to write a review","eventDetail.reviewsLoading":"Loading reviews...","eventDetail.reviewsTitle":"Visit Reviews","eventDetail.reviewsCount":"Total {{count}} reviews","eventDetail.writeReviewButton":"Write Review","eventDetail.noReviewsTitle":"Write the first review!","eventDetail.noReviewsSubtitle":"Share your valuable review to help other visitors.","eventDetail.loginRequiredForReview":"Login required to write a review","common.user":"User","myPage.title":"","myPage.loginRequired":"Login Required","myPage.loginMessage":"Please log in to use the review features","myPage.myReviews":"My Reviews","myPage.reviewsLoading":"Loading reviews...","myPage.noReviewsTitle":"No reviews written","myPage.noReviewsMessage":"Write reviews for events you've attended","myPage.browseEvents":"Browse Events","myPage.edited":"Edited","myPage.writtenOn":"Written on","footer.description":"A platform to discover and manage cultural events in Daegu region.","footer.links":"Links","footer.kopis":"Korea Performing Arts Information System","footer.openData":"Public Data Portal","footer.daegu":"Daegu Metropolitan City","footer.techStack":"Tech Stack","footer.rights":"Daegu Software Meister High School Web Programming Performance Assessment Project"}}};mn.use(y1).use(XI).init({resources:WV,fallbackLng:"ko",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});function JV(){const i=Ls(),e=Yu(),{t,i18n:r}=Wu(),{user:a,logout:l}=yd(),[c,d]=U.useState(!1),m=_=>i.pathname===_,g=()=>{const _=r.language==="ko"?"en":"ko";r.changeLanguage(_),localStorage.setItem("language",_),at.success(_==="ko"?" ":"Language changed to English")},v=async()=>{if(a)try{await l(),at.success(""),e("/"),setTimeout(()=>{window.location.reload()},750)}catch(_){console.error(" :",_),at.error(" ")}else d(!0)};return D.jsxs("nav",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:[D.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"flex justify-between h-16",children:[D.jsxs("div",{className:"flex items-center space-x-8",children:[D.jsx(Su,{to:"/",className:"text-xl font-bold text-blue-600 hover:text-blue-800 transition-colors",children:"DaeguCulture"}),D.jsxs("div",{className:"hidden md:flex space-x-4",children:[D.jsx(Su,{to:"/",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m("/")?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:t("nav.home")}),a&&D.jsx(Su,{to:"/my-page",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m("/my-page")?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:t("nav.mypage")})]})]}),D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsx("button",{onClick:g,className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:r.language==="ko"?" EN":" KO"}),a?D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[a.photoURL&&D.jsx("img",{src:a.photoURL,alt:a.displayName||"",className:"w-8 h-8 rounded-full"}),D.jsx("span",{className:"text-sm text-gray-700 hidden md:block",children:a.displayName})]}),D.jsx("button",{onClick:v,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md transition-colors text-sm",children:t("nav.logout")})]}):D.jsx("button",{onClick:v,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors text-sm",children:t("nav.login")})]})]})}),D.jsx(M4,{isOpen:c,onClose:()=>d(!1),onLoginSuccess:()=>{d(!1)}})]})}function ZV(){return D.jsx(L4,{children:D.jsxs(EC,{children:[D.jsxs("div",{className:"min-h-screen bg-gray-50",children:[D.jsx(JV,{}),D.jsx("main",{children:D.jsxs(Wx,{children:[D.jsx(Jh,{path:"/",element:D.jsx(z4,{})}),D.jsx(Jh,{path:"/events/:id",element:D.jsx(OV,{})}),D.jsx(Jh,{path:"/my-page",element:D.jsx(LV,{})})]})})]}),D.jsx(yI,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"14px",fontWeight:"500",padding:"12px 20px",borderRadius:"8px"},success:{style:{background:"#10b981",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#10b981"}},error:{style:{background:"#ef4444",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#ef4444"}}}})]})})}const e6="modulepreload",t6=function(i){return"/daegu-culture/"+i},jw={},n6=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(t.map(v=>{if(v=t6(v),v in jw)return;jw[v]=!0;const _=v.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":e6,_||(S.as="script"),S.crossOrigin="",S.href=v,m&&S.setAttribute("nonce",m),document.head.appendChild(S),_)return new Promise((I,B)=>{S.addEventListener("load",I),S.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})};function i6(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:a,onRegisteredSW:l,onRegisterError:c}=i;let d,m;const g=async(_=!0)=>{await m};async function v(){if("serviceWorker"in navigator){if(d=await n6(async()=>{const{Workbox:_}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:_}},[]).then(({Workbox:_})=>new _("/daegu-culture/sw.js",{scope:"/daegu-culture/",type:"classic"})).catch(_=>{c?.(_)}),!d)return;d.addEventListener("activated",_=>{(_.isUpdate||_.isExternal)&&window.location.reload()}),d.addEventListener("installed",_=>{_.isUpdate||r?.()}),d.register({immediate:e}).then(_=>{l?l("/daegu-culture/sw.js",_):a?.(_)}).catch(_=>{c?.(_)})}}return m=v(),g}sx.createRoot(document.getElementById("root")).render(D.jsx(U.StrictMode,{children:D.jsx(ZV,{})}));i6({onNeedRefresh(){console.log("  .")},onOfflineReady(){console.log("  .")}});
